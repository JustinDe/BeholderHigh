!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(){var c;c=a("bluebird"),b.exports=function(){var a;return a={},{getItem:function(b){return c.resolve(a[b])},setItem:function(b,d){return a[b]=d,c.resolve()},removeItem:function(b){return a[b]=null,c.resolve()}}}}).call(this)},{bluebird:203}],2:[function(a,b,c){(function(){var c;c=a("bluebird"),b.exports=function(b,d,e){var f,g,h,i,j,k,l,m,n;return h=a("debug")("ag-data:cached-property:"+b),null==e&&(e=function(){return(new Date).getTime()}),k=function(a){return""+b+"("+JSON.stringify(a||null)+")"},l=function(a){return""+a+"[meta]"},j=function(a,b){var c;return null==(null!=b?b.timeToLive:void 0)?!1:null==(null!=a?a.lastUpdated:void 0)?!1:(c=e()-a.lastUpdated,c<b.timeToLive)},f=function(a){return function(b){return d.getItem(a).then(function(d){return null!=d?d:(h(""+a+" is absent, computing..."),c.resolve(b()).then(n(a)))})}},g=function(a,b){return function(e){return d.getItem(l(a)).then(function(f){return j(f,{timeToLive:b})?d.getItem(a):(h(""+a+" is invalid, computing..."),c.resolve(e()).then(n(a)))})}},n=function(a){return function(b){return d.setItem(a,b).then(function(){return d.setItem(l(a),{lastUpdated:e()}).then(function(){return b})})}},i=function(a){return function(b){return c.resolve(b()).then(function(b){return d.removeItem(l(a)).then(function(){return h(""+a+" invalidated"),b})})}},m=function(a,b){var c,d,e;return c=k(a),d=null!=(e=null!=b?b.timeToLive:void 0)?e:1e4,{computeIfAbsent:f(c),computeUnlessValid:g(c,d),set:n(c),invalidateIfSuccessful:i(c),timeToLive:d}},{prop:m,namespace:b,storage:d,time:e}}}).call(this)},{bluebird:203,debug:39}],3:[function(a,b,c){(function(){var c,d,e,f,g;g=a("ag-restful")(a("bluebird")),f=a("ag-resource-loader-json")(g),c=a("./model/build-model-class"),d=a("./resource/configure-features")(g),b.exports=e={storages:{memory:a("./cache/async-key-value-storage")},loadResourceBundle:function(a){var b;return b=f.loadResourceBundle(a),{createModel:function(a,c){var d;return null==c&&(c={}),d=b.createResource(a),e.createModel(d,c)}}},createModel:function(a,b){return null==b&&(b={}),a=d(a,b),c(a,b)}}}).call(this)},{"./cache/async-key-value-storage":1,"./model/build-model-class":4,"./resource/configure-features":10,"ag-resource-loader-json":12,"ag-restful":23,bluebird:203}],4:[function(a,b,c){(function(){b.exports=function(b,c){var d,e,f;return e=a("./model-ops")(b),d=function(){function a(a){Object.defineProperties(this,e.modelInstanceProperties(a))}return a}(),f=a("./resource-gateway")(b,e,d,c),Object.defineProperties(d,e.modelClassProperties(f)),Object.defineProperties(d.prototype,e.modelPrototypeProperties(f)),d}}).call(this)},{"./model-ops":7,"./resource-gateway":8}],5:[function(a,b,c){(function(){var c,d,e,f=[].slice;d=a("bluebird"),c=a("baconjs"),e=a("deep-equal"),b.exports=function(a){var b;return null==a&&(a=1e4),b=function(b){return{follow:function(){var g,h,i,j,k,l,m,n;return g=2<=arguments.length?f.call(arguments,0,l=arguments.length-1):(l=0,[]),h=arguments[l++],null==h&&(h={}),i=null!=(m=h.poll)?m:c.interval(null!=(n=h.interval)?n:a,!0).startWith(!0),j=i.flatMapFirst(function(){return c.fromPromise(d.resolve(b.apply(null,g)))}),k=function(a){var b;return j.skipDuplicates(null!=(b=h.equals)?b:e).onValue(a)},{updates:j,whenChanged:k,target:b}}}},{defaultInterval:a,fromPromiseF:b}}}).call(this)},{baconjs:202,bluebird:203,"deep-equal":204}],6:[function(a,b,c){(function(){var c,d;c=a("deep-equal"),b.exports=d=function(a){return function(b){try{return c(a.toJson(),b.toJson())}catch(d){return!1}}}}).call(this)},{"deep-equal":204}],7:[function(a,b,c){(function(){var c,d,e,f;c=a("bluebird"),f={defaults:a("lodash-node/modern/object/defaults")},d=a("./jsonable-equality"),e=function(a){return Object.keys(a||{}).length},b.exports=function(a){var b;return b={modelClassProperties:function(b){var c,d,e,f;d={resource:{enumerable:!0,get:function(){return a}},schema:{enumerable:!0,get:function(){return{fields:a.schema.fields,identifier:a.schema.identifier}}}},f=function(a,b){return d[a]={enumerable:!0,get:function(){return b}}};for(c in b)e=b[c],f(c,e);return d},modelPrototypeProperties:function(a){return{save:{enumerable:!1,get:function(){return b.save}},"delete":{enumerable:!1,get:function(){return b["delete"]}},whenChanged:{enumerable:!1,get:function(){return function(b,c){return null==c&&(c={}),a.one(this.id,c).whenChanged(b)}}},equals:{enumerable:!1,get:function(){return d(this)}},toJson:{enumerable:!1,get:function(){return function(a){return function(){return a.__data}}(this)}}}},modelInstanceProperties:function(){var b,c,d,f;return c=function(a){return{__state:"new",__data:a,__changed:{},__dirty:e(a)>0}},f=function(a){var b,c,d,e;c={},e=function(b){return c[b]={enumerable:!1,get:function(){return a[b]},set:function(c){return a[b]=c}}};for(b in a)d=a[b],e(b);return c},d=function(a){return{get:function(){var b;return null!=(b=this.__data)?b[a]:void 0},enumerable:!0}},b=function(a,b,c){var d,e;for(d in b)e=b[d],d!==c&&!function(b){return null!=a[b]?a[b]:a[b]={get:function(){return this.__data[b]},set:function(a){return this.__data[b]=a,this.__dirty=!0,this.__changed[b]=!0},enumerable:!0}}(d);return a},function(e){var g,h;return g=c(e),h=f(g),null!=a.schema.identifier&&(h.id=d(a.schema.identifier)),b(h,a.schema.fields,a.schema.identifier)}}(),markAsPersisted:function(a){return a.__dirty=!1,a.__state="persisted",null},markAsDirty:function(b){var c,d,e;b.__dirty=!0,e=b.__data;for(c in e)d=e[c],c!==a.schema.identifier&&(b.__changed[c]=!0);return null},markAsDeleted:function(b){return b.__state="deleted",null!=a.schema.identifier&&delete b[a.schema.identifier],null},markAsNewed:function(a,b){return a.__data=b,a.__dirty=!1,a.__changed={},a.__state="persisted",null},markAsSynced:function(a,b){return a.__data=f.defaults(b,a.__data),a.__dirty=!1,a.__changed={},null},collectChanges:function(a){var b,c,d,e;b={},e=a.__changed;for(d in e)c=e[d],c&&(b[d]=a.__data[d]);return b},save:function(){var d;switch(this.__state){case"deleted":return c.reject(new Error("Will not save a deleted instance"));case"new":return a.create(this.__data).then(function(a){return function(c){return b.markAsNewed(a,c),a}}(this));case"persisted":return d=this.__dirty?b.collectChanges(this):{},a.update(this.id,d).then(function(a){return function(c){return b.markAsSynced(a,c),a}}(this))}},"delete":function(){switch(this.__state){case"deleted":return c.reject(new Error("Will not delete an instance that is already deleted"));case"new":return c.reject(new Error("Will not delete an instance that is not persistent"));case"persisted":return a["delete"](this.id).then(function(a){return function(){return b.markAsDeleted(a),a}}(this))}}}}}).call(this)},{"./jsonable-equality":6,bluebird:203,"lodash-node/modern/object/defaults":129}],8:[function(a,b,c){(function(){var c,d,e,f,g,h=[].slice;d=a("bluebird"),c=a("baconjs"),g=a("./jsonable-equality"),f=a("./followable")(e=1e4),b.exports=function(a,b,c,e){var i;return i=function(){var j,k,l;return l=function(a){var d;return d=new c(a),b.markAsPersisted(d),d},j=function(a){var b,c;return b=function(){var b,d,e;for(e=[],b=0,d=a.length;d>b;b++)c=a[b],e.push(l(c));return e}(),b.save=function(){var a;return d.all(function(){var b,c,d;for(d=[],b=0,c=this.length;c>b;b++)a=this[b],d.push(a.save());return d}.call(this))},b.equals=g(b),b.toJson=function(){var a,c,d,e;for(e=[],c=0,d=b.length;d>c;c++)a=b[c],e.push(a.toJson());return e},b},k=function(a){return function(b){return b.whenChanged=function(b,c){return null==c&&(c={}),i.all(a,c).whenChanged(b)},b}},{find:function(b){return a.find(b).then(l)},findAll:function(b){return null==b&&(b={}),a.findAll(b).then(j).then(k(b))},all:function(a,b){return null==b&&(b={}),null==b.equals&&(b.equals=function(a,b){return null!=a&&"function"==typeof a.equals?a.equals(b):void 0}),f.fromPromiseF(function(){return i.findAll(a)}).follow(b)},one:function(a,b){return null==b&&(b={}),null==b.equals&&(b.equals=function(a,b){return null!=a&&"function"==typeof a.equals?a.equals(b):void 0}),f.fromPromiseF(function(){return i.find(a)}).follow(b)},options:function(){return"function"==typeof a.setOptions&&a.setOptions(e),("function"==typeof a.getOptions?a.getOptions():void 0)||{}}(),fromJson:function(a){var c;return c=l(a),b.markAsDirty(c),c},create:function(){var b;return b=1<=arguments.length?h.call(arguments,0):[],a.create.apply(a,b).then(l)},update:function(){var b;return b=1<=arguments.length?h.call(arguments,0):[],a.update.apply(a,b).then(l)}}}()}}).call(this)},{"./followable":5,"./jsonable-equality":6,baconjs:202,bluebird:203}],9:[function(a,b,c){(function(){var c,d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},j=[].slice;c=a("baconjs"),d=a("bluebird"),e=a("../cache/async-key-value-storage"),g=a("../cache/property-cache"),b.exports=f=function(b,c){var d,f,h,k,l,m;return null==c&&(c={}),h=a("debug")("ag-data:resource:caching:"+b.name),m=function(){switch(!1){case null==c.timeToLive:return c.timeToLive;default:return 1e4}}(),l=function(){switch(!1){case null==c.storage:return c.storage;default:return e()}}(),f=g("collections-"+b.name,l),k=g("records-"+b.name,l),h("Resource '"+b.name+"' cache configured:",{timeToLive:m,collectionCacheNamespace:f.namespace,instanceCacheNamespace:k.namespace}),d=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return i(c,a),c.find=function(a){return k.prop(a,{timeToLive:m}).computeUnlessValid(function(){return b.find(a)})},c.findAll=function(a){return null==a&&(a={}),f.prop(a,{timeToLive:m}).computeUnlessValid(function(){return b.findAll(a).then(function(a){var c,d,e;if(null!=b.schema.identifier)for(d=0,e=a.length;e>d;d++)c=a[d],null!=c[b.schema.identifier]&&k.prop(c[b.schema.identifier]).set(c);return a})})},c.update=function(){var a,c;return a=arguments[0],c=2<=arguments.length?j.call(arguments,1):[],f.prop({}).invalidateIfSuccessful(function(){return k.prop(a).invalidateIfSuccessful(function(){return b.update.apply(b,[a].concat(j.call(c)))})})},c.create=function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],f.prop({}).invalidateIfSuccessful(function(){return b.create.apply(b,a)})},c["delete"]=function(a){return f.prop({}).invalidateIfSuccessful(function(){return k.prop(a).invalidateIfSuccessful(function(){return b["delete"](a)})})},c.cache={collectionCache:f,instanceCache:k,timeToLive:m,storage:l},c}(b)}}).call(this)},{"../cache/async-key-value-storage":1,"../cache/property-cache":2,baconjs:202,bluebird:203,debug:39}],10:[function(a,b,c){(function(){b.exports=function(b){var c,d,e;return c=a("./caching"),d=a("./file-fields")(b.http),e=function(a){var b,c,d;d=a.schema.fields;for(c in d)if(b=d[c],"file"===b.type)return!0;return!1},function(a,b){var f;return(null!=b&&null!=(f=b.cache)?f.enabled:void 0)&&(a=c(a,b.cache),delete b.cache),e(a)&&(a=d(a)),a}}}).call(this)},{"./caching":9,"./file-fields":11}],11:[function(a,b,c){(function(c){(function(){var d,e,f,g,h=[].slice,i=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},j={}.hasOwnProperty,k=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=a("lodash-node/modern/lang/cloneDeep"),d=a("bluebird"),e=a("ag-transaction")(d),g=function(a){var b,c,d,e;return e=(a||"").split("."),b=2<=e.length?h.call(e,0,d=e.length-1):(d=0,[]),c=e[d++],c},b.exports=function(b){var d;return d=function(d){var j,l,m,n,o,p,q,r,s,t,u;return n=a("debug")("ag-data:resource:file-fields:"+d.name),q={create:function(a){return e.step(function(){return d.create(a)})},update:function(a,b){return e.step(function(){return d.update(a,b)})}},u=function(a){return function(){var b,c,d,e,f,g;return b=1<=arguments.length?h.call(arguments,0):[],g=a.apply(null,b),c=g.data,f=g.run,e=o(c),0===e.length?f(c):(d=l(c,e),f(d).flatMapDone(p(c,e)).flatMapDone(r))}},m=u(function(a){return{data:a,run:q.create}}),s=u(function(a,b){return{data:b,run:function(b){return q.update(a,b)}}}),o=function(){var a,b;return a=function(a){var b,c,d;d=[];for(c in a)b=a[c],"file"===b.type&&d.push(c);return d},b=function(a){return null!=a&&"[object Object]"!==a.toString()},function(c){var e,f,g,h,i;for(h=a(d.schema.fields),i=[],f=0,g=h.length;g>f;f++)e=h[f],b(c[e])&&i.push(e);return i}}(),l=function(){var a;return a=function(a,b){return null==a.__files&&(a.__files={}),a.__files[b]=!1,null!=a[b].name?a[b]={extension:g(a[b].name)}:void 0},function(b,c){var d,e,g;for(b=f(b),e=0,g=c.length;g>e;e++)d=c[e],a(b,d);return b}}(),t=function(a,d){return b.transactional.request("put",a,{type:"application/octet-stream",data:function(){switch(!0){case c.isBuffer(d):return d.toString();default:return d}}()})},p=function(){var a;return a=function(a,b){var c,d,e;d={};for(c in b)if(e=b[c],i.call(a,c)>=0){if(null==(null!=e?e.upload_url:void 0))throw new Error("Missing upload url for field '"+c+"'");d[c]=e.upload_url}return d},function(b,c){return function(d){var f,g,h,i;h=a(c,d),i=e.unit(d);for(f in h)g=h[f],i=i.flatMapDone(function(a){return t(g,b[f]).flatMapDone(function(){return n("Completed upload for "+f),a[f].uploaded=!0,e.unit(a)})});return i}}}(),r=function(a){return q.update(a.id,a)},j=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return k(b,a),b.upload=function(a,b,c){return null==c&&(c=null),t(a,b).run(function(a){return"function"==typeof c&&c(a),a.done})},b.create=function(a,b){return null==b&&(b=null),m(a).run(function(a){return"function"==typeof b&&b(a),a.done})},b.update=function(a,b,c){return null==c&&(c=null),s(a,b).run(function(a){return"function"==typeof c&&c(a),a.done})},b}(d)}}}).call(this)}).call(this,a("buffer").Buffer)},{"ag-transaction":34,bluebird:203,buffer:208,debug:39,"lodash-node/modern/lang/cloneDeep":119}],12:[function(a,b,c){(function(){var c;c=a("./resource/bundle-type"),b.exports=function(b){var d;return d=a("./resource/build")(b),{loadResourceBundle:function(a){return c(a).fold(function(a){throw new Error("Object did not appear to be a valid resource bundle: "+JSON.stringify(a))},function(a){return{createResource:d(a)}})}}}}).call(this)},{"./resource/build":13,"./resource/bundle-type":14}],13:[function(a,b,c){(function(){var c;c=a("ag-types"),b.exports=function(a){return function(b){return function(d){var e,f,g,h,i,j,k,l,m;if(null==(null!=b?b.resources[d]:void 0))throw new Error("Bundle does not define the resource '"+d+"'");return j=b.resources[d],m="object",i="objects",e=c.Property(i,c.List(c.Any)),g=c.Property(m,c.Any),h=c.projections.Property(m),f=c.Any,l=function(){return"/"+d},k=function(a){return"/"+d+"/"+a},a({baseUrl:b.options.baseUrl,headers:b.options.headers},function(a){return{name:d,schema:j.schema,findAll:a.get({path:l,receive:a.response(e)}),find:a.get({path:k,receive:a.response(g)}),create:a.post({send:a.request(h),path:l,receive:a.response(g)}),update:a.put({send:a.request(h),path:k,receive:a.response(g)}),"delete":a["delete"]({path:k,receive:a.response(f)})}})}}}}).call(this)},{"ag-types":142}],14:[function(a,b,c){(function(){var c,d;d=a("ag-types"),c=function(a){var b,c,d,e,f,g;return e=a.Object,g=a.String,d=a.Map,f=a.Optional,c=a.Boolean,b=a.Any,e({options:e({baseUrl:g,headers:f(d(b))}),resources:d(e({schema:e({identifier:f(g),fields:d(e({type:f(g)}))})}))})}(d),b.exports=c}).call(this)},{"ag-types":142}],15:[function(a,b,c){(function(c){(function(){var d,e,f,g,h=[].slice;g={defaults:a("lodash-node/modern/object/defaults")},d=a("assert-plus"),e=a("ag-types"),f=a("./urlify"),b.exports=function(a,b){return{getter:function(c){var e,i,j;return i=c.path,j=c.receive,e=c.options,d.func(i,"path"),d.func(j,"receive"),d.optionalFunc(e,"options"),function(){var c,d,k,l,m,n,o,p;return c=1<=arguments.length?h.call(arguments,0):[],d=2<=c.length?h.call(c,0,o=c.length-1):(o=0,[]),l=c[o++],p="object"==typeof l?[d,l]:[c,{}],n=p[0],k=p[1],m=i.apply(null,f(n)),a.request("get",m,g.defaults({query:k},("function"==typeof e?e():void 0)||{})).then(b.validatorToPromised(j))}},poster:function(c){var e,h,i,j,k;return i=c.path,k=c.send,j=c.receive,h=c.options,d.func(i,"path"),d.func(k,"send"),d.func(j,"receive"),d.optionalFunc(h,"options"),e=function(b){var c;return c=i(f(b)),a.request("post",c,g.defaults({data:b},("function"==typeof h?h():void 0)||{}))},function(a){return b.validationToPromise(k(a)).then(e).then(b.validatorToPromised(j))}},deleter:function(c){var g,i,j;return i=c.path,g=c.options,j=c.receive,d.func(i,"path"),d.optionalFunc(g,"options"),d.optionalFunc(j,"receive"),function(){var c,d;return c=1<=arguments.length?h.call(arguments,0):[],d=i.apply(null,f(c)),a.request("del",d,("function"==typeof g?g():void 0)||{}).then(b.validatorToPromised(j||e.Optional(e.Any)))}},putter:function(c){var e,i,j,k,l;return j=c.path,l=c.send,k=c.receive,i=c.options,d.func(j,"path"),d.func(l,"send"),d.func(k,"receive"),d.optionalFunc(i,"options"),e=function(b){var c;return c=j.apply(null,f(b)),function(b){return a.request("put",c,g.defaults({data:b},("function"==typeof i?i():void 0)||{}))}},function(){var a,c,d;return a=2<=arguments.length?h.call(arguments,0,d=arguments.length-1):(d=0,[]),c=arguments[d++],b.validationToPromise(l(c)).then(e(a)).then(b.validatorToPromised(k))}},uploader:function(e){var f;return f=e.receive,d.func(f,"receive"),function(d,e,h){return null==h&&(h={}),a.request("put",d,g.defaults({type:"application/octet-stream",data:function(){switch(!0){case c.isBuffer(e):return e.toString();default:return e}}()},h||{})).then(b.validatorToPromised(f))}}}}}).call(this)}).call(this,a("buffer").Buffer)},{"./urlify":25,"ag-types":142,"assert-plus":30,buffer:208,"lodash-node/modern/object/defaults":129}],16:[function(a,b,c){(function(){var c,d;d=a("lodash-node/modern/object/merge"),c=a("./options/deep-defaults"),b.exports=function(a,b){var e,f;return f=function(e){var f,g;return f=e||{},g=function(a){return function(b){return a(c(b,{options:function(){return f}}))}},{getOptions:function(){return f},setOptions:function(a){return f=c(a,e)},get:g(a.getter),post:g(a.poster),"delete":g(a.deleter),put:g(a.putter),upload:a.uploader,response:b,request:function(a){return function(b){var c,e,f;e={};for(c in b)f=b[c],0===c.indexOf("__")&&(e[c]=f,delete b[c]);return a(b).map(function(a){return d({},a,e)})}}}},e=function(a,b){var c,d;return c=f(a),d=b(c),null==d.getOptions&&(d.getOptions=c.getOptions),null==d.setOptions&&(d.setOptions=c.setOptions),d}}}).call(this)},{"./options/deep-defaults":24,"lodash-node/modern/object/merge":133}],17:[function(a,b,c){(function(){var c,d=[].slice;c=a("./http/extract-response-body"),b.exports=function(b){var e,f,g,h;return e=a("./http/async-job-request-runner")(b),h=function(){var a;return a=1<=arguments.length?d.call(arguments,0):[],e.apply(null,a).run(function(a){return a.done})},g=function(a){return function(b,d){return null==d&&(d={}),h(a,b,d).then(c)}},f={transactional:{request:e},request:h,get:g("get"),post:g("post"),del:g("del"),put:g("put")}}}).call(this)},{"./http/async-job-request-runner":18,"./http/extract-response-body":20}],18:[function(a,b,c){(function(){var c,d,e,f,g,h,i,j;f=a("lodash-node/modern/object/defaults"),e=a("lodash-node/modern/lang/cloneDeep"),h=a("./jobs"),d=a("./build-request"),j=function(a){var b,c;return f({headers:e(null!=(b=a.headers)?b:{}),query:e(null!=(c=a.query)?c:{})},a)},c=function(a){return a.headers[h.ASYNC_JOB_FEATURE_HEADER]=!0},g=function(a){var b,c;return a.status===h.JOB_HTTP_STATUS&&null!=(null!=(b=a.body)&&null!=(c=b[h.JOB_ROOT_KEY])?c.id:void 0)},i=function(a,b){return b.headers[h.JOB_ID_HEADER]=a.body[h.JOB_ROOT_KEY].id},b.exports=function(b){var e,f,h;return e=a("ag-transaction")(b),h=a("./request-runner")(b,e),f=function(a,b,f){var k;return null==f&&(f={}),f=j(f),c(f),k=function(a){return a().flatMapDone(function(b){return g(b)?(i(b,f),k(a)):e.unit(b)})},e.empty.flatMapDone(function(){return k(function(){return h(d(a,b,f))})})}}}).call(this)},{"./build-request":19,"./jobs":21,"./request-runner":22,"ag-transaction":34,"lodash-node/modern/lang/cloneDeep":119,"lodash-node/modern/object/defaults":129}],19:[function(a,b,c){(function(){var c,d;d=a("superagent"),b.exports=c=function(a,b,c){var e,f,g,h,i,j,k,l,m,n;if(null==c&&(c={}),null==d[a])throw new Error("No such request builder method: "+a);if(h=d[a](null!=c.baseUrl?[c.baseUrl,b].join(""):b),c.headers){l=c.headers||{};for(e in l)i=l[e],h.set(e,i)}if(c.query&&h.query(c.query),null!=c.type&&h.type(c.type),null!=c.accept&&h.accept(c.accept),null!=c.parts)for(m=c.parts,j=0,k=m.length;k>j;j++){f=m[j],g=h.part(),n=f.headers||{};for(e in n)i=n[e],g.set(e,i);null!=f.data&&g.write(f.data)}else null!=c.data&&h.send(c.data);return c.buffer&&null!=h.buffer&&h.buffer(),h}}).call(this)},{superagent:31}],20:[function(a,b,c){(function(){var a;b.exports=a=function(a){if(a.error)throw new Error(a.status);if(a.body)return a.body;if(a.text)return a.text;throw new Error("Empty response")}}).call(this)},{}],21:[function(a,b,c){(function(){b.exports={JOB_HTTP_STATUS:202,JOB_ID_HEADER:"X-Job-Id",JOB_ROOT_KEY:"job",ASYNC_JOB_FEATURE_HEADER:"X-Feature-Jobs"}}).call(this)},{}],22:[function(a,b,c){(function(){var c;c=a("debug")("ag-restful:http"),b.exports=function(a,b){var d;return d=function(d){return b.step(function(b){var e;return e=b.abort,e(function(){return new a(function(a){return d.once("abort",a),d.abort()})}),new a(function(a,b){return c("Firing HTTP request",d),d.end(function(d,e){return d?(c("HTTP request error",d),b(d)):(c("HTTP request completed",e),a(e))})})})}}}).call(this)},{debug:39}],23:[function(a,b,c){(function(){b.exports=function(b){var c,d,e,f;return d=a("./http")(b),f=a("./validations")(b),c=a("./build-restful-method")(d,f),e=a("./build-restful-object")(c,f.validateResponseBody),e.http=d,e}}).call(this)},{"./build-restful-method":15,"./build-restful-object":16,"./http":17,"./validations":26}],24:[function(a,b,c){(function(){var c,d,e,f,g,h;g=a("lodash-node/modern/function/partialRight"),f=a("lodash-node/modern/object/merge"),d=a("lodash-node/modern/lang/isArray"),e=a("lodash-node/modern/lang/isDate"),h=function(a,b){return d(a)||e(a)?a:f(a,b,h)},b.exports=c=g(f,h)}).call(this)},{"lodash-node/modern/function/partialRight":45,"lodash-node/modern/lang/isArray":121,"lodash-node/modern/lang/isDate":122,"lodash-node/modern/object/merge":133}],25:[function(a,b,c){(function(){var c,d;c=a("lodash-node/modern/object/mapValues"),b.exports=d=function(a){var b,e,f,g;if(null==a)return"";switch(Object.prototype.toString.call(a)){case"[object Object]":return c(a,d);case"[object Array]":for(g=[],e=0,f=a.length;f>e;e++)b=a[e],g.push(d(b));return g;default:return encodeURIComponent(a)}}}).call(this)},{"lodash-node/modern/object/mapValues":132}],26:[function(a,b,c){(function(){b.exports=function(b){var c,d,e;return d=a("./validation-to-promise")(b),e=a("./validator-to-promised")(d),c=a("./validate-response-body"),{validateResponseBody:c,validationToPromise:d,validatorToPromised:e}}}).call(this)},{"./validate-response-body":27,"./validation-to-promise":28,"./validator-to-promised":29}],27:[function(a,b,c){(function(){var c,d,e,f;e=a("ag-types"),c=e.data.Validation.Failure,f=function(a){var b,c;return"function"==typeof a?e.OneOf([e.Property("body",a),e.Property("text",a)]):e.OneOf(function(){var d;d=[];for(c in a)b=a[c],d.push(f(b));return d}())},b.exports=d=function(a){return function(a){return function(b){return b.error?c([b.error]):a(b)}}(f(a))}}).call(this)},{"ag-types":142}],28:[function(a,b,c){(function(){b.exports=function(a){var b;return b=function(b){return b.fold(function(b){return a.reject(new Error(JSON.stringify(b)))},function(b){return a.resolve(b)})}}}).call(this)},{}],29:[function(a,b,c){(function(){var a=[].slice;b.exports=function(b){var c;return c=function(c){return function(){var d;return d=1<=arguments.length?a.call(arguments,0):[],b(c.apply(null,d))}}}}).call(this)},{}],30:[function(a,b,c){(function(c,d){function e(a){return a.charAt(0).toUpperCase()+a.slice(1)}function f(a){return a.charAt(0).toLowerCase()+a.slice(1)}function g(){return x.format.apply(x,arguments)}function h(a,b,c,d){if(!y){c=c||b,d=d||h.caller;var e=typeof a;if(e!==b)throw new v.AssertionError({message:g(B,c,b),actual:e,expected:b,operator:"===",stackStartFunction:d})}}function i(a,b,c,d){if(!(y||(c=c||b,d=d||i.caller,a instanceof b)))throw new v.AssertionError({message:g(B,c,b.name),actual:j(a),expected:b.name,operator:"instanceof",stackStartFunction:d})}function j(a){return Object.prototype.toString.call(a).slice(8,-1)}function k(a,b,c){if(!y){if(c=c||b,!Array.isArray(a))throw new v.AssertionError({message:g(A,c,b),actual:typeof a,expected:"array",operator:"Array.isArray",stackStartFunction:k.caller});for(var d=0;d<a.length;d++)h(a[d],b,c,k)}}function l(a,b){h(a,"boolean",b,l)}function m(a,b){if(!d.isBuffer(a))throw new v.AssertionError({message:g(B,b||"","Buffer"),actual:typeof a,expected:"buffer",operator:"Buffer.isBuffer",stackStartFunction:m})}function n(a,b){h(a,"function",b)}function o(a,b){if(h(a,"number",b),!y&&(isNaN(a)||!isFinite(a)))throw new v.AssertionError({message:g(B,b,"number"),actual:a,expected:"number",operator:"isNaN",stackStartFunction:o})}function p(a,b){h(a,"object",b)}function q(a,b){i(a,w,b)}function r(a,b){i(a,Date,b)}function s(a,b){i(a,RegExp,b)}function t(a,b){h(a,"string",b)}function u(a,b){if(t(a,b),!y&&!z.test(a))throw new v.AssertionError({message:g(B,b,"uuid"),actual:"string",expected:"uuid",operator:"test",stackStartFunction:u})}var v=a("assert"),w=a("stream").Stream,x=a("util"),y=c.env.NODE_NDEBUG||!1,z=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/,A="%s ([%s]) required",B="%s (%s) is required";b.exports={bool:l,buffer:m,date:r,func:n,number:o,object:p,regexp:s,stream:q,string:t,uuid:u},Object.keys(b.exports).forEach(function(a){if("buffer"!==a){var c="arrayOf"+e(a);"bool"===a&&(a="boolean"),"func"===a&&(a="function"),b.exports[c]=function(b,c){k(b,a,c)}}}),Object.keys(b.exports).forEach(function(a){var c="optional"+e(a),d=f(a.replace("arrayOf",""));"bool"===d&&(d="boolean"),"func"===d&&(d="function"),-1!==a.indexOf("arrayOf")?b.exports[c]=function(a,b){y||void 0===a||k(a,d,b)}:b.exports[c]=function(a,b){y||void 0===a||h(a,d,b)}}),Object.keys(v).forEach(function(a){return"AssertionError"===a?void(b.exports[a]=v[a]):void(b.exports[a]=function(){y||v[a].apply(v[a],arguments)})})}).call(this,a("1YiZ5S"),a("buffer").Buffer)},{"1YiZ5S":213,assert:207,buffer:208,stream:215,util:223}],31:[function(a,b,c){function d(){}function e(a){var b={}.toString.call(a);switch(b){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function f(a){return a===Object(a)}function g(a){if(!f(a))return a;var b=[];for(var c in a)null!=a[c]&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function h(a){for(var b,c,d={},e=a.split("&"),f=0,g=e.length;g>f;++f)c=e[f],b=c.split("="),d[decodeURIComponent(b[0])]=decodeURIComponent(b[1]);return d}function i(a){var b,c,d,e,f=a.split(/\r?\n/),g={};f.pop();for(var h=0,i=f.length;i>h;++h)c=f[h],b=c.indexOf(":"),d=c.slice(0,b).toLowerCase(),e=r(c.slice(b+1)),g[d]=e;return g}function j(a){return a.split(/ *; */).shift()}function k(a){return p(a.split(/ *; */),function(a,b){var c=b.split(/ *= */),d=c.shift(),e=c.shift();return d&&e&&(a[d]=e),a},{})}function l(a,b){b=b||{},this.req=a,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=i(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function m(a,b){var c=this;o.call(this),this._query=this._query||[],this.method=a,this.url=b,this.header={},this._header={},this.on("end",function(){var a=null,b=null;try{b=new l(c)}catch(d){return a=new Error("Parser is unable to parse the response"),a.parse=!0,a.original=d,c.callback(a)}if(c.emit("response",b),a)return c.callback(a,b);if(b.status>=200&&b.status<300)return c.callback(a,b);var e=new Error(b.statusText||"Unsuccessful HTTP response");e.original=a,e.response=b,e.status=b.status,c.callback(a||e,b)})}function n(a,b){return"function"==typeof b?new m("GET",a).end(b):1==arguments.length?new m("GET",a):new m(a,b)}var o=a("emitter"),p=a("reduce"),q="undefined"==typeof window?this||self:window;n.getXHR=function(){if(!(!q.XMLHttpRequest||q.location&&"file:"==q.location.protocol&&q.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}return!1};var r="".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s*|\s*$)/g,"")};n.serializeObject=g,n.parseString=h,n.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},n.serialize={"application/x-www-form-urlencoded":g,"application/json":JSON.stringify},n.parse={"application/x-www-form-urlencoded":h,"application/json":JSON.parse},l.prototype.get=function(a){return this.header[a.toLowerCase()]},l.prototype.setHeaderProperties=function(a){var b=this.header["content-type"]||"";this.type=j(b);var c=k(b);for(var d in c)this[d]=c[d]},l.prototype.parseBody=function(a){var b=n.parse[this.type];return b&&a&&(a.length||a instanceof Object)?b(a):null},l.prototype.setStatusProperties=function(a){1223===a&&(a=204);var b=a/100|0;this.status=a,this.statusType=b,this.info=1==b,this.ok=2==b,this.clientError=4==b,this.serverError=5==b,this.error=4==b||5==b?this.toError():!1,this.accepted=202==a,this.noContent=204==a,this.badRequest=400==a,this.unauthorized=401==a,this.notAcceptable=406==a,this.notFound=404==a,this.forbidden=403==a},l.prototype.toError=function(){var a=this.req,b=a.method,c=a.url,d="cannot "+b+" "+c+" ("+this.status+")",e=new Error(d);return e.status=this.status,e.method=b,e.url=c,e},n.Response=l,o(m.prototype),m.prototype.use=function(a){return a(this),this},m.prototype.timeout=function(a){return this._timeout=a,this},m.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},m.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},m.prototype.set=function(a,b){if(f(a)){for(var c in a)this.set(c,a[c]);return this}return this._header[a.toLowerCase()]=b,this.header[a]=b,this},m.prototype.unset=function(a){return delete this._header[a.toLowerCase()],delete this.header[a],this},m.prototype.getHeader=function(a){return this._header[a.toLowerCase()]},m.prototype.type=function(a){return this.set("Content-Type",n.types[a]||a),this},m.prototype.accept=function(a){return this.set("Accept",n.types[a]||a),this},m.prototype.auth=function(a,b){var c=btoa(a+":"+b);return this.set("Authorization","Basic "+c),this},m.prototype.query=function(a){return"string"!=typeof a&&(a=g(a)),a&&this._query.push(a),this},m.prototype.field=function(a,b){return this._formData||(this._formData=new q.FormData),
this._formData.append(a,b),this},m.prototype.attach=function(a,b,c){return this._formData||(this._formData=new q.FormData),this._formData.append(a,b,c),this},m.prototype.send=function(a){var b=f(a),c=this.getHeader("Content-Type");if(b&&f(this._data))for(var d in a)this._data[d]=a[d];else"string"==typeof a?(c||this.type("form"),c=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==c?this._data=this._data?this._data+"&"+a:a:this._data=(this._data||"")+a):this._data=a;return!b||e(a)?this:(c||this.type("json"),this)},m.prototype.callback=function(a,b){var c=this._callback;this.clearTimeout(),c(a,b)},m.prototype.crossDomainError=function(){var a=new Error("Origin is not allowed by Access-Control-Allow-Origin");a.crossDomain=!0,this.callback(a)},m.prototype.timeoutError=function(){var a=this._timeout,b=new Error("timeout of "+a+"ms exceeded");b.timeout=a,this.callback(b)},m.prototype.withCredentials=function(){return this._withCredentials=!0,this},m.prototype.end=function(a){var b=this,c=this.xhr=n.getXHR(),f=this._query.join("&"),g=this._timeout,h=this._formData||this._data;this._callback=a||d,c.onreadystatechange=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=0}if(0==a){if(b.timedout)return b.timeoutError();if(b.aborted)return;return b.crossDomainError()}b.emit("end")}};var i=function(a){a.total>0&&(a.percent=a.loaded/a.total*100),b.emit("progress",a)};this.hasListeners("progress")&&(c.onprogress=i);try{c.upload&&this.hasListeners("progress")&&(c.upload.onprogress=i)}catch(j){}if(g&&!this._timer&&(this._timer=setTimeout(function(){b.timedout=!0,b.abort()},g)),f&&(f=n.serializeObject(f),this.url+=~this.url.indexOf("?")?"&"+f:"?"+f),c.open(this.method,this.url,!0),this._withCredentials&&(c.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof h&&!e(h)){var k=n.serialize[this.getHeader("Content-Type")];k&&(h=k(h))}for(var l in this.header)null!=this.header[l]&&c.setRequestHeader(l,this.header[l]);return this.emit("request",this),c.send(h),this},n.Request=m,n.get=function(a,b,c){var d=n("GET",a);return"function"==typeof b&&(c=b,b=null),b&&d.query(b),c&&d.end(c),d},n.head=function(a,b,c){var d=n("HEAD",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},n.del=function(a,b){var c=n("DELETE",a);return b&&c.end(b),c},n.patch=function(a,b,c){var d=n("PATCH",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},n.post=function(a,b,c){var d=n("POST",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},n.put=function(a,b,c){var d=n("PUT",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},b.exports=n},{emitter:32,reduce:33}],32:[function(a,b,c){function d(a){return a?e(a):void 0}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}b.exports=d,d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},c.fn=b,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],33:[function(a,b,c){b.exports=function(a,b,c){for(var d=0,e=a.length,f=3==arguments.length?c:a[d++];e>d;)f=b.call(null,f,a[d],++d,a);return f}},{}],34:[function(a,b,c){(function(){b.exports=function(b){var c,d,e,f;return f=a("./promises")(b),d=a("./transaction")(f),c=a("./prepared-transaction")(f,d),e=a("./transaction-runner")(b,d,c)}}).call(this)},{"./prepared-transaction":35,"./promises":36,"./transaction":38,"./transaction-runner":37}],35:[function(a,b,c){(function(){b.exports=function(a,b){var c,d;return d=function(){},c=function(){function c(b){var c,d,e;d=a.defer(),e=a.defer(),c=a.defer(),this.done=d.promise,this.rollback=function(){return e.promise.then(function(a){return a()})},this.abort=function(){return c.promise.then(function(a){return a()})},a.resolve(b).then(function(a){return a()}).then(function(a){return a.done.then(d.resolve,d.reject),c.resolve(a.abort),e.resolve(a.rollback)})}return c.fromCreator=function(d){var e;return e={done:null,rollback:null,abort:null},new c(function(){return e.done=a.resolve(d({rollback:function(a){return e.rollback=a},abort:function(a){return e.abort=a}})),b.create(e)})},c.empty=new c(function(){return b.empty}),c.unit=function(a){return new c(function(){return b.unit(a)})},c.prototype.done=null,c.prototype.rollback=null,c.prototype.abort=null,c.prototype.flatMapDone=function(d){return new c(function(c){return function(){var e,f,g;return f=new b(c),g=f.flatMapDone(function(a){return new b(d(a))}),e=a.defer(),new b({done:g.done,abort:function(){return e.resolve(),g.abort()},rollback:function(){return a.ifCompleted(e.promise,f.rollback,g.rollback)}})}}(this))},c}()}}).call(this)},{}],36:[function(a,b,c){(function(){b.exports=function(a){var b,c,d,e;return c=function(){var b;return b={promise:null,resolve:null,reject:null},b.promise=new a(function(a,c){return b.resolve=a,b.reject=c}),b},e=function(b,c){return b.then(c,function(){return a.reject(new Error("Can't roll back a transaction that did not complete"))})},d=function(b,c,d){return a.race([b.then(function(){return c},function(){return c}),a.resolve(d).delay(0)]).then(function(a){return a()})},b=function(b,c,e){return d(b,function(){return a.reject(new Error("Can't abort a transaction that did complete"))},function(){return e(new Error("Transaction aborted")),c()})},{resolve:function(b){return a.resolve(b)},reject:function(b){return a.reject(b)},defer:c,rollbackIfCompleted:e,ifCompleted:d,abortAndRejectUnlessCompleted:b}}}).call(this)},{}],37:[function(a,b,c){(function(){b.exports=function(a,b,c){var d;return d=function(){function d(b){this.run=function(d){return a.resolve(d(new c(b)))}}return d.empty=new d(function(){return b.empty}),d.unit=function(a){return new d(function(){return b.unit(a)})},d.step=function(a){return new d(function(){return c.fromCreator(a)})},d.prototype.flatMapDone=function(a){return new d(function(b){return function(){return b.run(function(b){return b.flatMapDone(function(b){return c.fromCreator(function(c){var d,e;return d=c.abort,e=c.rollback,a(b).run(function(a){return d(a.abort),e(a.rollback),a.done})})})})}}(this))},d.prototype.run=function(){throw new Error("not implemented")},d}()}}).call(this)},{}],38:[function(a,b,c){(function(){b.exports=function(a){var b;return b=function(){function b(b){var c,d,e,f;e=null!=b?b:{},d=e.done,f=e.rollback,c=e.abort,this.done=function(){switch(null!=d){case!0:return d;default:return a.reject(new Error("Transaction did not declare a 'done' condition"))}}(),null!=f&&(this.rollback=f),null!=c&&(this.abort=c)}return b.create=function(c){var d,e,f,g,h,i;switch(g=null!=c?c:{},f=g.done,h=g.rollback,d=g.abort,i={done:null,rollback:null,abort:null},e=a.defer(),i.done=e.promise,null!=f){case!0:a.resolve(f).then(e.resolve,e.reject);break;default:e.reject(new Error("Transaction did not declare a 'done' condition"))}return null!=h&&(i.rollback=function(){return a.rollbackIfCompleted(i.done,h)}),null!=d&&(i.abort=function(){return a.abortAndRejectUnlessCompleted(i.done,d,e.reject)}),new b(i)},b.empty=b.create({done:a.resolve()}),b.unit=function(c){return b.create({done:a.resolve(c)})},b.prototype.done=null,b.prototype.rollback=function(){return a.reject(new Error("Transaction did not declare a rollback instruction"))},b.prototype.abort=function(){return a.reject(new Error("Transaction did not declare an abort instruction"))},b.prototype.flatMapDone=function(c){var d,e;return d=this.done.then(c),e=d.then(function(a){return a.done}),new b({done:e,rollback:function(a){return function(){return e.then(function(){return d.value().rollback().then(function(){return a.rollback()})},a.rollback)}}(this),abort:function(b){return function(){return a.ifCompleted(b.done,function(){return d.then(function(a){return a.abort()})},b.abort)}}(this)})},b}()}}).call(this)},{}],39:[function(a,b,c){function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function e(){var a=arguments,b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),!b)return a;var d="color: "+this.color;a=[a[0],d,"color: inherit"].concat(Array.prototype.slice.call(a,1));var e=0,f=0;return a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d),a}function f(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(b){}}function h(){var a;try{a=c.storage.debug}catch(b){}return a}function i(){try{return window.localStorage}catch(a){}}c=b.exports=a("./debug"),c.log=f,c.formatArgs=e,c.save=g,c.load=h,c.useColors=d,c.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:i(),c.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],c.formatters.j=function(a){return JSON.stringify(a)},c.enable(h())},{"./debug":40}],40:[function(a,b,c){function d(){return c.colors[k++%c.colors.length]}function e(a){function b(){}function e(){var a=e,b=+new Date,f=b-(j||b);a.diff=f,a.prev=j,a.curr=b,j=b,null==a.useColors&&(a.useColors=c.useColors()),null==a.color&&a.useColors&&(a.color=d());var g=Array.prototype.slice.call(arguments);g[0]=c.coerce(g[0]),"string"!=typeof g[0]&&(g=["%o"].concat(g));var h=0;g[0]=g[0].replace(/%([a-z%])/g,function(b,d){if("%%"===b)return b;h++;var e=c.formatters[d];if("function"==typeof e){var f=g[h];b=e.call(a,f),g.splice(h,1),h--}return b}),"function"==typeof c.formatArgs&&(g=c.formatArgs.apply(a,g));var i=e.log||c.log||console.log.bind(console);i.apply(a,g)}b.enabled=!1,e.enabled=!0;var f=c.enabled(a)?e:b;return f.namespace=a,f}function f(a){c.save(a);for(var b=(a||"").split(/[\s,]+/),d=b.length,e=0;d>e;e++)b[e]&&(a=b[e].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))}function g(){c.enable("")}function h(a){var b,d;for(b=0,d=c.skips.length;d>b;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;d>b;b++)if(c.names[b].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}c=b.exports=e,c.coerce=i,c.disable=g,c.enable=f,c.enabled=h,c.humanize=a("ms"),c.names=[],c.skips=[],c.formatters={};var j,k=0},{ms:41}],41:[function(a,b,c){function d(a){if(a=""+a,!(a.length>1e4)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*j;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c}}}}function e(a){return a>=k?Math.round(a/k)+"d":a>=j?Math.round(a/j)+"h":a>=i?Math.round(a/i)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}function f(a){return g(a,k,"day")||g(a,j,"hour")||g(a,i,"minute")||g(a,h,"second")||a+" ms"}function g(a,b,c){return b>a?void 0:1.5*b>a?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var h=1e3,i=60*h,j=60*i,k=24*j,l=365.25*k;b.exports=function(a,b){return b=b||{},"string"==typeof a?d(a):b["long"]?f(a):e(a)}},{}],42:[function(a,b,c){function d(a){var b=a?a.length:0;return b?a[b-1]:void 0}b.exports=d},{}],43:[function(a,b,c){function d(a){if(i(a)&&!h(a)&&!(a instanceof e)){if(a instanceof f)return a;if(l.call(a,"__chain__")&&l.call(a,"__wrapped__"))return j(a)}return new f(a)}var e=a("../internal/LazyWrapper"),f=a("../internal/LodashWrapper"),g=a("../internal/baseLodash"),h=a("../lang/isArray"),i=a("../internal/isObjectLike"),j=a("../internal/wrapperClone"),k=Object.prototype,l=k.hasOwnProperty;d.prototype=g.prototype,b.exports=d},{"../internal/LazyWrapper":47,"../internal/LodashWrapper":48,"../internal/baseLodash":66,"../internal/isObjectLike":106,"../internal/wrapperClone":118,"../lang/isArray":121}],44:[function(a,b,c){var d=a("../internal/getNative"),e=d(Date,"now"),f=e||function(){return(new Date).getTime()};b.exports=f},{"../internal/getNative":96}],45:[function(a,b,c){var d=a("../internal/createPartial"),e=64,f=d(e);f.placeholder={},b.exports=f},{"../internal/createPartial":86}],46:[function(a,b,c){function d(a,b){if("function"!=typeof a)throw new TypeError(e);return b=f(void 0===b?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=f(c.length-b,0),g=Array(e);++d<e;)g[d]=c[b+d];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var h=Array(b+1);for(d=-1;++d<b;)h[d]=c[d];return h[b]=g,a.apply(this,h)}}var e="Expected a function",f=Math.max;b.exports=d},{}],47:[function(a,b,c){function d(a){this.__wrapped__=a,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=g,this.__views__=null}var e=a("./baseCreate"),f=a("./baseLodash"),g=Number.POSITIVE_INFINITY;d.prototype=e(f.prototype),d.prototype.constructor=d,b.exports=d},{"./baseCreate":58,"./baseLodash":66}],48:[function(a,b,c){function d(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}var e=a("./baseCreate"),f=a("./baseLodash");d.prototype=e(f.prototype),d.prototype.constructor=d,b.exports=d},{"./baseCreate":58,"./baseLodash":66}],49:[function(a,b,c){function d(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}b.exports=d},{}],50:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}b.exports=d},{}],51:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}b.exports=d},{}],52:[function(a,b,c){function d(a,b){return void 0===a?b:a}b.exports=d},{}],53:[function(a,b,c){function d(a,b,c){for(var d=-1,f=e(b),g=f.length;++d<g;){var h=f[d],i=a[h],j=c(i,b[h],h,a,b);(j===j?j===i:i!==i)&&(void 0!==i||h in a)||(a[h]=j)}return a}var e=a("../object/keys");b.exports=d},{"../object/keys":130}],54:[function(a,b,c){function d(a,b){return null==b?a:e(b,f(b),a)}var e=a("./baseCopy"),f=a("../object/keys");b.exports=d},{"../object/keys":130,"./baseCopy":57}],55:[function(a,b,c){function d(a,b,c){var d=typeof a;return"function"==d?void 0===b?a:g(a,b,c):null==a?h:"object"==d?e(a):void 0===b?i(a):f(a,b)}var e=a("./baseMatches"),f=a("./baseMatchesProperty"),g=a("./bindCallback"),h=a("../utility/identity"),i=a("../utility/property");b.exports=d},{"../utility/identity":137,"../utility/property":139,"./baseMatches":67,"./baseMatchesProperty":68,"./bindCallback":76}],56:[function(a,b,c){function d(a,b,c,o,p,q,r){var t;if(c&&(t=p?c(a,o,p):c(a)),void 0!==t)return t;if(!m(a))return a;var u=l(a);if(u){if(t=i(a),!b)return e(a,t)}else{var w=M.call(a),x=w==s;if(w!=v&&w!=n&&(!x||p))return K[w]?j(a,w,b):p?a:{};if(t=k(x?{}:a),!b)return g(t,a)}q||(q=[]),r||(r=[]);for(var y=q.length;y--;)if(q[y]==a)return r[y];return q.push(a),r.push(t),(u?f:h)(a,function(e,f){t[f]=d(e,b,c,f,a,q,r)}),t}var e=a("./arrayCopy"),f=a("./arrayEach"),g=a("./baseAssign"),h=a("./baseForOwn"),i=a("./initCloneArray"),j=a("./initCloneByTag"),k=a("./initCloneObject"),l=a("../lang/isArray"),m=a("../lang/isObject"),n="[object Arguments]",o="[object Array]",p="[object Boolean]",q="[object Date]",r="[object Error]",s="[object Function]",t="[object Map]",u="[object Number]",v="[object Object]",w="[object RegExp]",x="[object Set]",y="[object String]",z="[object WeakMap]",A="[object ArrayBuffer]",B="[object Float32Array]",C="[object Float64Array]",D="[object Int8Array]",E="[object Int16Array]",F="[object Int32Array]",G="[object Uint8Array]",H="[object Uint8ClampedArray]",I="[object Uint16Array]",J="[object Uint32Array]",K={};K[n]=K[o]=K[A]=K[p]=K[q]=K[B]=K[C]=K[D]=K[E]=K[F]=K[u]=K[v]=K[w]=K[y]=K[G]=K[H]=K[I]=K[J]=!0,K[r]=K[s]=K[t]=K[x]=K[z]=!1;var L=Object.prototype,M=L.toString;b.exports=d},{"../lang/isArray":121,"../lang/isObject":124,"./arrayCopy":49,"./arrayEach":50,"./baseAssign":54,"./baseForOwn":61,"./initCloneArray":97,"./initCloneByTag":98,"./initCloneObject":99}],57:[function(a,b,c){function d(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}b.exports=d},{}],58:[function(a,b,c){var d=a("../lang/isObject"),e=function(){function a(){}return function(b){if(d(b)){a.prototype=b;var c=new a;a.prototype=null}return c||{}}}();b.exports=e},{"../lang/isObject":124}],59:[function(a,b,c){var d=a("./createBaseFor"),e=d();b.exports=e},{"./createBaseFor":81}],60:[function(a,b,c){function d(a,b){return e(a,b,f)}var e=a("./baseFor"),f=a("../object/keysIn");b.exports=d},{"../object/keysIn":131,"./baseFor":59}],61:[function(a,b,c){function d(a,b){return e(a,b,f)}var e=a("./baseFor"),f=a("../object/keys");b.exports=d},{"../object/keys":130,"./baseFor":59}],62:[function(a,b,c){function d(a,b,c){if(null!=a){void 0!==c&&c in e(a)&&(b=[c]);for(var d=0,f=b.length;null!=a&&f>d;)a=a[b[d++]];return d&&d==f?a:void 0}}var e=a("./toObject");b.exports=d},{"./toObject":116}],63:[function(a,b,c){function d(a,b,c,h,i,j){return a===b?!0:null==a||null==b||!f(a)&&!g(b)?a!==a&&b!==b:e(a,b,d,c,h,i,j)}var e=a("./baseIsEqualDeep"),f=a("../lang/isObject"),g=a("./isObjectLike");b.exports=d},{"../lang/isObject":124,"./baseIsEqualDeep":64,"./isObjectLike":106}],64:[function(a,b,c){function d(a,b,c,d,m,p,q){var r=h(a),s=h(b),t=k,u=k;r||(t=o.call(a),t==j?t=l:t!=l&&(r=i(a))),s||(u=o.call(b),u==j?u=l:u!=l&&(s=i(b)));var v=t==l,w=u==l,x=t==u;if(x&&!r&&!v)return f(a,b,t);if(!m){var y=v&&n.call(a,"__wrapped__"),z=w&&n.call(b,"__wrapped__");if(y||z)return c(y?a.value():a,z?b.value():b,d,m,p,q)}if(!x)return!1;p||(p=[]),q||(q=[]);for(var A=p.length;A--;)if(p[A]==a)return q[A]==b;p.push(a),q.push(b);var B=(r?e:g)(a,b,c,d,m,p,q);return p.pop(),q.pop(),B}var e=a("./equalArrays"),f=a("./equalByTag"),g=a("./equalObjects"),h=a("../lang/isArray"),i=a("../lang/isTypedArray"),j="[object Arguments]",k="[object Array]",l="[object Object]",m=Object.prototype,n=m.hasOwnProperty,o=m.toString;b.exports=d},{"../lang/isArray":121,"../lang/isTypedArray":126,"./equalArrays":89,"./equalByTag":90,"./equalObjects":91}],65:[function(a,b,c){function d(a,b,c){var d=b.length,g=d,h=!c;if(null==a)return!g;for(a=f(a);d--;){var i=b[d];if(h&&i[2]?i[1]!==a[i[0]]:!(i[0]in a))return!1}for(;++d<g;){i=b[d];var j=i[0],k=a[j],l=i[1];if(h&&i[2]){if(void 0===k&&!(j in a))return!1}else{var m=c?c(k,l,j):void 0;if(!(void 0===m?e(l,k,c,!0):m))return!1}}return!0}var e=a("./baseIsEqual"),f=a("./toObject");b.exports=d},{"./baseIsEqual":63,"./toObject":116}],66:[function(a,b,c){function d(){}b.exports=d},{}],67:[function(a,b,c){function d(a){var b=f(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:a[c]===d&&(void 0!==d||c in g(a))}}return function(a){return e(a,b)}}var e=a("./baseIsMatch"),f=a("./getMatchData"),g=a("./toObject");b.exports=d},{"./baseIsMatch":65,"./getMatchData":95,"./toObject":116}],68:[function(a,b,c){function d(a,b){var c=h(a),d=i(a)&&j(b),n=a+"";return a=m(a),function(h){if(null==h)return!1;var i=n;if(h=l(h),(c||!d)&&!(i in h)){if(h=1==a.length?h:e(h,g(a,0,-1)),null==h)return!1;i=k(a),h=l(h)}return h[i]===b?void 0!==b||i in h:f(b,h[i],void 0,!0)}}var e=a("./baseGet"),f=a("./baseIsEqual"),g=a("./baseSlice"),h=a("../lang/isArray"),i=a("./isKey"),j=a("./isStrictComparable"),k=a("../array/last"),l=a("./toObject"),m=a("./toPath");b.exports=d},{"../array/last":42,"../lang/isArray":121,"./baseGet":62,"./baseIsEqual":63,"./baseSlice":74,"./isKey":103,"./isStrictComparable":107,"./toObject":116,"./toPath":117}],69:[function(a,b,c){function d(a,b,c,m,n){if(!i(a))return a;var o=h(b)&&(g(b)||k(b)),p=o?null:l(b);return e(p||b,function(e,g){if(p&&(g=e,e=b[g]),j(e))m||(m=[]),n||(n=[]),f(a,b,g,d,c,m,n);else{var h=a[g],i=c?c(h,e,g,a,b):void 0,k=void 0===i;k&&(i=e),void 0===i&&(!o||g in a)||!k&&(i===i?i===h:h!==h)||(a[g]=i)}}),a}var e=a("./arrayEach"),f=a("./baseMergeDeep"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("../lang/isObject"),j=a("./isObjectLike"),k=a("../lang/isTypedArray"),l=a("../object/keys");b.exports=d},{"../lang/isArray":121,"../lang/isObject":124,"../lang/isTypedArray":126,"../object/keys":130,"./arrayEach":50,"./baseMergeDeep":70,"./isArrayLike":100,"./isObjectLike":106}],70:[function(a,b,c){function d(a,b,c,d,l,m,n){for(var o=m.length,p=b[c];o--;)if(m[o]==p)return void(a[c]=n[o]);var q=a[c],r=l?l(q,p,c,a,b):void 0,s=void 0===r;s&&(r=p,h(p)&&(g(p)||j(p))?r=g(q)?q:h(q)?e(q):[]:i(p)||f(p)?r=f(q)?k(q):i(q)?q:{}:s=!1),m.push(p),n.push(r),s?a[c]=d(r,p,l,m,n):(r===r?r!==q:q===q)&&(a[c]=r)}var e=a("./arrayCopy"),f=a("../lang/isArguments"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("../lang/isPlainObject"),j=a("../lang/isTypedArray"),k=a("../lang/toPlainObject");b.exports=d},{"../lang/isArguments":120,"../lang/isArray":121,"../lang/isPlainObject":125,"../lang/isTypedArray":126,"../lang/toPlainObject":127,"./arrayCopy":49,"./isArrayLike":100}],71:[function(a,b,c){function d(a){return function(b){return null==b?void 0:b[a]}}b.exports=d},{}],72:[function(a,b,c){function d(a){var b=a+"";return a=f(a),function(c){return e(c,a,b)}}var e=a("./baseGet"),f=a("./toPath");b.exports=d},{"./baseGet":62,"./toPath":117}],73:[function(a,b,c){var d=a("../utility/identity"),e=a("./metaMap"),f=e?function(a,b){return e.set(a,b),a}:d;b.exports=f},{"../utility/identity":137,"./metaMap":109}],74:[function(a,b,c){function d(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=void 0===c||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}b.exports=d},{}],75:[function(a,b,c){function d(a){return"string"==typeof a?a:null==a?"":a+""}b.exports=d},{}],76:[function(a,b,c){function d(a,b,c){if("function"!=typeof a)return e;if(void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}var e=a("../utility/identity");b.exports=d},{"../utility/identity":137}],77:[function(a,b,c){(function(c){function d(a){return h.call(a,0)}var e=a("../utility/constant"),f=a("./getNative"),g=f(c,"ArrayBuffer"),h=f(g&&new g(0),"slice"),i=Math.floor,j=f(c,"Uint8Array"),k=function(){try{var a=f(c,"Float64Array"),b=new a(new g(10),0,1)&&a}catch(d){}return b||null}(),l=k?k.BYTES_PER_ELEMENT:0;h||(d=g&&j?function(a){var b=a.byteLength,c=k?i(b/l):0,d=c*l,e=new g(b);if(c){var f=new k(e,0,c);f.set(new k(a,0,c))}return b!=d&&(f=new j(e,d),f.set(new j(a,d))),e}:e(null)),b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utility/constant":136,"./getNative":96}],78:[function(a,b,c){function d(a,b,c){for(var d=c.length,f=-1,g=e(a.length-d,0),h=-1,i=b.length,j=Array(g+i);++h<i;)j[h]=b[h];for(;++f<d;)j[c[f]]=a[f];for(;g--;)j[h++]=a[f++];return j}var e=Math.max;b.exports=d},{}],79:[function(a,b,c){function d(a,b,c){for(var d=-1,f=c.length,g=-1,h=e(a.length-f,0),i=-1,j=b.length,k=Array(h+j);++g<h;)k[g]=a[g];for(var l=g;++i<j;)k[l+i]=b[i];for(;++d<f;)k[l+c[d]]=a[g++];return k}var e=Math.max;b.exports=d},{}],80:[function(a,b,c){function d(a){return g(function(b,c){var d=-1,g=null==b?0:c.length,h=g>2?c[g-2]:void 0,i=g>2?c[2]:void 0,j=g>1?c[g-1]:void 0;for("function"==typeof h?(h=e(h,j,5),g-=2):(h="function"==typeof j?j:void 0,g-=h?1:0),i&&f(c[0],c[1],i)&&(h=3>g?void 0:h,g=1);++d<g;){var k=c[d];k&&a(b,k,h)}return b})}var e=a("./bindCallback"),f=a("./isIterateeCall"),g=a("../function/restParam");b.exports=d},{"../function/restParam":46,"./bindCallback":76,"./isIterateeCall":102}],81:[function(a,b,c){function d(a){return function(b,c,d){for(var f=e(b),g=d(b),h=g.length,i=a?h:-1;a?i--:++i<h;){var j=g[i];if(c(f[j],j,f)===!1)break}return b}}var e=a("./toObject");b.exports=d},{"./toObject":116}],82:[function(a,b,c){(function(c){function d(a,b){function d(){var e=this&&this!==c&&this instanceof d?f:a;return e.apply(b,arguments)}var f=e(a);return d}var e=a("./createCtorWrapper");b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":83}],83:[function(a,b,c){function d(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4])}var c=e(a.prototype),d=a.apply(c,b);return f(d)?d:c}}var e=a("./baseCreate"),f=a("../lang/isObject");b.exports=d},{"../lang/isObject":124,"./baseCreate":58}],84:[function(a,b,c){(function(c){function d(a,b,v,w,x,y,z,A,B,C){function D(){for(var o=arguments.length,p=o,q=Array(o);p--;)q[p]=arguments[p];if(w&&(q=f(q,w,x)),y&&(q=g(q,y,z)),H||J){var t=D.placeholder,L=k(q,t);if(o-=L.length,C>o){var M=A?e(A):null,N=u(C-o,0),O=H?L:null,P=H?null:L,Q=H?q:null,R=H?null:q;b|=H?r:s,b&=~(H?s:r),I||(b&=~(m|n));var S=[a,b,v,Q,O,R,P,M,B,N],T=d.apply(void 0,S);return i(a)&&l(T,S),T.placeholder=t,T}}var U=F?v:this,V=G?U[a]:a;return A&&(q=j(q,A)),E&&B<q.length&&(q.length=B),this&&this!==c&&this instanceof D&&(V=K||h(a)),V.apply(U,q)}var E=b&t,F=b&m,G=b&n,H=b&p,I=b&o,J=b&q,K=G?null:h(a);return D}var e=a("./arrayCopy"),f=a("./composeArgs"),g=a("./composeArgsRight"),h=a("./createCtorWrapper"),i=a("./isLaziable"),j=a("./reorder"),k=a("./replaceHolders"),l=a("./setData"),m=1,n=2,o=4,p=8,q=16,r=32,s=64,t=128,u=Math.max;b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./arrayCopy":49,"./composeArgs":78,"./composeArgsRight":79,"./createCtorWrapper":83,"./isLaziable":104,"./reorder":111,"./replaceHolders":112,"./setData":113}],85:[function(a,b,c){function d(a){return function(b,c,d){var g={};return c=e(c,d,3),f(b,function(b,d,e){var f=c(b,d,e);d=a?f:d,b=a?b:f,g[d]=b}),g}}var e=a("./baseCallback"),f=a("./baseForOwn");b.exports=d},{"./baseCallback":55,"./baseForOwn":61}],86:[function(a,b,c){function d(a){var b=g(function(c,d){var g=f(d,b.placeholder);return e(c,a,null,d,g)});return b}var e=a("./createWrapper"),f=a("./replaceHolders"),g=a("../function/restParam");b.exports=d},{"../function/restParam":46,"./createWrapper":88,"./replaceHolders":112}],87:[function(a,b,c){(function(c){function d(a,b,d,g){function h(){for(var b=-1,e=arguments.length,f=-1,k=g.length,l=Array(e+k);++f<k;)l[f]=g[f];for(;e--;)l[f++]=arguments[++b];var m=this&&this!==c&&this instanceof h?j:a;return m.apply(i?d:this,l)}var i=b&f,j=e(a);return h}var e=a("./createCtorWrapper"),f=1;b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":83}],88:[function(a,b,c){function d(a,b,c,d,r,s,t,u){var v=b&m;if(!v&&"function"!=typeof a)throw new TypeError(p);var w=d?d.length:0;if(w||(b&=~(n|o),d=r=null),w-=r?r.length:0,b&o){var x=d,y=r;d=r=null}var z=v?null:i(a),A=[a,b,c,d,r,x,y,s,t,u];if(z&&(j(A,z),b=A[1],u=A[9]),A[9]=null==u?v?0:a.length:q(u-w,0)||0,b==l)var B=f(A[0],A[2]);else B=b!=n&&b!=(l|n)||A[4].length?g.apply(void 0,A):h.apply(void 0,A);var C=z?e:k;return C(B,A)}var e=a("./baseSetData"),f=a("./createBindWrapper"),g=a("./createHybridWrapper"),h=a("./createPartialWrapper"),i=a("./getData"),j=a("./mergeData"),k=a("./setData"),l=1,m=2,n=32,o=64,p="Expected a function",q=Math.max;b.exports=d},{"./baseSetData":73,"./createBindWrapper":82,"./createHybridWrapper":84,"./createPartialWrapper":87,"./getData":92,"./mergeData":108,"./setData":113}],89:[function(a,b,c){function d(a,b,c,d,f,g,h){var i=-1,j=a.length,k=b.length;if(j!=k&&!(f&&k>j))return!1;for(;++i<j;){var l=a[i],m=b[i],n=d?d(f?m:l,f?l:m,i):void 0;if(void 0!==n){if(n)continue;return!1}if(f){if(!e(b,function(a){return l===a||c(l,a,d,f,g,h)}))return!1}else if(l!==m&&!c(l,m,d,f,g,h))return!1}return!0}var e=a("./arraySome");b.exports=d},{"./arraySome":51}],90:[function(a,b,c){function d(a,b,c){switch(c){case e:case f:return+a==+b;case g:return a.name==b.name&&a.message==b.message;case h:return a!=+a?b!=+b:a==+b;case i:case j:return a==b+""}return!1}var e="[object Boolean]",f="[object Date]",g="[object Error]",h="[object Number]",i="[object RegExp]",j="[object String]";b.exports=d},{}],91:[function(a,b,c){function d(a,b,c,d,f,h,i){var j=e(a),k=j.length,l=e(b),m=l.length;if(k!=m&&!f)return!1;for(var n=k;n--;){var o=j[n];if(!(f?o in b:g.call(b,o)))return!1}for(var p=f;++n<k;){o=j[n];var q=a[o],r=b[o],s=d?d(f?r:q,f?q:r,o):void 0;if(!(void 0===s?c(q,r,d,f,h,i):s))return!1;p||(p="constructor"==o)}if(!p){var t=a.constructor,u=b.constructor;if(t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u))return!1}return!0}var e=a("../object/keys"),f=Object.prototype,g=f.hasOwnProperty;b.exports=d},{"../object/keys":130}],92:[function(a,b,c){var d=a("./metaMap"),e=a("../utility/noop"),f=d?function(a){return d.get(a)}:e;b.exports=f},{"../utility/noop":138,"./metaMap":109}],93:[function(a,b,c){function d(a){for(var b=a.name,c=e[b],d=c?c.length:0;d--;){var f=c[d],g=f.func;if(null==g||g==a)return f.name}return b}var e=a("./realNames");b.exports=d},{"./realNames":110}],94:[function(a,b,c){var d=a("./baseProperty"),e=d("length");b.exports=e},{"./baseProperty":71}],95:[function(a,b,c){function d(a){for(var b=f(a),c=b.length;c--;)b[c][2]=e(b[c][1]);return b}var e=a("./isStrictComparable"),f=a("../object/pairs");b.exports=d},{"../object/pairs":134,"./isStrictComparable":107}],96:[function(a,b,c){function d(a,b){var c=null==a?void 0:a[b];return e(c)?c:void 0}var e=a("../lang/isNative");b.exports=d},{"../lang/isNative":123}],97:[function(a,b,c){function d(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&f.call(a,"index")&&(c.index=a.index,c.input=a.input),c}var e=Object.prototype,f=e.hasOwnProperty;b.exports=d},{}],98:[function(a,b,c){function d(a,b,c){var d=a.constructor;switch(b){case k:return e(a);case f:case g:return new d(+a);case l:case m:case n:case o:case p:case q:case r:case s:case t:var v=a.buffer;return new d(c?e(v):v,a.byteOffset,a.length);case h:case j:return new d(a);case i:var w=new d(a.source,u.exec(a));w.lastIndex=a.lastIndex}return w}var e=a("./bufferClone"),f="[object Boolean]",g="[object Date]",h="[object Number]",i="[object RegExp]",j="[object String]",k="[object ArrayBuffer]",l="[object Float32Array]",m="[object Float64Array]",n="[object Int8Array]",o="[object Int16Array]",p="[object Int32Array]",q="[object Uint8Array]",r="[object Uint8ClampedArray]",s="[object Uint16Array]",t="[object Uint32Array]",u=/\w*$/;b.exports=d},{"./bufferClone":77}],99:[function(a,b,c){function d(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Object),new b}b.exports=d},{}],100:[function(a,b,c){function d(a){return null!=a&&f(e(a))}var e=a("./getLength"),f=a("./isLength");b.exports=d},{"./getLength":94,"./isLength":105
}],101:[function(a,b,c){function d(a,b){return a="number"==typeof a||e.test(a)?+a:-1,b=null==b?f:b,a>-1&&a%1==0&&b>a}var e=/^\d+$/,f=9007199254740991;b.exports=d},{}],102:[function(a,b,c){function d(a,b,c){if(!g(c))return!1;var d=typeof b;if("number"==d?e(c)&&f(b,c.length):"string"==d&&b in c){var h=c[b];return a===a?a===h:h!==h}return!1}var e=a("./isArrayLike"),f=a("./isIndex"),g=a("../lang/isObject");b.exports=d},{"../lang/isObject":124,"./isArrayLike":100,"./isIndex":101}],103:[function(a,b,c){function d(a,b){var c=typeof a;if("string"==c&&h.test(a)||"number"==c)return!0;if(e(a))return!1;var d=!g.test(a);return d||null!=b&&a in f(b)}var e=a("../lang/isArray"),f=a("./toObject"),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,h=/^\w*$/;b.exports=d},{"../lang/isArray":121,"./toObject":116}],104:[function(a,b,c){function d(a){var b=g(a);if(!(b in e.prototype))return!1;var c=h[b];if(a===c)return!0;var d=f(c);return!!d&&a===d[0]}var e=a("./LazyWrapper"),f=a("./getData"),g=a("./getFuncName"),h=a("../chain/lodash");b.exports=d},{"../chain/lodash":43,"./LazyWrapper":47,"./getData":92,"./getFuncName":93}],105:[function(a,b,c){function d(a){return"number"==typeof a&&a>-1&&a%1==0&&e>=a}var e=9007199254740991;b.exports=d},{}],106:[function(a,b,c){function d(a){return!!a&&"object"==typeof a}b.exports=d},{}],107:[function(a,b,c){function d(a){return a===a&&!e(a)}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":124}],108:[function(a,b,c){function d(a,b){var c=a[1],d=b[1],p=c|d,q=l>p,r=d==l&&c==k||d==l&&c==m&&a[7].length<=b[8]||d==(l|m)&&c==k;if(!q&&!r)return a;d&i&&(a[2]=b[2],p|=c&i?0:j);var s=b[3];if(s){var t=a[3];a[3]=t?f(t,s,b[4]):e(s),a[4]=t?h(a[3],n):e(b[4])}return s=b[5],s&&(t=a[5],a[5]=t?g(t,s,b[6]):e(s),a[6]=t?h(a[5],n):e(b[6])),s=b[7],s&&(a[7]=e(s)),d&l&&(a[8]=null==a[8]?b[8]:o(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=p,a}var e=a("./arrayCopy"),f=a("./composeArgs"),g=a("./composeArgsRight"),h=a("./replaceHolders"),i=1,j=4,k=8,l=128,m=256,n="__lodash_placeholder__",o=Math.min;b.exports=d},{"./arrayCopy":49,"./composeArgs":78,"./composeArgsRight":79,"./replaceHolders":112}],109:[function(a,b,c){(function(c){var d=a("./getNative"),e=d(c,"WeakMap"),f=e&&new e;b.exports=f}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getNative":96}],110:[function(a,b,c){var d={};b.exports=d},{}],111:[function(a,b,c){function d(a,b){for(var c=a.length,d=g(b.length,c),h=e(a);d--;){var i=b[d];a[d]=f(i,c)?h[i]:void 0}return a}var e=a("./arrayCopy"),f=a("./isIndex"),g=Math.min;b.exports=d},{"./arrayCopy":49,"./isIndex":101}],112:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length,f=-1,g=[];++c<d;)a[c]===b&&(a[c]=e,g[++f]=c);return g}var e="__lodash_placeholder__";b.exports=d},{}],113:[function(a,b,c){var d=a("./baseSetData"),e=a("../date/now"),f=150,g=16,h=function(){var a=0,b=0;return function(c,h){var i=e(),j=g-(i-b);if(b=i,j>0){if(++a>=f)return c}else a=0;return d(c,h)}}();b.exports=h},{"../date/now":44,"./baseSetData":73}],114:[function(a,b,c){function d(a){var b;if(!f(a)||j.call(a)!=g||!i.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return e(a,function(a,b){c=b}),void 0===c||i.call(a,c)}var e=a("./baseForIn"),f=a("./isObjectLike"),g="[object Object]",h=Object.prototype,i=h.hasOwnProperty,j=h.toString;b.exports=d},{"./baseForIn":60,"./isObjectLike":106}],115:[function(a,b,c){function d(a){for(var b=i(a),c=b.length,d=c&&a.length,j=!!d&&h(d)&&(f(a)||e(a)),l=-1,m=[];++l<c;){var n=b[l];(j&&g(n,d)||k.call(a,n))&&m.push(n)}return m}var e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("./isIndex"),h=a("./isLength"),i=a("../object/keysIn"),j=Object.prototype,k=j.hasOwnProperty;b.exports=d},{"../lang/isArguments":120,"../lang/isArray":121,"../object/keysIn":131,"./isIndex":101,"./isLength":105}],116:[function(a,b,c){function d(a){return e(a)?a:Object(a)}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":124}],117:[function(a,b,c){function d(a){if(f(a))return a;var b=[];return e(a).replace(g,function(a,c,d,e){b.push(d?e.replace(h,"$1"):c||a)}),b}var e=a("./baseToString"),f=a("../lang/isArray"),g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,h=/\\(\\)?/g;b.exports=d},{"../lang/isArray":121,"./baseToString":75}],118:[function(a,b,c){function d(a){return a instanceof e?a.clone():new f(a.__wrapped__,a.__chain__,g(a.__actions__))}var e=a("./LazyWrapper"),f=a("./LodashWrapper"),g=a("./arrayCopy");b.exports=d},{"./LazyWrapper":47,"./LodashWrapper":48,"./arrayCopy":49}],119:[function(a,b,c){function d(a,b,c){return"function"==typeof b?e(a,!0,f(b,c,1)):e(a,!0)}var e=a("../internal/baseClone"),f=a("../internal/bindCallback");b.exports=d},{"../internal/baseClone":56,"../internal/bindCallback":76}],120:[function(a,b,c){function d(a){return f(a)&&e(a)&&i.call(a)==g}var e=a("../internal/isArrayLike"),f=a("../internal/isObjectLike"),g="[object Arguments]",h=Object.prototype,i=h.toString;b.exports=d},{"../internal/isArrayLike":100,"../internal/isObjectLike":106}],121:[function(a,b,c){var d=a("../internal/getNative"),e=a("../internal/isLength"),f=a("../internal/isObjectLike"),g="[object Array]",h=Object.prototype,i=h.toString,j=d(Array,"isArray"),k=j||function(a){return f(a)&&e(a.length)&&i.call(a)==g};b.exports=k},{"../internal/getNative":96,"../internal/isLength":105,"../internal/isObjectLike":106}],122:[function(a,b,c){function d(a){return e(a)&&h.call(a)==f}var e=a("../internal/isObjectLike"),f="[object Date]",g=Object.prototype,h=g.toString;b.exports=d},{"../internal/isObjectLike":106}],123:[function(a,b,c){function d(a){return null==a?!1:l.call(a)==g?m.test(j.call(a)):f(a)&&h.test(a)}var e=a("../string/escapeRegExp"),f=a("../internal/isObjectLike"),g="[object Function]",h=/^\[object .+?Constructor\]$/,i=Object.prototype,j=Function.prototype.toString,k=i.hasOwnProperty,l=i.toString,m=RegExp("^"+e(j.call(k)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{"../internal/isObjectLike":106,"../string/escapeRegExp":135}],124:[function(a,b,c){function d(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=d},{}],125:[function(a,b,c){var d=a("../internal/getNative"),e=a("../internal/shimIsPlainObject"),f="[object Object]",g=Object.prototype,h=g.toString,i=d(Object,"getPrototypeOf"),j=i?function(a){if(!a||h.call(a)!=f)return!1;var b=d(a,"valueOf"),c=b&&(c=i(b))&&i(c);return c?a==c||i(a)==c:e(a)}:e;b.exports=j},{"../internal/getNative":96,"../internal/shimIsPlainObject":114}],126:[function(a,b,c){function d(a){return f(a)&&e(a.length)&&!!D[F.call(a)]}var e=a("../internal/isLength"),f=a("../internal/isObjectLike"),g="[object Arguments]",h="[object Array]",i="[object Boolean]",j="[object Date]",k="[object Error]",l="[object Function]",m="[object Map]",n="[object Number]",o="[object Object]",p="[object RegExp]",q="[object Set]",r="[object String]",s="[object WeakMap]",t="[object ArrayBuffer]",u="[object Float32Array]",v="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",y="[object Int32Array]",z="[object Uint8Array]",A="[object Uint8ClampedArray]",B="[object Uint16Array]",C="[object Uint32Array]",D={};D[u]=D[v]=D[w]=D[x]=D[y]=D[z]=D[A]=D[B]=D[C]=!0,D[g]=D[h]=D[t]=D[i]=D[j]=D[k]=D[l]=D[m]=D[n]=D[o]=D[p]=D[q]=D[r]=D[s]=!1;var E=Object.prototype,F=E.toString;b.exports=d},{"../internal/isLength":105,"../internal/isObjectLike":106}],127:[function(a,b,c){function d(a){return e(a,f(a))}var e=a("../internal/baseCopy"),f=a("../object/keysIn");b.exports=d},{"../internal/baseCopy":57,"../object/keysIn":131}],128:[function(a,b,c){var d=a("../internal/assignWith"),e=a("../internal/baseAssign"),f=a("../internal/createAssigner"),g=f(function(a,b,c){return c?d(a,b,c):e(a,b)});b.exports=g},{"../internal/assignWith":53,"../internal/baseAssign":54,"../internal/createAssigner":80}],129:[function(a,b,c){var d=a("./assign"),e=a("../internal/assignDefaults"),f=a("../function/restParam"),g=f(function(a){var b=a[0];return null==b?b:(a.push(e),d.apply(void 0,a))});b.exports=g},{"../function/restParam":46,"../internal/assignDefaults":52,"./assign":128}],130:[function(a,b,c){var d=a("../internal/getNative"),e=a("../internal/isArrayLike"),f=a("../lang/isObject"),g=a("../internal/shimKeys"),h=d(Object,"keys"),i=h?function(a){var b=null==a?null:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&e(a)?g(a):f(a)?h(a):[]}:g;b.exports=i},{"../internal/getNative":96,"../internal/isArrayLike":100,"../internal/shimKeys":115,"../lang/isObject":124}],131:[function(a,b,c){function d(a){if(null==a)return[];i(a)||(a=Object(a));var b=a.length;b=b&&h(b)&&(f(a)||e(a))&&b||0;for(var c=a.constructor,d=-1,j="function"==typeof c&&c.prototype===a,l=Array(b),m=b>0;++d<b;)l[d]=d+"";for(var n in a)m&&g(n,b)||"constructor"==n&&(j||!k.call(a,n))||l.push(n);return l}var e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("../internal/isIndex"),h=a("../internal/isLength"),i=a("../lang/isObject"),j=Object.prototype,k=j.hasOwnProperty;b.exports=d},{"../internal/isIndex":101,"../internal/isLength":105,"../lang/isArguments":120,"../lang/isArray":121,"../lang/isObject":124}],132:[function(a,b,c){var d=a("../internal/createObjectMapper"),e=d();b.exports=e},{"../internal/createObjectMapper":85}],133:[function(a,b,c){var d=a("../internal/baseMerge"),e=a("../internal/createAssigner"),f=e(d);b.exports=f},{"../internal/baseMerge":69,"../internal/createAssigner":80}],134:[function(a,b,c){function d(a){a=f(a);for(var b=-1,c=e(a),d=c.length,g=Array(d);++b<d;){var h=c[b];g[b]=[h,a[h]]}return g}var e=a("./keys"),f=a("../internal/toObject");b.exports=d},{"../internal/toObject":116,"./keys":130}],135:[function(a,b,c){function d(a){return a=e(a),a&&g.test(a)?a.replace(f,"\\$&"):a}var e=a("../internal/baseToString"),f=/[.*+?^${}()|[\]\/\\]/g,g=RegExp(f.source);b.exports=d},{"../internal/baseToString":75}],136:[function(a,b,c){function d(a){return function(){return a}}b.exports=d},{}],137:[function(a,b,c){function d(a){return a}b.exports=d},{}],138:[function(a,b,c){function d(){}b.exports=d},{}],139:[function(a,b,c){function d(a){return g(a)?e(a):f(a)}var e=a("../internal/baseProperty"),f=a("../internal/basePropertyDeep"),g=a("../internal/isKey");b.exports=d},{"../internal/baseProperty":71,"../internal/basePropertyDeep":72,"../internal/isKey":103}],140:[function(a,b,c){(function(){var c;c=a("./check"),b.exports={isFunction:function(a){if("function"!=typeof a)throw new TypeError("Type constructor argument was of type '"+c.typeAsString(a)+"', function expected")}}}).call(this)},{"./check":141}],141:[function(a,b,c){(function(){b.exports={typeAsString:function(a){return Object.prototype.toString.call(a).match(/\[object ([^\]]+)\]/)[1].toLowerCase()},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isObject:function(a){return"[object Object]"===Object.prototype.toString.call(a)}}}).call(this)},{}],142:[function(a,b,c){(function(){var c,d,e,f,g;e=a("lodash-node/modern/object/assign"),g=a("data.validation"),d=g.Success,c=g.Failure,b.exports=f=e({data:{Validation:{Success:d,Failure:c}},projections:a("./types/projections"),recursive:a("./types/recursive"),Optional:a("./types/optional"),List:a("./types/list"),json:a("./types/json"),Try:a("./types/try")},a("./types/primitives"),a("./types/objects"),a("./types/composites"))}).call(this)},{"./types/composites":143,"./types/json":145,"./types/list":146,"./types/objects":147,"./types/optional":148,"./types/primitives":149,"./types/projections":150,"./types/recursive":151,"./types/try":152,"data.validation":153,"lodash-node/modern/object/assign":192}],143:[function(a,b,c){(function(){var c,d,e,f;e=a("../assert"),f=a("data.validation"),d=f.Success,c=f.Failure,b.exports={OneOf:function(a){var b,d,f;for(d=0,f=a.length;f>d;d++)b=a[d],e.isFunction(b);return function(d){var e,f,g,h;for(e=c([]),g=0,h=a.length;h>g;g++){if(b=a[g],f=b(d),f.isSuccess)return f;e=e.ap(f)}return e}}}}).call(this)},{"../assert":140,"data.validation":153}],144:[function(a,b,c){(function(){b.exports={objectWithProperty:function(a){return function(b){var c;return c={},c[a]=b,c}}}}).call(this)},{}],145:[function(a,b,c){(function(){var c,d,e,f,g,h,i,j,k;g=a("lodash-node/modern/object/mapValues"),f=a("lodash-node/modern/collection/contains"),j=a("./primitives"),i=a("./objects"),c=a("./list"),d=a("./optional"),k=function(a){switch(null!=a?a.type:void 0){case"string":return j.String;case"number":return j.Number;case"boolean":return j.Boolean;case"object":return h(a.properties||null,a.required||[]);case"array":return e(a.items||{});default:return j.Any}},e=function(a){return c(k(a))},h=function(a,b){return null==a?i.Map(j.Any):i.Object(g(a,function(a,c){var e;return e=k(a),(null!=a?a.required:void 0)||f(b,c)?e:d(e)}))},b.exports={fromJsonSchema:k}}).call(this)},{"./list":146,"./objects":147,"./optional":148,"./primitives":149,"lodash-node/modern/collection/contains":156,"lodash-node/modern/object/mapValues":195}],146:[function(a,b,c){(function(){var c,d,e,f,g,h,i,j;j=a("data.validation"),e=j.Success,c=j.Failure,f=a("../assert"),g=a("../check"),i=a("./helpers").objectWithProperty,h=function(a){var b,d,f,g;return b=[],f=function(){var c,e,f;for(f=[],d=c=0,e=a.length;e>c;d=++c)g=a[d],f.push(g.fold(function(a){return b=b.concat(i(d)(a)),null},function(a){return a}));return f}(),b.length>0?c(b):e(f)},b.exports=d=function(a){return f.isFunction(a),function(b){var d;return g.isArray(b)?h(function(){var c,e,f;for(f=[],c=0,e=b.length;e>c;c++)d=b[c],f.push(a(d));return f}()):c(["Input was of type "+g.typeAsString(b)+" instead of array"])}}}).call(this)},{"../assert":140,"../check":141,"./helpers":144,"data.validation":153}],147:[function(a,b,c){(function(){var c,d,e,f,g,h,i,j,k,l,m;l=a("lodash-node/modern/array/zipObject"),g=a("lodash-node/modern/object/mapValues"),j=a("lodash-node/modern/object/pairs"),m=a("data.validation"),d=m.Success,c=m.Failure,e=a("../assert"),f=a("../check"),k=a("./primitives"),h=function(a){var b,e,f,g;return b=[],f=function(){var c,d,f,h;for(h=[],c=0,d=a.length;d>c;c++)f=a[c],e=f[0],g=f[1],h.push(g.fold(function(a){return b=b.concat(a),[e,null]},function(a){return[e,a]}));return h}(),b.length>0?c(b):d(l(f))},b.exports=i={Property:function(a,b){return null==b&&(b=k.Any),e.isFunction(b),function(c){return b(null!=(null!=c?c[a]:void 0)?c[a]:null).leftMap(function(b){var c;return c={},c[a]=b,c})}},Object:function(a){var b;return b=g(a,function(a,b){return e.isFunction(a),i.Property(b,a)}),function(a){return h(j(g(b,function(b){return b(a)})))}},Map:function(a){return e.isFunction(a),function(b){return f.isObject(b)?h(j(g(b,function(c,d){return i.Property(d,a)(b)}))):c(["Input was of type "+f.typeAsString(b)+" instead of object"])}}}}).call(this)},{"../assert":140,"../check":141,"./primitives":149,"data.validation":153,"lodash-node/modern/array/zipObject":155,"lodash-node/modern/object/mapValues":195,"lodash-node/modern/object/pairs":196}],148:[function(a,b,c){(function(){var c,d;d=a("../assert"),c=a("data.validation").Success,b.exports=function(a){return d.isFunction(a),function(b){return null!=b?a(b):c(null)}}}).call(this)},{"../assert":140,"data.validation":153}],149:[function(a,b,c){(function(){var c,d,e,f,g,h;h=a("data.validation"),d=h.Success,c=h.Failure,e=a("../check"),f=function(a){return function(b){var f;return f=e.typeAsString(b),a===f?d(b):c(["Input was of type "+f+" instead of "+a])}},b.exports=g={Any:function(a){return null!=a?d(a):c(["Input was undefined"])},Nothing:function(a){return c(["Not accepting input"])},String:f("string"),Boolean:f("boolean"),Number:f("number")}}).call(this)},{"../check":141,"data.validation":153}],150:[function(a,b,c){(function(){var c,d,e;c=a("../assert"),e=a("./primitives"),d=a("./helpers").objectWithProperty,b.exports={Property:function(a,b){return null==b&&(b=e.Any),c.isFunction(b),function(c){return b(c).map(d(a))}}}}).call(this)},{"../assert":140,"./helpers":144,"./primitives":149}],151:[function(a,b,c){(function(){var c;c=a("../assert"),b.exports=function(a){var b;return b=null,function(d){return null==b&&(b=a(),c.isFunction(b)),b(d)}}}).call(this)},{"../assert":140}],152:[function(a,b,c){(function(){var c,d,e,f;f=a("data.validation"),d=f.Success,c=f.Failure,b.exports=e=function(a){return function(b){var e;try{return d(a(b))}catch(f){return e=f,c([e.message||e.toString()])}}}}).call(this)},{"data.validation":153}],153:[function(a,b,c){b.exports=a("./validation")},{"./validation":154}],154:[function(a,b,c){function d(){}function e(a){this.value=a}function f(a){this.value=a}b.exports=d;var g=Object.create,h=function(){throw new Error("Not implemented.")},i=function(){return this};e.prototype=g(d.prototype),f.prototype=g(d.prototype),d.Failure=function(a){return new e(a)},d.prototype.Failure=d.Failure,d.Success=function(a){return new f(a)},d.prototype.Success=d.Success,d.fromNullable=function(a){return null!=a?this.Success(a):this.Failure(a)},d.prototype.fromNullable=d.fromNullable,d.fromEither=function(a){return a.fold(this.Failure.bind(this),this.Success.bind(this))},d.prototype.isFailure=!1,e.prototype.isFailure=!0,d.prototype.isSuccess=!1,f.prototype.isSuccess=!0,d.of=function(a){return this.Success(a)},d.prototype.of=d.of,d.prototype.ap=h,e.prototype.ap=function(a){return a.isFailure?this.Failure(this.value.concat(a.value)):this},f.prototype.ap=function(a){return a.isFailure?a:a.map(this.value)},d.prototype.map=h,e.prototype.map=i,f.prototype.map=function(a){return this.of(a(this.value))},d.prototype.toString=h,e.prototype.toString=function(){return"Validation.Failure("+this.value+")"},f.prototype.toString=function(){return"Validation.Success("+this.value+")"},d.prototype.isEqual=h,e.prototype.isEqual=function(a){return a.isFailure&&a.value===this.value},f.prototype.isEqual=function(a){return a.isSuccess&&a.value===this.value},d.prototype.get=h,e.prototype.get=function(){throw new TypeError("Can't extract the value of a Failure(a).")},f.prototype.get=function(){return this.value},d.prototype.getOrElse=h,e.prototype.getOrElse=function(a){return a},f.prototype.getOrElse=function(a){return this.value},d.prototype.orElse=h,f.prototype.orElse=i,e.prototype.orElse=function(a){return a(this.value)},d.prototype.merge=function(){return this.value},d.prototype.fold=h,e.prototype.fold=function(a,b){return a(this.value)},f.prototype.fold=function(a,b){return b(this.value)},d.prototype.cata=h,e.prototype.cata=function(a){return a.Failure(this.value)},f.prototype.cata=function(a){return a.Success(this.value)},d.prototype.swap=h,e.prototype.swap=function(){return this.Success(this.value)},f.prototype.swap=function(){return this.Failure(this.value)},d.prototype.bimap=h,e.prototype.bimap=function(a,b){return this.Failure(a(this.value))},f.prototype.bimap=function(a,b){return this.Success(b(this.value))},d.prototype.failureMap=h,f.prototype.failureMap=i,e.prototype.failureMap=function(a){return this.Failure(a(this.value))},d.prototype.leftMap=d.prototype.failureMap,f.prototype.leftMap=f.prototype.failureMap,e.prototype.leftMap=e.prototype.failureMap},{}],155:[function(a,b,c){function d(a,b){var c=-1,d=a?a.length:0,f={};for(!d||b||e(a[0])||(b=[]);++c<d;){var g=a[c];b?f[g]=b[c]:g&&(f[g[0]]=g[1])}return f}var e=a("../lang/isArray");b.exports=d},{"../lang/isArray":187}],156:[function(a,b,c){b.exports=a("./includes")},{"./includes":157}],157:[function(a,b,c){function d(a,b,c,d){var l=a?a.length:0;return h(l)||(a=j(a),l=a.length),l?(c="number"!=typeof c||d&&g(b,c,d)?0:0>c?k(l+c,0):c||0,"string"==typeof a||!f(a)&&i(a)?l>c&&a.indexOf(b,c)>-1:e(a,b,c)>-1):!1}var e=a("../internal/baseIndexOf"),f=a("../lang/isArray"),g=a("../internal/isIterateeCall"),h=a("../internal/isLength"),i=a("../lang/isString"),j=a("../object/values"),k=Math.max;b.exports=d},{"../internal/baseIndexOf":163,"../internal/isIterateeCall":180,"../internal/isLength":181,"../lang/isArray":187,"../lang/isString":190,"../object/values":197}],158:[function(a,b,c){function d(a,b,c){var d=f(b);if(!c)return e(b,a,d);for(var g=-1,h=d.length;++g<h;){var i=d[g],j=a[i],k=c(j,b[i],i,a,b);(k===k?k===j:j!==j)&&("undefined"!=typeof j||i in a)||(a[i]=k)}return a}var e=a("./baseCopy"),f=a("../object/keys");b.exports=d},{"../object/keys":193,"./baseCopy":160}],159:[function(a,b,c){function d(a,b,c){var d=typeof a;return"function"==d?"undefined"==typeof b?a:h(a,b,c):null==a?i:"object"==d?e(a):"undefined"==typeof b?g(a+""):f(a+"",b)}var e=a("./baseMatches"),f=a("./baseMatchesProperty"),g=a("./baseProperty"),h=a("./bindCallback"),i=a("../utility/identity");b.exports=d},{"../utility/identity":201,"./baseMatches":167,"./baseMatchesProperty":168,"./baseProperty":169,"./bindCallback":172}],160:[function(a,b,c){function d(a,b,c){c||(c=b,b={});for(var d=-1,e=c.length;++d<e;){var f=c[d];b[f]=a[f]}return b}b.exports=d},{}],161:[function(a,b,c){var d=a("./createBaseFor"),e=d();b.exports=e},{"./createBaseFor":174}],162:[function(a,b,c){arguments[4][61][0].apply(c,arguments)},{"../object/keys":193,"./baseFor":161}],163:[function(a,b,c){function d(a,b,c){if(b!==b)return e(a,c);for(var d=c-1,f=a.length;++d<f;)if(a[d]===b)return d;return-1}var e=a("./indexOfNaN");b.exports=d},{"./indexOfNaN":178}],164:[function(a,b,c){function d(a,b,c,f,g,h){if(a===b)return 0!==a||1/a==1/b;var i=typeof a,j=typeof b;return"function"!=i&&"object"!=i&&"function"!=j&&"object"!=j||null==a||null==b?a!==a&&b!==b:e(a,b,d,c,f,g,h)}var e=a("./baseIsEqualDeep");b.exports=d},{"./baseIsEqualDeep":165}],165:[function(a,b,c){function d(a,b,c,d,n,q,r){var s=h(a),t=h(b),u=k,v=k;s||(u=p.call(a),u==j?u=m:u!=m&&(s=i(a))),t||(v=p.call(b),v==j?v=m:v!=m&&(t=i(b)));var w=u==m||n&&u==l,x=v==m||n&&v==l,y=u==v;if(y&&!s&&!w)return f(a,b,u);if(n){if(!(y||w&&x))return!1}else{var z=w&&o.call(a,"__wrapped__"),A=x&&o.call(b,"__wrapped__");if(z||A)return c(z?a.value():a,A?b.value():b,d,n,q,r);if(!y)return!1}q||(q=[]),r||(r=[]);for(var B=q.length;B--;)if(q[B]==a)return r[B]==b;q.push(a),r.push(b);var C=(s?e:g)(a,b,c,d,n,q,r);return q.pop(),r.pop(),C}var e=a("./equalArrays"),f=a("./equalByTag"),g=a("./equalObjects"),h=a("../lang/isArray"),i=a("../lang/isTypedArray"),j="[object Arguments]",k="[object Array]",l="[object Function]",m="[object Object]",n=Object.prototype,o=n.hasOwnProperty,p=n.toString;b.exports=d},{"../lang/isArray":187,"../lang/isTypedArray":191,"./equalArrays":175,"./equalByTag":176,"./equalObjects":177}],166:[function(a,b,c){function d(a,b,c,d,f){for(var g=-1,h=b.length,i=!f;++g<h;)if(i&&d[g]?c[g]!==a[b[g]]:!(b[g]in a))return!1;for(g=-1;++g<h;){var j=b[g],k=a[j],l=c[g];if(i&&d[g])var m="undefined"!=typeof k||j in a;else m=f?f(k,l,j):void 0,"undefined"==typeof m&&(m=e(l,k,f,!0));if(!m)return!1}return!0}var e=a("./baseIsEqual");b.exports=d},{"./baseIsEqual":164}],167:[function(a,b,c){function d(a){var b=h(a),c=b.length;if(!c)return f(!0);if(1==c){var d=b[0],j=a[d];if(g(j))return function(a){return null!=a&&a[d]===j&&("undefined"!=typeof j||d in i(a))}}for(var k=Array(c),l=Array(c);c--;)j=a[b[c]],k[c]=j,l[c]=g(j);return function(a){return null!=a&&e(i(a),b,k,l)}}var e=a("./baseIsMatch"),f=a("../utility/constant"),g=a("./isStrictComparable"),h=a("../object/keys"),i=a("./toObject");b.exports=d},{"../object/keys":193,"../utility/constant":200,"./baseIsMatch":166,"./isStrictComparable":183,"./toObject":185}],168:[function(a,b,c){function d(a,b){return f(b)?function(c){return null!=c&&c[a]===b&&("undefined"!=typeof b||a in g(c))}:function(c){return null!=c&&e(b,c[a],null,!0)}}var e=a("./baseIsEqual"),f=a("./isStrictComparable"),g=a("./toObject");b.exports=d},{"./baseIsEqual":164,"./isStrictComparable":183,"./toObject":185}],169:[function(a,b,c){function d(a){return function(b){return null==b?void 0:b[a]}}b.exports=d},{}],170:[function(a,b,c){function d(a){return"string"==typeof a?a:null==a?"":a+""}b.exports=d},{}],171:[function(a,b,c){function d(a,b){for(var c=-1,d=b.length,e=Array(d);++c<d;)e[c]=a[b[c]];return e}b.exports=d},{}],172:[function(a,b,c){function d(a,b,c){if("function"!=typeof a)return e;if("undefined"==typeof b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}var e=a("../utility/identity");b.exports=d},{"../utility/identity":201}],173:[function(a,b,c){function d(a){return function(){var b=arguments,c=b.length,d=b[0];if(2>c||null==d)return d;var g=b[c-2],h=b[c-1],i=b[3];c>3&&"function"==typeof g?(g=e(g,h,5),c-=2):(g=c>2&&"function"==typeof h?h:null,c-=g?1:0),i&&f(b[1],b[2],i)&&(g=3==c?null:g,c=2);for(var j=0;++j<c;){var k=b[j];k&&a(d,k,g)}return d}}var e=a("./bindCallback"),f=a("./isIterateeCall");b.exports=d},{"./bindCallback":172,"./isIterateeCall":180}],174:[function(a,b,c){arguments[4][81][0].apply(c,arguments)},{"./toObject":185}],175:[function(a,b,c){function d(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length,k=!0;if(i!=j&&!(e&&j>i))return!1;for(;k&&++h<i;){var l=a[h],m=b[h];if(k=void 0,d&&(k=e?d(m,l,h):d(l,m,h)),"undefined"==typeof k)if(e)for(var n=j;n--&&(m=b[n],!(k=l&&l===m||c(l,m,d,e,f,g))););else k=l&&l===m||c(l,m,d,e,f,g)}return!!k}b.exports=d},{}],176:[function(a,b,c){function d(a,b,c){switch(c){case e:case f:return+a==+b;case g:return a.name==b.name&&a.message==b.message;case h:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case i:case j:return a==b+""}return!1}var e="[object Boolean]",f="[object Date]",g="[object Error]",h="[object Number]",i="[object RegExp]",j="[object String]";b.exports=d},{}],177:[function(a,b,c){function d(a,b,c,d,f,h,i){var j=e(a),k=j.length,l=e(b),m=l.length;if(k!=m&&!f)return!1;for(var n=f,o=-1;++o<k;){var p=j[o],q=f?p in b:g.call(b,p);if(q){var r=a[p],s=b[p];q=void 0,d&&(q=f?d(s,r,p):d(r,s,p)),"undefined"==typeof q&&(q=r&&r===s||c(r,s,d,f,h,i))}if(!q)return!1;n||(n="constructor"==p)}if(!n){var t=a.constructor,u=b.constructor;if(t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u))return!1}return!0}var e=a("../object/keys"),f=Object.prototype,g=f.hasOwnProperty;b.exports=d},{"../object/keys":193}],178:[function(a,b,c){function d(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}b.exports=d},{}],179:[function(a,b,c){function d(a,b){return a=+a,b=null==b?e:b,a>-1&&a%1==0&&b>a}var e=Math.pow(2,53)-1;b.exports=d},{}],180:[function(a,b,c){function d(a,b,c){if(!g(c))return!1;var d=typeof b;if("number"==d)var h=c.length,i=f(h)&&e(b,h);else i="string"==d&&b in c;if(i){var j=c[b];return a===a?a===j:j!==j}return!1}var e=a("./isIndex"),f=a("./isLength"),g=a("../lang/isObject");b.exports=d},{"../lang/isObject":189,"./isIndex":179,"./isLength":181}],181:[function(a,b,c){function d(a){return"number"==typeof a&&a>-1&&a%1==0&&e>=a}var e=Math.pow(2,53)-1;b.exports=d},{}],182:[function(a,b,c){b.exports=a(106)},{}],183:[function(a,b,c){function d(a){return a===a&&(0===a?1/a>0:!e(a))}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":189}],184:[function(a,b,c){function d(a){for(var b=i(a),c=b.length,d=c&&a.length,k=d&&h(d)&&(f(a)||j.nonEnumArgs&&e(a)),m=-1,n=[];++m<c;){var o=b[m];(k&&g(o,d)||l.call(a,o))&&n.push(o)}return n}var e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("./isIndex"),h=a("./isLength"),i=a("../object/keysIn"),j=a("../support"),k=Object.prototype,l=k.hasOwnProperty;b.exports=d},{"../lang/isArguments":186,"../lang/isArray":187,"../object/keysIn":194,"../support":199,"./isIndex":179,"./isLength":181}],185:[function(a,b,c){function d(a){return e(a)?a:Object(a)}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":189}],186:[function(a,b,c){function d(a){var b=f(a)?a.length:void 0;return e(b)&&i.call(a)==g}var e=a("../internal/isLength"),f=a("../internal/isObjectLike"),g="[object Arguments]",h=Object.prototype,i=h.toString;b.exports=d},{"../internal/isLength":181,"../internal/isObjectLike":182}],187:[function(a,b,c){var d=a("../internal/isLength"),e=a("./isNative"),f=a("../internal/isObjectLike"),g="[object Array]",h=Object.prototype,i=h.toString,j=e(j=Array.isArray)&&j,k=j||function(a){return f(a)&&d(a.length)&&i.call(a)==g};b.exports=k},{"../internal/isLength":181,"../internal/isObjectLike":182,"./isNative":188}],188:[function(a,b,c){function d(a){return null==a?!1:k.call(a)==g?l.test(j.call(a)):f(a)&&h.test(a)}var e=a("../string/escapeRegExp"),f=a("../internal/isObjectLike"),g="[object Function]",h=/^\[object .+?Constructor\]$/,i=Object.prototype,j=Function.prototype.toString,k=i.toString,l=RegExp("^"+e(k).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{"../internal/isObjectLike":182,"../string/escapeRegExp":198}],189:[function(a,b,c){function d(a){var b=typeof a;return"function"==b||!!a&&"object"==b}b.exports=d},{}],190:[function(a,b,c){function d(a){return"string"==typeof a||e(a)&&h.call(a)==f}var e=a("../internal/isObjectLike"),f="[object String]",g=Object.prototype,h=g.toString;b.exports=d},{"../internal/isObjectLike":182}],191:[function(a,b,c){arguments[4][126][0].apply(c,arguments)},{"../internal/isLength":181,"../internal/isObjectLike":182}],192:[function(a,b,c){var d=a("../internal/baseAssign"),e=a("../internal/createAssigner"),f=e(d);b.exports=f},{"../internal/baseAssign":158,"../internal/createAssigner":173}],193:[function(a,b,c){var d=a("../internal/isLength"),e=a("../lang/isNative"),f=a("../lang/isObject"),g=a("../internal/shimKeys"),h=e(h=Object.keys)&&h,i=h?function(a){if(a)var b=a.constructor,c=a.length;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&c&&d(c)?g(a):f(a)?h(a):[]}:g;b.exports=i},{"../internal/isLength":181,"../internal/shimKeys":184,"../lang/isNative":188,"../lang/isObject":189}],194:[function(a,b,c){function d(a){if(null==a)return[];i(a)||(a=Object(a));var b=a.length;b=b&&h(b)&&(f(a)||j.nonEnumArgs&&e(a))&&b||0;for(var c=a.constructor,d=-1,k="function"==typeof c&&c.prototype===a,m=Array(b),n=b>0;++d<b;)m[d]=d+"";for(var o in a)n&&g(o,b)||"constructor"==o&&(k||!l.call(a,o))||m.push(o);return m}var e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("../internal/isIndex"),h=a("../internal/isLength"),i=a("../lang/isObject"),j=a("../support"),k=Object.prototype,l=k.hasOwnProperty;b.exports=d},{"../internal/isIndex":179,"../internal/isLength":181,"../lang/isArguments":186,"../lang/isArray":187,"../lang/isObject":189,"../support":199}],195:[function(a,b,c){function d(a,b,c){var d={};return b=e(b,c,3),f(a,function(a,c,e){d[c]=b(a,c,e)}),d}var e=a("../internal/baseCallback"),f=a("../internal/baseForOwn");b.exports=d},{"../internal/baseCallback":159,"../internal/baseForOwn":162}],196:[function(a,b,c){function d(a){for(var b=-1,c=e(a),d=c.length,f=Array(d);++b<d;){var g=c[b];f[b]=[g,a[g]]}return f}var e=a("./keys");b.exports=d},{"./keys":193}],197:[function(a,b,c){function d(a){return e(a,f(a))}var e=a("../internal/baseValues"),f=a("./keys");b.exports=d},{"../internal/baseValues":171,"./keys":193}],198:[function(a,b,c){arguments[4][135][0].apply(c,arguments)},{"../internal/baseToString":170}],199:[function(a,b,c){(function(a){var c=Object.prototype,d=(d=a.window)&&d.document,e=c.propertyIsEnumerable,f={};!function(a){f.funcDecomp=/\bthis\b/.test(function(){return this}),f.funcNames="string"==typeof Function.name;try{f.dom=11===d.createDocumentFragment().nodeType}catch(b){f.dom=!1}try{f.nonEnumArgs=!e.call(arguments,1)}catch(b){f.nonEnumArgs=!0}}(0,0),b.exports=f}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],200:[function(a,b,c){b.exports=a(136)},{}],201:[function(a,b,c){b.exports=a(137)},{}],202:[function(a,b,c){(function(a){(function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa=[].slice,qa={}.hasOwnProperty,ra=function(a,b){function c(){this.constructor=a}for(var d in b)qa.call(b,d)&&(a[d]=b[d]);
return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},sa=function(a,b){return function(){return a.apply(b,arguments)}};c={toString:function(){return"Bacon"}},c.version="0.7.34",n=("undefined"!=typeof a&&null!==a?a:this).Error,c.fromBinder=function(a,b){return null==b&&(b=na.id),new m(I(c,"fromBinder",a,b),function(d){var e,f,g;return g=!1,e=function(){return"undefined"!=typeof f&&null!==f?(g||f(),g=!0):void 0},f=a(function(){var a,g,h,i,j,k;for(a=1<=arguments.length?pa.call(arguments,0):[],i=b.apply(this,a),Q(i)&&na.last(i)instanceof l||(i=[i]),h=c.more,j=0,k=i.length;k>j;j++)if(g=i[j],h=d(g=ga(g)),h===c.noMore||g.isEnd())return null!=f?e():c.scheduler.setTimeout(e,0),h;return h}),e})},c.$={},c.$.asEventStream=function(a,b,d){var e;return S(b)&&(e=[b,void 0],d=e[0],b=e[1]),la(this.selector||this,"asEventStream",a,c.fromBinder(function(c){return function(d){return c.on(a,b,d),function(){return c.off(a,b,d)}}}(this),d))},null!=(oa="undefined"!=typeof jQuery&&null!==jQuery?jQuery:"undefined"!=typeof Zepto&&null!==Zepto?Zepto:void 0)&&(oa.fn.asEventStream=c.$.asEventStream),c.fromEventTarget=function(a,b,d){var e,f,g,h,i,j,k,l;return e=null!=(g=null!=(h=null!=(i=a.addEventListener)?i:a.addListener)?h:a.bind)?g:a.on,f=null!=(j=null!=(k=null!=(l=a.removeEventListener)?l:a.removeListener)?k:a.unbind)?j:a.off,la(c,"fromEventTarget",a,b,c.fromBinder(function(c){return e.call(a,b,c),function(){return f.call(a,b,c)}},d))},c.fromPromise=function(a,b){return la(c,"fromPromise",a,c.fromBinder(function(c){return a.then(c,function(a){return c(new k(a))}),function(){return b&&"function"==typeof a.abort?a.abort():void 0}},function(a){return[a,J()]}))},c.noMore=["<no-more>"],c.more=["<more>"],c.later=function(a,b){return la(c,"later",a,b,c.fromPoll(a,function(){return[b,J()]}))},c.sequentially=function(a,b){var d;return d=0,la(c,"sequentially",a,b,c.fromPoll(a,function(){var a;return a=b[d++],d<b.length?a:d===b.length?[a,J()]:J()}))},c.repeatedly=function(a,b){var d;return d=0,la(c,"repeatedly",a,b,c.fromPoll(a,function(){return b[d++%b.length]}))},c.spy=function(a){return ea.push(a)},ea=[],da=function(a){var b,c,d;if(ea.length&&!da.running)try{for(da.running=!0,c=0,d=ea.length;d>c;c++)(b=ea[c])(a)}finally{delete da.running}return void 0},ma=function(a){return function(){var b,c,d,e;return d=arguments[0],b=2<=arguments.length?pa.call(arguments,1):[],"object"==typeof d&&b.length&&(c=d,e=b[0],d=function(){return c[e].apply(c,arguments)},b=b.slice(1)),a.apply(null,[d].concat(pa.call(b)))}},V=function(a,b){return ma(function(){var d,e,f;return e=arguments[0],d=2<=arguments.length?pa.call(arguments,1):[],f=ba(b,[function(a,b){return e.apply(null,pa.call(a).concat([b]))}]),la.apply(null,[c,a,e].concat(pa.call(d),[c.combineAsArray(d).flatMap(f)]))})},c.fromCallback=V("fromCallback",function(){var a,b;return b=arguments[0],a=2<=arguments.length?pa.call(arguments,1):[],c.fromBinder(function(c){return W(b,a)(c),aa},function(a){return[a,J()]})}),c.fromNodeCallback=V("fromNodeCallback",function(){var a,b;return b=arguments[0],a=2<=arguments.length?pa.call(arguments,1):[],c.fromBinder(function(c){return W(b,a)(c),aa},function(a,b){return a?[new k(a),J()]:[b,J()]})}),c.fromPoll=function(a,b){return la(c,"fromPoll",a,b,c.fromBinder(function(b){var d;return d=c.scheduler.setInterval(b,a),function(){return c.scheduler.clearInterval(d)}},b))},c.interval=function(a,b){return null==b&&(b={}),la(c,"interval",a,b,c.fromPoll(a,function(){return _(b)}))},c.constant=function(a){return new s(I(c,"constant",a),function(b){return b(P(a)),b(J()),aa})},c.never=function(){return new m(I(c,"never"),function(a){return a(J()),aa})},c.once=function(a){return new m(I(c,"once",a),function(b){return b(ga(a)),b(J()),aa})},c.fromArray=function(a){var b;return z(a),b=0,new m(I(c,"fromArray",a),function(d){var e,f,g;for(f=!1,e=c.more;e!==c.noMore&&!f;)b>=a.length?(d(J()),e=c.noMore):(g=a[b++],e=d(ga(g)));return function(){return f=!0}})},c.mergeAll=function(){var a;return a=1<=arguments.length?pa.call(arguments,0):[],Q(a[0])&&(a=a[0]),a.length?new m(I.apply(null,[c,"mergeAll"].concat(pa.call(a))),function(b){var d,e,f;return d=0,f=function(e){return function(f){return e.dispatcher.subscribe(function(e){var g;return e.isEnd()?(d++,d===a.length?b(J()):c.more):(g=b(e),g===c.noMore&&f(),g)})}},e=na.map(f,a),F.apply(null,e)}):c.never()},c.zipAsArray=function(){var a;return a=1<=arguments.length?pa.call(arguments,0):[],Q(a[0])&&(a=a[0]),la.apply(null,[c,"zipAsArray"].concat(pa.call(a),[c.zipWith(a,function(){var a;return a=1<=arguments.length?pa.call(arguments,0):[]})]))},c.zipWith=function(){var a,b,d;return a=arguments[0],b=2<=arguments.length?pa.call(arguments,1):[],S(a)||(d=[a,b[0]],b=d[0],a=d[1]),b=na.map(function(a){return a.toEventStream()},b),la.apply(null,[c,"zipWith",a].concat(pa.call(b),[c.when(b,a)]))},c.groupSimultaneous=function(){var a,b,e;return e=1<=arguments.length?pa.call(arguments,0):[],1===e.length&&Q(e[0])&&(e=e[0]),b=function(){var b,c,f;for(f=[],b=0,c=e.length;c>b;b++)a=e[b],f.push(new d(a));return f}(),la.apply(null,[c,"groupSimultaneous"].concat(pa.call(e),[c.when(b,function(){var a;return a=1<=arguments.length?pa.call(arguments,0):[]})]))},c.combineAsArray=function(){var a,b,d,e,f,g,h;for(f=1<=arguments.length?pa.call(arguments,0):[],1===f.length&&Q(f[0])&&(f=f[0]),a=g=0,h=f.length;h>g;a=++g)e=f[a],T(e)||(f[a]=c.constant(e));return f.length?(d=function(){var a,c,d;for(d=[],a=0,c=f.length;c>a;a++)b=f[a],d.push(new v(b,!0));return d}(),la.apply(null,[c,"combineAsArray"].concat(pa.call(f),[c.when(d,function(){var a;return a=1<=arguments.length?pa.call(arguments,0):[]}).toProperty()]))):c.constant([])},c.onValues=function(){var a,b,d;return b=2<=arguments.length?pa.call(arguments,0,d=arguments.length-1):(d=0,[]),a=arguments[d++],c.combineAsArray(b).onValues(a)},c.combineWith=function(){var a,b;return a=arguments[0],b=2<=arguments.length?pa.call(arguments,1):[],la.apply(null,[c,"combineWith",a].concat(pa.call(b),[c.combineAsArray(b).map(function(b){return a.apply(null,b)})]))},c.combineTemplate=function(a){var b,d,e,f,g,h,i,j,k,l;return i=[],l=[],h=function(a){return a[a.length-1]},k=function(a,b,c){return h(a)[b]=c},b=function(a,b){return function(c,d){return k(c,a,d[b])}},g=function(a,b){return function(c){return k(c,a,b)}},j=function(a){return Q(a)?[]:{}},e=function(a,c){var d,e;return T(c)?(l.push(c),i.push(b(a,l.length-1))):c!==Object(c)||"function"==typeof c||c instanceof RegExp||c instanceof Date?i.push(g(a,c)):(e=function(a){return function(b){var d;return d=j(c),k(b,a,d),b.push(d)}},d=function(a){return a.pop()},i.push(e(a)),f(c),i.push(d))},f=function(a){return na.each(a,e)},f(a),d=function(b){var c,d,e,f,g;for(e=j(a),c=[e],f=0,g=i.length;g>f;f++)(d=i[f])(c,b);return e},la(c,"combineTemplate",a,c.combineAsArray(l).map(d))},c.retry=function(a){var b,d,e,f,g,h;if(!S(a.source))throw new n("'source' option has to be a function");return h=a.source,f=a.retries||0,e=a.maxRetries||f,b=a.delay||function(){return 0},d=a.isRetryable||function(){return!0},g=function(a){var g,i;return i={source:h,retries:f-1,maxRetries:e,delay:b,isRetryable:d},g=function(){return c.retry(i)},c.later(b(a)).filter(!1).concat(c.once().flatMap(g))},la(c,"retry",a,h().flatMapError(function(a){return d(a)&&f>0?g({error:a,retriesDone:e-f}):c.once(new k(a))}))},K=0,l=function(){function a(){this.id=++K}return a.prototype.isEvent=function(){return!0},a.prototype.isEnd=function(){return!1},a.prototype.isInitial=function(){return!1},a.prototype.isNext=function(){return!1},a.prototype.isError=function(){return!1},a.prototype.hasValue=function(){return!1},a.prototype.filter=function(){return!0},a.prototype.inspect=function(){return this.toString()},a.prototype.log=function(){return this.toString()},a}(),p=function(a){function b(a,c){b.__super__.constructor.call(this),!c&&S(a)||a instanceof b?(this.valueF=a,this.valueInternal=void 0):(this.valueF=void 0,this.valueInternal=a)}return ra(b,a),b.prototype.isNext=function(){return!0},b.prototype.hasValue=function(){return!0},b.prototype.value=function(){return this.valueF instanceof b?(this.valueInternal=this.valueF.value(),this.valueF=void 0):this.valueF&&(this.valueInternal=this.valueF(),this.valueF=void 0),this.valueInternal},b.prototype.fmap=function(a){var b,c;return this.valueInternal?(c=this.valueInternal,this.apply(function(){return a(c)})):(b=this,this.apply(function(){return a(b.value())}))},b.prototype.apply=function(a){return new b(a)},b.prototype.filter=function(a){return a(this.value())},b.prototype.toString=function(){return na.toString(this.value())},b.prototype.log=function(){return this.value()},b}(l),o=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return ra(b,a),b.prototype.isInitial=function(){return!0},b.prototype.isNext=function(){return!1},b.prototype.apply=function(a){return new b(a)},b.prototype.toNext=function(){return new p(this)},b}(p),j=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return ra(b,a),b.prototype.isEnd=function(){return!0},b.prototype.fmap=function(){return this},b.prototype.apply=function(){return this},b.prototype.toString=function(){return"<end>"},b}(l),k=function(a){function b(a){this.error=a}return ra(b,a),b.prototype.isError=function(){return!0},b.prototype.fmap=function(){return this},b.prototype.apply=function(){return this},b.prototype.toString=function(){return"<error> "+na.toString(this.error)},b}(l),O=0,r=function(){function a(a){this.id=++O,la(a,this),this.initialDesc=this.desc}return a.prototype.subscribe=function(a){return w.wrappedSubscribe(this,a)},a.prototype.subscribeInternal=function(a){return this.dispatcher.subscribe(a)},a.prototype.onValue=function(){var a;return a=X(arguments),this.subscribe(function(b){return b.hasValue()?a(b.value()):void 0})},a.prototype.onValues=function(a){return this.onValue(function(b){return a.apply(null,b)})},a.prototype.onError=function(){var a;return a=X(arguments),this.subscribe(function(b){return b.isError()?a(b.error):void 0})},a.prototype.onEnd=function(){var a;return a=X(arguments),this.subscribe(function(b){return b.isEnd()?a():void 0})},a.prototype.errors=function(){return la(this,"errors",this.filter(function(){return!1}))},a.prototype.filter=function(){var a,b;return b=arguments[0],a=2<=arguments.length?pa.call(arguments,1):[],H(this,b,a,function(a){return la(this,"filter",a,this.withHandler(function(b){return b.filter(a)?this.push(b):c.more}))})},a.prototype.takeWhile=function(){var a,b;return b=arguments[0],a=2<=arguments.length?pa.call(arguments,1):[],H(this,b,a,function(a){return la(this,"takeWhile",a,this.withHandler(function(b){return b.filter(a)?this.push(b):(this.push(J()),c.noMore)}))})},a.prototype.endOnError=function(){var a,b;return b=arguments[0],a=2<=arguments.length?pa.call(arguments,1):[],null==b&&(b=!0),H(this,b,a,function(a){return la(this,"endOnError",this.withHandler(function(b){return b.isError()&&a(b.error)?(this.push(b),this.push(J())):this.push(b)}))})},a.prototype.take=function(a){return 0>=a?c.never():la(this,"take",a,this.withHandler(function(b){return b.hasValue()?(a--,a>0?this.push(b):(0===a&&this.push(b),this.push(J()),c.noMore)):this.push(b)}))},a.prototype.map=function(){var a,b;return b=arguments[0],a=2<=arguments.length?pa.call(arguments,1):[],b instanceof s?b.sampledBy(this,N):H(this,b,a,function(a){return la(this,"map",a,this.withHandler(function(b){return this.push(b.fmap(a))}))})},a.prototype.mapError=function(){var a;return a=X(arguments),la(this,"mapError",a,this.withHandler(function(b){return b.isError()?this.push(_(a(b.error))):this.push(b)}))},a.prototype.mapEnd=function(){var a;return a=X(arguments),la(this,"mapEnd",a,this.withHandler(function(b){return b.isEnd()?(this.push(_(a(b))),this.push(J()),c.noMore):this.push(b)}))},a.prototype.doAction=function(){var a;return a=X(arguments),la(this,"doAction",a,this.withHandler(function(b){return b.hasValue()&&a(b.value()),this.push(b)}))},a.prototype.skip=function(a){return la(this,"skip",a,this.withHandler(function(b){return b.hasValue()&&a>0?(a--,c.more):this.push(b)}))},a.prototype.skipDuplicates=function(a){return null==a&&(a=function(a,b){return a===b}),la(this,"skipDuplicates",this.withStateMachine(q,function(b,c){return c.hasValue()?c.isInitial()||b===q||!a(b.get(),c.value())?[new u(c.value()),[c]]:[b,[]]:[b,[c]]}))},a.prototype.skipErrors=function(){return la(this,"skipErrors",this.withHandler(function(a){return a.isError()?c.more:this.push(a)}))},a.prototype.withStateMachine=function(a,b){var d;return d=a,la(this,"withStateMachine",a,b,this.withHandler(function(a){var e,f,g,h,i,j,k;for(e=b(d,a),f=e[0],h=e[1],d=f,i=c.more,j=0,k=h.length;k>j;j++)if(g=h[j],i=this.push(g),i===c.noMore)return i;return i}))},a.prototype.scan=function(a,b){var d,e,f;return b=fa(b),d=ja(a),f=function(a){return function(f){var g,h,i,j;return g=!1,j=aa,h=c.more,i=function(){return g?void 0:d.forEach(function(a){return g=!0,h=f(new o(function(){return a})),h===c.noMore?(j(),j=aa):void 0})},j=a.dispatcher.subscribe(function(a){var e,j;return a.hasValue()?g&&a.isInitial()?c.more:(a.isInitial()||i(),g=!0,j=d.getOrElse(void 0),e=b(j,a.value()),d=new u(e),f(a.apply(function(){return e}))):(a.isEnd()&&(h=i()),h!==c.noMore?f(a):void 0)}),w.whenDoneWith(e,i),j}}(this),e=new s(I(this,"scan",a,b),f)},a.prototype.fold=function(a,b){return la(this,"fold",a,b,this.scan(a,b).sampledBy(this.filter(!1).mapEnd().toProperty()))},a.prototype.zip=function(a,b){return null==b&&(b=Array),la(this,"zip",a,c.zipWith([this,a],b))},a.prototype.diff=function(a,b){return b=fa(b),la(this,"diff",a,b,this.scan([a],function(a,c){return[c,b(a[0],c)]}).filter(function(a){return 2===a.length}).map(function(a){return a[1]}))},a.prototype.flatMap=function(){return M(this,$(arguments))},a.prototype.flatMapFirst=function(){return M(this,$(arguments),!0)},a.prototype.flatMapWithConcurrencyLimit=function(){var a,b;return b=arguments[0],a=2<=arguments.length?pa.call(arguments,1):[],la.apply(null,[this,"flatMapWithConcurrencyLimit",b].concat(pa.call(a),[M(this,$(a),!1,b)]))},a.prototype.flatMapLatest=function(){var a,b;return a=$(arguments),b=this.toEventStream(),la(this,"flatMapLatest",a,b.flatMap(function(c){return Z(a(c)).takeUntil(b)}))},a.prototype.flatMapError=function(a){return la(this,"flatMapError",a,this.mapError(function(a){return new k(a)}).flatMap(function(b){return b instanceof k?a(b.error):c.once(b)}))},a.prototype.flatMapConcat=function(){return la.apply(null,[this,"flatMapConcat"].concat(pa.call(arguments),[this.flatMapWithConcurrencyLimit.apply(this,[1].concat(pa.call(arguments)))]))},a.prototype.bufferingThrottle=function(a){return la(this,"bufferingThrottle",a,this.flatMapConcat(function(b){return c.once(b).concat(c.later(a).filter(!1))}))},a.prototype.not=function(){return la(this,"not",this.map(function(a){return!a}))},a.prototype.log=function(){var a;return a=1<=arguments.length?pa.call(arguments,0):[],this.subscribe(function(b){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log.apply(console,pa.call(a).concat([b.log()])):void 0}),this},a.prototype.slidingWindow=function(a,b){return null==b&&(b=0),la(this,"slidingWindow",a,b,this.scan([],function(b,c){return b.concat([c]).slice(-a)}).filter(function(a){return a.length>=b}))},a.prototype.combine=function(a,b){var d;return d=fa(b),la(this,"combine",a,b,c.combineAsArray(this,a).map(function(a){return d(a[0],a[1])}))},a.prototype.decode=function(a){return la(this,"decode",a,this.combine(c.combineTemplate(a),function(a,b){return b[a]}))},a.prototype.awaiting=function(a){return la(this,"awaiting",a,c.groupSimultaneous(this,a).map(function(a){var b,c;return b=a[0],c=a[1],0===c.length}).toProperty(!1).skipDuplicates())},a.prototype.name=function(a){return this._name=a,this},a.prototype.withDescription=function(){return I.apply(null,arguments).apply(this)},a.prototype.toString=function(){return this._name?this._name:this.desc.toString()},a.prototype.internalDeps=function(){return this.initialDesc.deps()},a}(),r.prototype.reduce=r.prototype.fold,r.prototype.assign=r.prototype.onValue,r.prototype.inspect=r.prototype.toString,M=function(a,b,d,e){var g,h,i;return i=[a],g=[],h=new m(I(a,"flatMap"+(d?"First":""),b),function(h){var i,j,k,l,m;return k=new f,l=[],m=function(a){var d;return d=Z(b(a.value())),g.push(d),k.add(function(a,b){return d.dispatcher.subscribe(function(e){var f;return e.isEnd()?(na.remove(d,g),j(),i(b),c.noMore):(e instanceof o&&(e=e.toNext()),f=h(e),f===c.noMore&&a(),f)})})},j=function(){var a;return a=l.shift(),a?m(a):void 0},i=function(a){return a(),k.empty()?h(J()):void 0},k.add(function(b,f){return a.dispatcher.subscribe(function(a){return a.isEnd()?i(f):a.isError()?h(a):d&&k.count()>1?c.more:k.unsubscribed?c.noMore:e&&k.count()>e?l.push(a):m(a)})}),k.unsubscribe}),h.internalDeps=function(){return g.length?i.concat(g):i},h},m=function(a){function b(a,c,d){S(a)&&(d=c,c=a,a=[]),b.__super__.constructor.call(this,a),B(c),this.dispatcher=new i(c,d),da(this)}return ra(b,a),b.prototype.delay=function(a){return la(this,"delay",a,this.flatMap(function(b){return c.later(a,b)}))},b.prototype.debounce=function(a){return la(this,"debounce",a,this.flatMapLatest(function(b){return c.later(a,b)}))},b.prototype.debounceImmediate=function(a){return la(this,"debounceImmediate",a,this.flatMapFirst(function(b){return c.once(b).concat(c.later(a).filter(!1))}))},b.prototype.throttle=function(a){return la(this,"throttle",a,this.bufferWithTime(a).map(function(a){return a[a.length-1]}))},b.prototype.bufferWithTime=function(a){return la(this,"bufferWithTime",a,this.bufferWithTimeOrCount(a,Number.MAX_VALUE))},b.prototype.bufferWithCount=function(a){return la(this,"bufferWithCount",a,this.bufferWithTimeOrCount(void 0,a))},b.prototype.bufferWithTimeOrCount=function(a,b){var c;return c=function(c){return c.values.length===b?c.flush():void 0!==a?c.schedule():void 0},la(this,"bufferWithTimeOrCount",a,b,this.buffer(a,c,c))},b.prototype.buffer=function(a,b,d){var e,f,g;return null==b&&(b=aa),null==d&&(d=aa),e={scheduled:!1,end:void 0,values:[],flush:function(){var a;if(this.scheduled=!1,this.values.length>0){if(a=this.push(_(this.values)),this.values=[],null!=this.end)return this.push(this.end);if(a!==c.noMore)return d(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){return this.scheduled?void 0:(this.scheduled=!0,a(function(a){return function(){return a.flush()}}(this)))}},g=c.more,S(a)||(f=a,a=function(a){return c.scheduler.setTimeout(a,f)}),la(this,"buffer",this.withHandler(function(a){return e.push=function(a){return function(b){return a.push(b)}}(this),a.isError()?g=this.push(a):a.isEnd()?(e.end=a,e.scheduled||e.flush()):(e.values.push(a.value()),b(e)),g}))},b.prototype.merge=function(a){var b;return A(a),b=this,la(b,"merge",a,c.mergeAll(this,a))},b.prototype.toProperty=function(a){var b,d;return d=0===arguments.length?q:ja(function(){return a}),b=this.dispatcher,new s(I(this,"toProperty",a),function(a){var e,f,g,h;return e=!1,h=aa,f=c.more,g=function(){return e?void 0:d.forEach(function(b){return e=!0,f=a(new o(b)),f===c.noMore?(h(),h=aa):void 0})},h=b.subscribe(function(b){return b.hasValue()?e&&b.isInitial()?c.more:(b.isInitial()||g(),e=!0,d=new u(b),a(b)):(b.isEnd()&&(f=g()),f!==c.noMore?a(b):void 0)}),g(),h})},b.prototype.toEventStream=function(){return this},b.prototype.sampledBy=function(a,b){return la(this,"sampledBy",a,b,this.toProperty().sampledBy(a,b))},b.prototype.concat=function(a){var c;return c=this,new b(I(c,"concat",a),function(b){var d,e;return e=aa,d=c.dispatcher.subscribe(function(c){return c.isEnd()?e=a.dispatcher.subscribe(b):b(c)}),function(){return d(),e()}})},b.prototype.takeUntil=function(a){var b;return b={},la(this,"takeUntil",a,c.groupSimultaneous(this.mapEnd(b),a.skipErrors()).withHandler(function(d){var e,f,g,h,i,j;if(d.hasValue()){if(j=d.value(),e=j[0],a=j[1],a.length)return this.push(J());for(f=c.more,h=0,i=e.length;i>h;h++)g=e[h],f=g===b?this.push(J()):this.push(_(g));return f}return this.push(d)}))},b.prototype.skipUntil=function(a){var b;return b=a.take(1).map(!0).toProperty(!1),la(this,"skipUntil",a,this.filter(b))},b.prototype.skipWhile=function(){var a,b,d;return b=arguments[0],a=2<=arguments.length?pa.call(arguments,1):[],d=!1,H(this,b,a,function(a){return la(this,"skipWhile",a,this.withHandler(function(b){return!d&&b.hasValue()&&a(b.value())?c.more:(b.hasValue()&&(d=!0),this.push(b))}))})},b.prototype.holdWhen=function(a){var b,d,e;return e=a.startWith(!1),d=e.filter(function(a){return!a}),b=e.filter(na.id),la(this,"holdWhen",a,this.filter(!1).merge(e.flatMapConcat(function(a){return function(e){return e?a.scan([],function(a,b){return a.concat(b)}).sampledBy(d).take(1).flatMap(c.fromArray):a.takeUntil(b)}}(this))))},b.prototype.startWith=function(a){return la(this,"startWith",a,c.once(a).concat(this))},b.prototype.withHandler=function(a){return new b(I(this,"withHandler",a),this.dispatcher.subscribe,a)},b}(r),s=function(a){function b(a,c,d){S(a)&&(d=c,c=a,a=[]),b.__super__.constructor.call(this,a),B(c),this.dispatcher=new t(this,c,d),da(this)}return ra(b,a),b.prototype.sampledBy=function(a,d){var e,f,g,h,i;return null!=d?d=fa(d):(e=!0,d=function(a){return a.value()}),i=new v(this,!1,e),g=new v(a,!0,e),h=c.when([i,g],d),f=a instanceof b?h.toProperty():h,la(this,"sampledBy",a,d,f)},b.prototype.sample=function(a){return la(this,"sample",a,this.sampledBy(c.interval(a,{})))},b.prototype.changes=function(){return new m(I(this,"changes"),function(a){return function(b){return a.dispatcher.subscribe(function(a){return a.isInitial()?void 0:b(a)})}}(this))},b.prototype.withHandler=function(a){return new b(I(this,"withHandler",a),this.dispatcher.subscribe,a)},b.prototype.toProperty=function(){return C(arguments),this},b.prototype.toEventStream=function(){return new m(I(this,"toEventStream"),function(a){return function(b){return a.dispatcher.subscribe(function(a){return a.isInitial()&&(a=a.toNext()),b(a)})}}(this))},b.prototype.and=function(a){return la(this,"and",a,this.combine(a,function(a,b){return a&&b}))},b.prototype.or=function(a){return la(this,"or",a,this.combine(a,function(a,b){return a||b}))},b.prototype.delay=function(a){return this.delayChanges("delay",a,function(b){return b.delay(a)})},b.prototype.debounce=function(a){return this.delayChanges("debounce",a,function(b){return b.debounce(a)})},b.prototype.throttle=function(a){return this.delayChanges("throttle",a,function(b){return b.throttle(a)})},b.prototype.delayChanges=function(){var a,b,c;return a=2<=arguments.length?pa.call(arguments,0,c=arguments.length-1):(c=0,[]),b=arguments[c++],la.apply(null,[this].concat(pa.call(a),[x(this,b(this.changes()))]))},b.prototype.takeUntil=function(a){var b;return b=this.changes().takeUntil(a),la(this,"takeUntil",a,x(this,b))},b.prototype.startWith=function(a){return la(this,"startWith",a,this.scan(a,function(a,b){return b}))},b.prototype.bufferingThrottle=function(){var a;return(a=b.__super__.bufferingThrottle.apply(this,arguments)).bufferingThrottle.apply(a,arguments).toProperty()},b}(r),H=function(a,b,c,d){var e;return b instanceof s?(e=b.sampledBy(a,function(a,b){return[a,b]}),d.call(e,function(a){var b,c;return b=a[0],c=a[1],b}).map(function(a){var b,c;return b=a[0],c=a[1]})):(b=W(b,c),d.call(a,b))},x=function(a,b){var d;return d=new m(I(a,"justInitValue"),function(b){var e,f;return f=void 0,e=a.dispatcher.subscribe(function(a){return a.isEnd()||(f=a),c.noMore}),w.whenDoneWith(d,function(){return null!=f&&b(f),b(J())}),e}),d.concat(b).toProperty()},i=function(){function a(a,b){this._subscribe=a,this._handleEvent=b,this.subscribe=sa(this.subscribe,this),this.handleEvent=sa(this.handleEvent,this),this.subscriptions=[],this.queue=[],this.pushing=!1,this.ended=!1,this.prevError=void 0,this.unsubSrc=void 0}return a.prototype.hasSubscribers=function(){return this.subscriptions.length>0},a.prototype.removeSub=function(a){return this.subscriptions=na.without(a,this.subscriptions)},a.prototype.push=function(a){return a.isEnd()&&(this.ended=!0),w.inTransaction(a,this,this.pushIt,[a])},a.prototype.pushIt=function(a){var b,d,e,f,g,h;if(this.pushing)return this.queue.push(a),c.more;if(a!==this.prevError){a.isError()&&(this.prevError=a),e=!1;try{for(this.pushing=!0,f=this.subscriptions,g=0,h=f.length;h>g;g++)d=f[g],b=d.sink(a),(b===c.noMore||a.isEnd())&&this.removeSub(d);e=!0}finally{this.pushing=!1,e||(this.queue=[])}for(e=!0;this.queue.length;)a=this.queue.shift(),this.push(a);return this.hasSubscribers()?c.more:(this.unsubscribeFromSource(),c.noMore)}},a.prototype.handleEvent=function(a){return this._handleEvent?this._handleEvent(a):this.push(a)},a.prototype.unsubscribeFromSource=function(){return this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},a.prototype.subscribe=function(a){var b;return this.ended?(a(J()),aa):(B(a),b={sink:a},this.subscriptions.push(b),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),B(this.unsubSrc)),function(a){return function(){return a.removeSub(b),a.hasSubscribers()?void 0:a.unsubscribeFromSource()}}(this))},a}(),t=function(a){function b(a,c,d){this.property=a,this.subscribe=sa(this.subscribe,this),b.__super__.constructor.call(this,c,d),this.current=q,this.currentValueRootId=void 0,this.propertyEnded=!1}return ra(b,a),b.prototype.push=function(a){return a.isEnd()&&(this.propertyEnded=!0),a.hasValue()&&(this.current=new u(a),this.currentValueRootId=w.currentEventId()),b.__super__.push.call(this,a)},b.prototype.maybeSubSource=function(a,b){return b===c.noMore?aa:this.propertyEnded?(a(J()),aa):i.prototype.subscribe.call(this,a)},b.prototype.subscribe=function(a){var b,d,e,f;return d=!1,e=c.more,this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)?(b=w.currentEventId(),f=this.currentValueRootId,!this.propertyEnded&&f&&b&&b!==f?(w.whenDoneWith(this.property,function(b){return function(){return b.currentValueRootId===f?a(P(b.current.get().value())):void 0}}(this)),this.maybeSubSource(a,e)):(w.inTransaction(void 0,this,function(){return e=function(){try{return a(P(this.current.get().value()))}catch(b){return c.more}}.call(this)},[]),this.maybeSubSource(a,e))):this.maybeSubSource(a,e)},b}(i),e=function(a){function b(){this.guardedSink=sa(this.guardedSink,this),this.subscribeAll=sa(this.subscribeAll,this),this.unsubAll=sa(this.unsubAll,this),this.sink=void 0,this.subscriptions=[],this.ended=!1,b.__super__.constructor.call(this,I(c,"Bus"),this.subscribeAll)}return ra(b,a),b.prototype.unsubAll=function(){var a,b,c,d;for(d=this.subscriptions,b=0,c=d.length;c>b;b++)a=d[b],"function"==typeof a.unsub&&a.unsub();return void 0},b.prototype.subscribeAll=function(a){var b,c,d,e;for(this.sink=a,e=E(this.subscriptions),c=0,d=e.length;d>c;c++)b=e[c],this.subscribeInput(b);return this.unsubAll},b.prototype.guardedSink=function(a){return function(b){return function(d){return d.isEnd()?(b.unsubscribeInput(a),c.noMore):b.sink(d)}}(this)},b.prototype.subscribeInput=function(a){return a.unsub=a.input.dispatcher.subscribe(this.guardedSink(a.input))},b.prototype.unsubscribeInput=function(a){var b,c,d,e,f;for(f=this.subscriptions,b=d=0,e=f.length;e>d;b=++d)if(c=f[b],c.input===a)return"function"==typeof c.unsub&&c.unsub(),void this.subscriptions.splice(b,1)},b.prototype.plug=function(a){var b;if(!this.ended)return b={input:a},this.subscriptions.push(b),null!=this.sink&&this.subscribeInput(b),function(b){return function(){return b.unsubscribeInput(a)}}(this)},b.prototype.end=function(){return this.ended=!0,this.unsubAll(),"function"==typeof this.sink?this.sink(J()):void 0},b.prototype.push=function(a){return"function"==typeof this.sink?this.sink(_(a)):void 0},b.prototype.error=function(a){return"function"==typeof this.sink?this.sink(new k(a)):void 0},b}(m),v=function(){function a(a,b,c){this.obs=a,this.sync=b,this.lazy=null!=c?c:!1,this.queue=[]}return a.prototype.subscribe=function(a){return this.obs.dispatcher.subscribe(a)},a.prototype.toString=function(){return this.obs.toString()},a.prototype.markEnded=function(){return this.ended=!0},a.prototype.consume=function(){return this.lazy?{value:na.always(this.queue[0])}:this.queue[0]},a.prototype.push=function(a){return this.queue=[a]},a.prototype.mayHave=function(){return!0},a.prototype.hasAtLeast=function(){return this.queue.length},a.prototype.flatten=!0,a}(),g=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return ra(b,a),b.prototype.consume=function(){return this.queue.shift()},b.prototype.push=function(a){return this.queue.push(a)},b.prototype.mayHave=function(a){return!this.ended||this.queue.length>=a},b.prototype.hasAtLeast=function(a){return this.queue.length>=a},b.prototype.flatten=!1,b}(v),d=function(a){function b(a){b.__super__.constructor.call(this,a,!0)}return ra(b,a),b.prototype.consume=function(){var a;return a=this.queue,this.queue=[],{value:function(){return a}}},b.prototype.push=function(a){return this.queue.push(a.value())},b.prototype.hasAtLeast=function(){return!0},b}(v),v.isTrigger=function(a){return a instanceof v?a.sync:a instanceof m},v.fromObservable=function(a){return a instanceof v?a:a instanceof s?new v(a,!1):new g(a,!0)},I=function(){var a,b,c;return b=arguments[0],c=arguments[1],a=3<=arguments.length?pa.call(arguments,2):[],(b||c)instanceof h?b||c:new h(b,c,a)},L=function(a){return Q(a)?na.flatMap(L,a):T(a)?[a]:a instanceof v?[a.obs]:[]},h=function(){function a(a,b,c){this.context=a,this.method=b,this.args=c,this.cached=void 0}return a.prototype.deps=function(){return this.cached||(this.cached=L([this.context].concat(this.args)))},a.prototype.apply=function(a){return a.desc=this,a},a.prototype.toString=function(){return na.toString(this.context)+"."+na.toString(this.method)+"("+na.map(na.toString,this.args)+")"},a}(),la=function(){var a,b,c;return a=2<=arguments.length?pa.call(arguments,0,c=arguments.length-1):(c=0,[]),b=arguments[c++],I.apply(null,a).apply(b)},c.when=function(){var a,b,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t,u,x;if(0===arguments.length)return c.never();for(f=arguments.length,q="when: expecting arguments in the form (Observable+,function)+",y(q,f%2===0),o=[],j=[],b=0,k=[];f>b;){for(k[b]=arguments[b],k[b+1]=arguments[b+1],i=na.toArray(arguments[b]),a=arguments[b+1],h={f:S(a)?a:function(){return a},ixs:[]},p=!1,r=0,t=i.length;t>r;r++){for(n=i[r],d=na.indexOf(o,n),p||(p=v.isTrigger(n)),0>d&&(o.push(n),d=o.length-1),x=h.ixs,s=0,u=x.length;u>s;s++)e=x[s],e.index===d&&e.count++;h.ixs.push({index:d,count:1})}y("At least one EventStream required",p||!i.length),i.length>0&&j.push(h),b+=2}return o.length?(o=na.map(v.fromObservable,o),g=na.any(o,function(a){return a.flatten})&&G(na.map(function(a){return a.obs},o)),l=new m(I.apply(null,[c,"when"].concat(pa.call(k))),function(a){var d,e,f,h,i,k,m;return m=[],f=!1,h=function(a){var c,d,e;for(e=a.ixs,c=0,d=e.length;d>c;c++)if(b=e[c],!o[b.index].hasAtLeast(b.count))return!1;return!0},e=function(a){return!a.sync||a.ended},d=function(a){var c,d,e;for(e=a.ixs,c=0,d=e.length;d>c;c++)if(b=e[c],!o[b.index].mayHave(b.count))return!0},i=function(a){return!a.source.flatten},k=function(k){return function(n){var p,q,r;return q=function(){return w.whenDoneWith(l,p)},r=function(){var d,e,f,g,k,l;if(!(m.length>0))return c.more;for(f=c.more,g=m.pop(),k=0,l=j.length;l>k;k++)if(e=j[k],h(e))return d=function(){var a,c,d,f;for(d=e.ixs,f=[],a=0,c=d.length;c>a;a++)b=d[a],f.push(o[b.index].consume());return f}(),f=a(g.e.apply(function(){var a,b;return b=function(){var b,c,e;for(e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.value());return e}(),e.f.apply(e,b)})),m.length&&(m=na.filter(i,m)),f===c.noMore?f:r()},p=function(){var b;return b=r(),f&&(f=!1,(na.all(o,e)||na.all(j,d))&&(b=c.noMore,a(J()))),b===c.noMore&&n(),b},k.subscribe(function(b){var d;return b.isEnd()?(f=!0,k.markEnded(),q()):b.isError()?d=a(b):(k.push(b),k.sync&&(m.push({source:k,e:b}),g||w.hasWaiters()?q():p())),d===c.noMore&&n(),
d||c.more})}},F.apply(null,function(){var a,b,c;for(c=[],a=0,b=o.length;b>a;a++)n=o[a],c.push(k(n));return c}())})):c.never()},G=function(a,b){var c;return null==b&&(b=[]),c=function(a){var d;return na.contains(b,a)?!0:(d=a.internalDeps(),d.length?(b.push(a),na.any(d,c)):(b.push(a),!1))},na.any(a,c)},c.update=function(){var a,b,d,e;for(b=arguments[0],e=2<=arguments.length?pa.call(arguments,1):[],d=function(a){return function(){var b;return b=1<=arguments.length?pa.call(arguments,0):[],function(c){return a.apply(null,[c].concat(b))}}},a=e.length-1;a>0;)e[a]instanceof Function||(e[a]=function(a){return function(){return a}}(e[a])),e[a]=d(e[a]),a-=2;return la.apply(null,[c,"update",b].concat(pa.call(e),[c.when.apply(c,e).scan(b,function(a,b){return b(a)})]))},F=function(){var a;return a=1<=arguments.length?pa.call(arguments,0):[],new f(a).unsubscribe},f=function(){function a(a){var b,c,d;for(null==a&&(a=[]),this.unsubscribe=sa(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[],c=0,d=a.length;d>c;c++)b=a[c],this.add(b)}return a.prototype.add=function(a){var b,c,d;if(!this.unsubscribed)return b=!1,c=aa,this.starting.push(a),d=function(d){return function(){return d.unsubscribed?void 0:(b=!0,d.remove(c),na.remove(a,d.starting))}}(this),c=a(this.unsubscribe,d),this.unsubscribed||b||this.subscriptions.push(c),na.remove(a,this.starting),c},a.prototype.remove=function(a){return this.unsubscribed?void 0:void 0!==na.remove(a,this.subscriptions)?a():void 0},a.prototype.unsubscribe=function(){var a,b,c,d;if(!this.unsubscribed){for(this.unsubscribed=!0,d=this.subscriptions,b=0,c=d.length;c>b;b++)(a=d[b])();return this.subscriptions=[],this.starting=[]}},a.prototype.count=function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},a.prototype.empty=function(){return 0===this.count()},a}(),c.CompositeUnsubscribe=f,u=function(){function a(a){this.value=a}return a.prototype.getOrElse=function(){return this.value},a.prototype.get=function(){return this.value},a.prototype.filter=function(b){return b(this.value)?new a(this.value):q},a.prototype.map=function(b){return new a(b(this.value))},a.prototype.forEach=function(a){return a(this.value)},a.prototype.isDefined=!0,a.prototype.toArray=function(){return[this.value]},a.prototype.inspect=function(){return"Some("+this.value+")"},a.prototype.toString=function(){return this.inspect()},a}(),q={getOrElse:function(a){return a},filter:function(){return q},map:function(){return q},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},w=function(){var a,b,d,e,f,g,h,i,j,k,l,m,n;return j=void 0,k=[],l={},b=[],a=function(a){return j?b.push(a):a()},m=function(a,b){var c;return j?(c=l[a.id],null==c?(c=l[a.id]=[b],k.push(a)):c.push(b)):b()},e=function(){for(;k.length>0;)g(0);return void 0},g=function(a){var b,c,d,e,g,h;for(c=k[a],d=c.id,e=l[d],k.splice(a,1),delete l[d],f(c),g=0,h=e.length;h>g;g++)(b=e[g])();return void 0},f=function(a){var b,c,d,e,h;for(c=a.internalDeps(),e=0,h=c.length;h>e;e++)b=c[e],f(b),l[b.id]&&(d=na.indexOf(k,b),g(d));return void 0},i=function(a,c,d,f){var g;if(j)return d.apply(c,f);for(j=a,g=d.apply(c,f),e(),j=void 0;b.length>0;)b.shift()();return g},d=function(){return j?j.id:void 0},n=function(b,d){var e,f,g;return g=!1,e=function(){},f=function(){return g=!0,e()},e=b.dispatcher.subscribe(function(b){return a(function(){var a;return g||(a=d(b),a!==c.noMore)?void 0:f()})}),f},h=function(){return k.length>0},{whenDoneWith:m,hasWaiters:h,inTransaction:i,currentEventId:d,wrappedSubscribe:n}}(),c.EventStream=m,c.Property=s,c.Observable=r,c.Bus=e,c.Initial=o,c.Next=p,c.End=j,c.Error=k,aa=function(){},U=function(a,b){return b},N=function(a,b){return a},P=function(a){return new o(a,!0)},_=function(a){return new p(a,!0)},J=function(){return new j},ga=function(a){return a instanceof l?a:_(a)},E=function(a){return a.slice(0)},y=function(a,b){if(!b)throw new n(a)},A=function(a){if(!(a instanceof m))throw new n("not an EventStream : "+a)},B=function(a){return y("not a function : "+a,S(a))},S=function(a){return"function"==typeof a},Q=function(a){return a instanceof Array},T=function(a){return a instanceof r},z=function(a){if(!Q(a))throw new n("not an array : "+a)},C=function(a){return y("no arguments supported",0===a.length)},D=function(a){if("string"!=typeof a)throw new n("not a string : "+a)},ba=function(a,b){return function(){var c;return c=1<=arguments.length?pa.call(arguments,0):[],a.apply(null,b.concat(c))}},$=function(a){return 1===a.length&&T(a[0])?na.always(a[0]):X(a)},X=function(a){return a=Array.prototype.slice.call(a),Y.apply(null,a)},Y=ma(function(){var a,b;return b=arguments[0],a=2<=arguments.length?pa.call(arguments,1):[],S(b)?a.length?ba(b,a):b:R(b)?ha(b,a):na.always(b)}),W=function(a,b){return Y.apply(null,[a].concat(pa.call(b)))},Z=function(a){return T(a)?a:c.once(a)},R=function(a){return"string"==typeof a&&a.length>1&&"."===a.charAt(0)},c.isFieldKey=R,ha=function(a,b){var c,d;return d=a.slice(1).split("."),c=na.map(ka(b),d),function(b){var d,e;for(d=0,e=c.length;e>d;d++)a=c[d],b=a(b);return b}},ka=function(a){return function(b){return function(c){var d;return null==c?void 0:(d=c[b],S(d)?d.apply(c,a):d)}}},ia=function(a){return a.slice(1)},fa=function(a){var b;return S(a)?a:R(a)?(b=ia(a),function(a,c){return a[b](c)}):y("not a function or a field key: "+a,!1)},ja=function(a){return a instanceof u||a===q?a:new u(a)},na={indexOf:Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){var c,d,e,f;for(c=e=0,f=a.length;f>e;c=++e)if(d=a[c],b===d)return c;return-1},indexWhere:function(a,b){var c,d,e,f;for(c=e=0,f=a.length;f>e;c=++e)if(d=a[c],b(d))return c;return-1},head:function(a){return a[0]},always:function(a){return function(){return a}},negate:function(a){return function(b){return!a(b)}},empty:function(a){return 0===a.length},tail:function(a){return a.slice(1,a.length)},filter:function(a,b){var c,d,e,f;for(c=[],e=0,f=b.length;f>e;e++)d=b[e],a(d)&&c.push(d);return c},map:function(a,b){var c,d,e,f;for(f=[],d=0,e=b.length;e>d;d++)c=b[d],f.push(a(c));return f},each:function(a,b){var c,d;for(c in a)d=a[c],b(c,d);return void 0},toArray:function(a){return Q(a)?a:[a]},contains:function(a,b){return-1!==na.indexOf(a,b)},id:function(a){return a},last:function(a){return a[a.length-1]},all:function(a,b){var c,d,e;for(null==b&&(b=na.id),d=0,e=a.length;e>d;d++)if(c=a[d],!b(c))return!1;return!0},any:function(a,b){var c,d,e;for(null==b&&(b=na.id),d=0,e=a.length;e>d;d++)if(c=a[d],b(c))return!0;return!1},without:function(a,b){return na.filter(function(b){return b!==a},b)},remove:function(a,b){var c;return c=na.indexOf(b,a),c>=0?b.splice(c,1):void 0},fold:function(a,b,c){var d,e,f;for(e=0,f=a.length;f>e;e++)d=a[e],b=c(b,d);return b},flatMap:function(a,b){return na.fold(b,[],function(b,c){return b.concat(a(c))})},cached:function(a){var b;return b=q,function(){return b===q&&(b=a(),a=void 0),b}},toString:function(a){var b,c,d,e;try{return ca++,null==a?"undefined":S(a)?"function":Q(a)?ca>5?"[..]":"["+na.map(na.toString,a).toString()+"]":null!=(null!=a?a.toString:void 0)&&a.toString!==Object.prototype.toString?a.toString():"object"==typeof a?ca>5?"{..}":(c=function(){var c;c=[];for(d in a)qa.call(a,d)&&(e=function(){try{return a[d]}catch(c){return b=c}}(),c.push(na.toString(d)+":"+na.toString(e)));return c}(),"{"+c+"}"):a}finally{ca--}}},ca=0,c._=na,c.scheduler={setTimeout:function(a,b){return setTimeout(a,b)},setInterval:function(a,b){return setInterval(a,b)},clearInterval:function(a){return clearInterval(a)},now:function(){return(new Date).getTime()}},"undefined"!=typeof define&&null!==define&&null!=define.amd?(define([],function(){return c}),this.Bacon=c):"undefined"!=typeof b&&null!==b&&null!=b.exports?(b.exports=c,c.Bacon=c):this.Bacon=c}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],203:[function(a,b,c){(function(a,d){!function(a){if("object"==typeof c&&"undefined"!=typeof b)b.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof d?e=d:"undefined"!=typeof self&&(e=self),e.Promise=a()}}(function(){var b,c,d;return function e(a,b,c){function d(g,h){if(!b[g]){if(!a[g]){var i="function"==typeof _dereq_&&_dereq_;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return d(c?c:b)},k,k.exports,e,a,b,c)}return b[g].exports}for(var f="function"==typeof _dereq_&&_dereq_,g=0;g<c.length;g++)d(c[g]);return d}({1:[function(a,b,c){"use strict";b.exports=function(a){function b(a){var b=new c(a),d=b.promise();return b.setHowMany(1),b.setUnwrap(),b.init(),d}var c=a._SomePromiseArray;a.any=function(a){return b(a)},a.prototype.any=function(){return b(this)}}},{}],2:[function(b,c,d){"use strict";function e(){this._isTickUsed=!1,this._lateQueue=new i(16),this._normalQueue=new i(16);var a=this;this.drainQueues=function(){a._drainQueues()},this._schedule=h.isStatic?h(this.drainQueues):h}var f;try{throw new Error}catch(g){f=g}var h=b("./schedule.js"),i=b("./queue.js"),j="undefined"!=typeof a?a:void 0;e.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},e.prototype._withDomain=function(a){return void 0===j||null==j.domain||a.domain||(a=j.domain.bind(a)),a},e.prototype.throwLater=function(a,b){if(1===arguments.length&&(b=a,a=function(){throw b}),a=this._withDomain(a),"undefined"!=typeof setTimeout)setTimeout(function(){a(b)},0);else try{this._schedule(function(){a(b)})}catch(c){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},e.prototype.invokeLater=function(a,b,c){a=this._withDomain(a),this._lateQueue.push(a,b,c),this._queueTick()},e.prototype.invokeFirst=function(a,b,c){a=this._withDomain(a),this._normalQueue.unshift(a,b,c),this._queueTick()},e.prototype.invoke=function(a,b,c){a=this._withDomain(a),this._normalQueue.push(a,b,c),this._queueTick()},e.prototype.settlePromises=function(a){this._normalQueue._pushOne(a),this._queueTick()},e.prototype._drainQueue=function(a){for(;a.length()>0;){var b=a.shift();if("function"==typeof b){var c=a.shift(),d=a.shift();b.call(c,d)}else b._settlePromises()}},e.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},e.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},e.prototype._reset=function(){this._isTickUsed=!1},c.exports=new e,c.exports.firstLineError=f},{"./queue.js":28,"./schedule.js":31}],3:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=function(a,b){this._reject(b)},e=function(a,b){b.promiseRejectionQueued=!0,b.bindingPromise._then(d,d,null,this,a)},f=function(a,b){this._setBoundTo(a),this._isPending()&&this._resolveCallback(b.target)},g=function(a,b){b.promiseRejectionQueued||this._reject(a)};a.prototype.bind=function(d){var h=c(d),i=new a(b);i._propagateFrom(this,1);var j=this._target();if(h instanceof a){var k={promiseRejectionQueued:!1,promise:i,target:j,bindingPromise:h};j._then(b,e,i._progress,i,k),h._then(f,g,i._progress,i,k)}else i._setBoundTo(d),i._resolveCallback(j);return i},a.prototype._setBoundTo=function(a){void 0!==a?(this._bitField=131072|this._bitField,this._boundTo=a):this._bitField=-131073&this._bitField},a.prototype._isBound=function(){return 131072===(131072&this._bitField)},a.bind=function(d,e){var f=c(d),g=new a(b);return f instanceof a?f._then(function(a){g._setBoundTo(a),g._resolveCallback(e)},g._reject,g._progress,g,null):(g._setBoundTo(d),g._resolveCallback(e)),g}}},{}],4:[function(a,b,c){"use strict";function d(){try{Promise===f&&(Promise=e)}catch(a){}return f}var e;"undefined"!=typeof Promise&&(e=Promise);var f=a("./promise.js")();f.noConflict=d,b.exports=f},{"./promise.js":23}],5:[function(a,b,c){"use strict";var d=Object.create;if(d){var e=d(null),f=d(null);e[" size"]=f[" size"]=0}b.exports=function(b){function c(a,c){var d;if(null!=a&&(d=a[c]),"function"!=typeof d){var e="Object "+h.classString(a)+" has no method '"+h.toString(c)+"'";throw new b.TypeError(e)}return d}function d(a){var b=this.pop(),d=c(a,b);return d.apply(a,this)}function e(a){return a[this]}function f(a){var b=+this;return 0>b&&(b=Math.max(0,b+a.length)),a[b]}var g,h=a("./util.js"),i=h.canEvaluate;h.isIdentifier;b.prototype.call=function(a){for(var b=arguments.length,c=new Array(b-1),e=1;b>e;++e)c[e-1]=arguments[e];return c.push(a),this._then(d,void 0,void 0,c,void 0)},b.prototype.get=function(a){var b,c="number"==typeof a;if(c)b=f;else if(i){var d=g(a);b=null!==d?d:e}else b=e;return this._then(b,void 0,void 0,a,void 0)}}},{"./util.js":38}],6:[function(a,b,c){"use strict";b.exports=function(b){var c=a("./errors.js"),d=a("./async.js"),e=c.CancellationError;b.prototype._cancel=function(a){if(!this.isCancellable())return this;for(var b,c=this;void 0!==(b=c._cancellationParent)&&b.isCancellable();)c=b;this._unsetCancellable(),c._target()._rejectCallback(a,!1,!0)},b.prototype.cancel=function(a){return this.isCancellable()?(void 0===a&&(a=new e),d.invokeLater(this._cancel,this,a),this):this},b.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=void 0,this)},b.prototype.uncancellable=function(){var a=this.then();return a._unsetCancellable(),a},b.prototype.fork=function(a,b,c){var d=this._then(a,b,c,void 0,void 0);return d._setCancellable(),d._cancellationParent=void 0,d}}},{"./async.js":2,"./errors.js":13}],7:[function(b,c,d){"use strict";c.exports=function(){function c(a){this._parent=a;var b=this._length=1+(void 0===a?0:a._length);v(this,c),b>32&&this.uncycle()}function d(a,b){for(var c=0;c<b.length-1;++c)b[c].push("From previous event:"),b[c]=b[c].join("\n");return c<b.length&&(b[c]=b[c].join("\n")),a+"\n"+b.join("\n")}function e(a){for(var b=0;b<a.length;++b)(0===a[b].length||b+1<a.length&&a[b][0]===a[b+1][0])&&(a.splice(b,1),b--)}function f(a){for(var b=a[0],c=1;c<a.length;++c){for(var d=a[c],e=b.length-1,f=b[e],g=-1,h=d.length-1;h>=0;--h)if(d[h]===f){g=h;break}for(var h=g;h>=0;--h){var i=d[h];if(b[e]!==i)break;b.pop(),e--}b=d}}function g(a){for(var b=[],c=0;c<a.length;++c){var d=a[c],e=p.test(d)||"    (No stack trace)"===d,f=e&&s(d);e&&!f&&(r&&" "!==d.charAt(0)&&(d="    "+d),b.push(d))}return b}function h(a){for(var b=a.stack.replace(/\s+$/g,"").split("\n"),c=0;c<b.length;++c){var d=b[c];if("    (No stack trace)"===d||p.test(d))break}return c>0&&(b=b.slice(c)),b}function i(a){var b;if("function"==typeof a)b="[function "+(a.name||"anonymous")+"]";else{b=a.toString();var c=/\[object [a-zA-Z0-9$_]+\]/;if(c.test(b))try{var d=JSON.stringify(a);b=d}catch(e){}0===b.length&&(b="(empty array)")}return"(<"+j(b)+">, no stack trace)"}function j(a){var b=41;return a.length<b?a:a.substr(0,b-3)+"..."}function k(a){var b=a.match(t);return b?{fileName:b[1],line:parseInt(b[2],10)}:void 0}var l,m=b("./async.js"),n=b("./util.js"),o=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,p=null,q=null,r=!1;n.inherits(c,Error),c.prototype.uncycle=function(){var a=this._length;if(!(2>a)){for(var b=[],c={},d=0,e=this;void 0!==e;++d)b.push(e),e=e._parent;a=this._length=d;for(var d=a-1;d>=0;--d){var f=b[d].stack;void 0===c[f]&&(c[f]=d)}for(var d=0;a>d;++d){var g=b[d].stack,h=c[g];if(void 0!==h&&h!==d){h>0&&(b[h-1]._parent=void 0,b[h-1]._length=1),b[d]._parent=void 0,b[d]._length=1;var i=d>0?b[d-1]:this;a-1>h?(i._parent=b[h+1],i._parent.uncycle(),i._length=i._parent._length+1):(i._parent=void 0,i._length=1);for(var j=i._length+1,k=d-2;k>=0;--k)b[k]._length=j,j++;return}}}},c.prototype.parent=function(){return this._parent},c.prototype.hasParent=function(){return void 0!==this._parent},c.prototype.attachExtraTrace=function(a){if(!a.__stackCleaned__){this.uncycle();for(var b=c.parseStackAndMessage(a),h=b.message,i=[b.stack],j=this;void 0!==j;)i.push(g(j.stack.split("\n"))),j=j._parent;f(i),e(i),a.stack=d(h,i),n.notEnumerableProp(a,"__stackCleaned__",!0)}},c.parseStackAndMessage=function(a){var b=a.stack,c=a.toString();return b="string"==typeof b&&b.length>0?h(a):["    (No stack trace)"],{message:c,stack:g(b)}},c.formatAndLogError=function(a,b){if("undefined"!=typeof console){var c;if("object"==typeof a||"function"==typeof a){var d=a.stack;c=b+q(d,a)}else c=b+String(a);"function"==typeof l?l(c):("function"==typeof console.log||"object"==typeof console.log)&&console.log(c)}},c.unhandledRejection=function(a){c.formatAndLogError(a,"^--- With additional stack trace: ")},c.isSupported=function(){return"function"==typeof v},c.fireRejectionEvent=function(a,b,d,e){var f=!1;try{"function"==typeof b&&(f=!0,"rejectionHandled"===a?b(e):b(d,e))}catch(g){m.throwLater(g)}var h=!1;try{h=w(a,d,e)}catch(g){h=!0,m.throwLater(g)}var i=!1;if(u)try{i=u(a.toLowerCase(),{reason:d,promise:e})}catch(g){i=!0,m.throwLater(g)}h||f||i||"unhandledRejection"!==a||c.formatAndLogError(d,"Unhandled rejection ")};var s=function(){return!1},t=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;c.setBounds=function(a,b){if(c.isSupported()){for(var d,e,f=a.stack.split("\n"),g=b.stack.split("\n"),h=-1,i=-1,j=0;j<f.length;++j){var l=k(f[j]);if(l){d=l.fileName,h=l.line;break}}for(var j=0;j<g.length;++j){var l=k(g[j]);if(l){e=l.fileName,i=l.line;break}}0>h||0>i||!d||!e||d!==e||h>=i||(s=function(a){if(o.test(a))return!0;var b=k(a);return b&&b.fileName===d&&h<=b.line&&b.line<=i?!0:!1})}};var u,v=function(){var a=/^\s*at\s*/,b=function(a,b){return"string"==typeof a?a:void 0!==b.name&&void 0!==b.message?b.toString():i(b)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,p=a,q=b;var c=Error.captureStackTrace;return s=function(a){return o.test(a)},function(a,b){Error.stackTraceLimit=Error.stackTraceLimit+6,c(a,b),Error.stackTraceLimit=Error.stackTraceLimit-6}}var d=new Error;if("string"==typeof d.stack&&d.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,q=b,r=!0,function(a){a.stack=(new Error).stack};var e;try{throw new Error}catch(f){e="stack"in f}return"stack"in d||!e?(q=function(a,b){return"string"==typeof a?a:"object"!=typeof b&&"function"!=typeof b||void 0===b.name||void 0===b.message?i(b):b.toString()},null):(p=a,q=b,function(a){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(b){a.stack=b.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),w=function(){if(n.isNode)return function(b,c,d){return"rejectionHandled"===b?a.emit(b,d):a.emit(b,c,d)};var b=!1,c=!0;try{var d=new self.CustomEvent("test");b=d instanceof CustomEvent}catch(e){}if(!b)try{var f=document.createEvent("CustomEvent");f.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(f)}catch(e){c=!1}c&&(u=function(a,c){var d;return b?d=new self.CustomEvent(a,{detail:c,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(d=document.createEvent("CustomEvent"),d.initCustomEvent(a,!1,!0,c)),d?!self.dispatchEvent(d):!1});var g={};return g.unhandledRejection="onunhandledRejection".toLowerCase(),g.rejectionHandled="onrejectionHandled".toLowerCase(),function(a,b,c){var d=g[a],e=self[d];return e?("rejectionHandled"===a?e.call(self,c):e.call(self,b,c),!0):!1}}();return"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(l=function(a){console.warn(a)},n.isNode&&a.stderr.isTTY?l=function(b){a.stderr.write("[31m"+b+"[39m\n")}:n.isNode||"string"!=typeof(new Error).stack||(l=function(a){console.warn("%c"+a,"color: red")})),c}},{"./async.js":2,"./util.js":38}],8:[function(a,b,c){"use strict";b.exports=function(b){function c(a,b,c){this._instances=a,this._callback=b,this._promise=c}function d(a,b){var c={},d=g(a).call(c,b);if(d===h)return d;var e=i(c);return e.length?(h.e=new j("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),h):d}var e=a("./util.js"),f=a("./errors.js"),g=e.tryCatch,h=e.errorObj,i=a("./es5.js").keys,j=f.TypeError;return c.prototype.doFilter=function(a){for(var c=this._callback,e=this._promise,f=e._boundTo,i=0,j=this._instances.length;j>i;++i){var k=this._instances[i],l=k===Error||null!=k&&k.prototype instanceof Error;if(l&&a instanceof k){var m=g(c).call(f,a);return m===h?(b.e=m.e,b):m}if("function"==typeof k&&!l){var n=d(k,a);if(n===h){a=h.e;break}if(n){var m=g(c).call(f,a);return m===h?(b.e=m.e,b):m}}}return b.e=a,b},c}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(a,b,c){"use strict";b.exports=function(a,b,c){function d(){this._trace=new b(f())}function e(){return c()?new d:void 0}function f(){var a=g.length-1;return a>=0?g[a]:void 0}var g=[];return d.prototype._pushContext=function(){c()&&void 0!==this._trace&&g.push(this._trace)},d.prototype._popContext=function(){c()&&void 0!==this._trace&&g.pop()},a.prototype._peekContext=f,a.prototype._pushContext=d.prototype._pushContext,a.prototype._popContext=d.prototype._popContext,e}},{}],10:[function(b,c,d){"use strict";c.exports=function(c,d){var e,f,g=b("./async.js"),h=b("./errors.js").Warning,i=b("./util.js"),j=i.canAttachTrace,k=i.isNode&&(!!a.env.BLUEBIRD_DEBUG||"development"===a.env.NODE_ENV);return c.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),g.invokeLater(this._notifyUnhandledRejection,this,void 0)},c.prototype._notifyUnhandledRejectionIsHandled=function(){d.fireRejectionEvent("rejectionHandled",e,void 0,this)},c.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var a=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),d.fireRejectionEvent("unhandledRejection",f,a,this)}},c.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},c.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},c.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},c.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},c.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},c.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},c.prototype._setCarriedStackTrace=function(a){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=a},c.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},c.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},c.prototype._captureStackTrace=function(){return k&&(this._trace=new d(this._peekContext())),this},c.prototype._attachExtraTrace=function(a,b){if(k&&j(a)){var c=this._trace;if(void 0!==c&&b&&(c=c._parent),void 0!==c)c.attachExtraTrace(a);else if(!a.__stackCleaned__){var e=d.parseStackAndMessage(a);a.stack=e.message+"\n"+e.stack.join("\n"),i.notEnumerableProp(a,"__stackCleaned__",!0)}}},c.prototype._warn=function(a){var b=new h(a),c=this._peekContext();if(c)c.attachExtraTrace(b);else{var e=d.parseStackAndMessage(b);b.stack=e.message+"\n"+e.stack.join("\n")}d.formatAndLogError(b,"")},c.onPossiblyUnhandledRejection=function(a){f="function"==typeof a?a:void 0},c.onUnhandledRejectionHandled=function(a){e="function"==typeof a?a:void 0},c.longStackTraces=function(){if(g.haveItemsQueued()&&k===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");k=d.isSupported()},c.hasLongStackTraces=function(){return k&&d.isSupported()},d.isSupported()||(c.longStackTraces=function(){},k=!1),function(){return k}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(a,b,c){"use strict";var d=a("./util.js"),e=d.isPrimitive,f=d.wrapsPrimitiveReceiver;b.exports=function(a){var b=function(){return this},c=function(){throw this},d=function(a,b){return 1===b?function(){throw a}:2===b?function(){return a}:void 0};a.prototype["return"]=a.prototype.thenReturn=function(a){return f&&e(a)?this._then(d(a,2),void 0,void 0,void 0,void 0):this._then(b,void 0,void 0,a,void 0)},a.prototype["throw"]=a.prototype.thenThrow=function(a){return f&&e(a)?this._then(d(a,1),void 0,void 0,void 0,void 0):this._then(c,void 0,void 0,a,void 0)}}},{"./util.js":38}],12:[function(a,b,c){"use strict";b.exports=function(a,b){var c=a.reduce;a.prototype.each=function(a){return c(this,a,null,b)},a.each=function(a,d){return c(a,d,null,b)}}},{}],13:[function(a,b,c){"use strict";function d(a,b){function c(d){return this instanceof c?(l(this,"message","string"==typeof d?d:b),l(this,"name",a),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new c(d)}return k(c,Error),c}function e(a){return this instanceof e?(l(this,"name","OperationalError"),l(this,"message",a),this.cause=a,this.isOperational=!0,void(a instanceof Error?(l(this,"message",a.message),l(this,"stack",a.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new e(a)}var f,g,h=a("./es5.js"),i=h.freeze,j=a("./util.js"),k=j.inherits,l=j.notEnumerableProp,m=d("Warning","warning"),n=d("CancellationError","cancellation error"),o=d("TimeoutError","timeout error"),p=d("AggregateError","aggregate error");try{f=TypeError,g=RangeError}catch(q){f=d("TypeError","type error"),g=d("RangeError","range error")}for(var r="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),s=0;s<r.length;++s)"function"==typeof Array.prototype[r[s]]&&(p.prototype[r[s]]=Array.prototype[r[s]]);h.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var t=0;p.prototype.toString=function(){var a=Array(4*t+1).join(" "),b="\n"+a+"AggregateError of:\n";t++,a=Array(4*t+1).join(" ");for(var c=0;c<this.length;++c){for(var d=this[c]===this?"[Circular AggregateError]":this[c]+"",e=d.split("\n"),f=0;f<e.length;++f)e[f]=a+e[f];d=e.join("\n"),b+=d+"\n"}return t--,b},k(e,Error);var u=Error.__BluebirdErrorTypes__;u||(u=i({CancellationError:n,TimeoutError:o,OperationalError:e,RejectionError:e,AggregateError:p}),l(Error,"__BluebirdErrorTypes__",u)),b.exports={Error:Error,TypeError:f,RangeError:g,CancellationError:u.CancellationError,OperationalError:u.OperationalError,TimeoutError:u.TimeoutError,AggregateError:u.AggregateError,Warning:m}},{"./es5.js":14,"./util.js":38}],14:[function(a,b,c){var d=function(){"use strict";return void 0===this}();if(d)b.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:d,propertyIsWritable:function(a,b){var c=Object.getOwnPropertyDescriptor(a,b);return!(c&&!c.writable&&!c.set)}};else{var e={}.hasOwnProperty,f={}.toString,g={}.constructor.prototype,h=function(a){var b=[];for(var c in a)e.call(a,c)&&b.push(c);return b},i=function(a,b){return{value:a[b]}},j=function(a,b,c){return a[b]=c.value,a},k=function(a){return a},l=function(a){try{return Object(a).constructor.prototype}catch(b){return g}},m=function(a){try{return"[object Array]"===f.call(a)}catch(b){return!1}};b.exports={isArray:m,keys:h,names:h,defineProperty:j,getDescriptor:i,freeze:k,getPrototypeOf:l,isES5:d,propertyIsWritable:function(){return!0}}}},{}],15:[function(a,b,c){"use strict";b.exports=function(a,b){var c=a.map;a.prototype.filter=function(a,d){return c(this,a,d,b)},a.filter=function(a,d,e){return c(a,d,e,b)}}},{}],16:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(){return this}function f(){throw this}function g(a){return function(){return a}}function h(a){return function(){throw a}}function i(a,b,c){var d;return d=m&&n(b)?c?g(b):h(b):c?e:f,a._then(d,o,void 0,b,void 0)}function j(a){var e=this.promise,f=this.handler,g=e._isBound()?f.call(e._boundTo):f();if(void 0!==g){var h=d(g,e);if(h instanceof b)return h=h._target(),i(h,a,e.isFulfilled())}return e.isRejected()?(c.e=a,c):a}function k(a){var c=this.promise,e=this.handler,f=c._isBound()?e.call(c._boundTo,a):e(a);if(void 0!==f){var g=d(f,c);if(g instanceof b)return g=g._target(),i(g,a,!0)}return a}var l=a("./util.js"),m=l.wrapsPrimitiveReceiver,n=l.isPrimitive,o=l.thrower;b.prototype._passThroughHandler=function(a,b){if("function"!=typeof a)return this.then();var c={promise:this,handler:a};return this._then(b?j:k,b?j:void 0,void 0,c,void 0)},b.prototype.lastly=b.prototype["finally"]=function(a){return this._passThroughHandler(a,!0)},b.prototype.tap=function(a){return this._passThroughHandler(a,!1)}}},{"./util.js":38}],17:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a,c,d){for(var f=0;f<c.length;++f){d._pushContext();var g=l(c[f])(a);if(d._popContext(),g===k){d._pushContext();var h=b.reject(k.e);return d._popContext(),h}var i=e(g,d);if(i instanceof b)return i}return null}function g(a,c,e,f){var g=this._promise=new b(d);g._captureStackTrace(),this._stack=f,this._generatorFunction=a,this._receiver=c,this._generator=void 0,this._yieldHandlers="function"==typeof e?[e].concat(m):m}var h=a("./errors.js"),i=h.TypeError,j=a("./util.js"),k=j.errorObj,l=j.tryCatch,m=[];g.prototype.promise=function(){return this._promise},g.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},g.prototype._continue=function(a){if(a===k)return this._promise._rejectCallback(a.e,!1,!0);var c=a.value;if(a.done===!0)this._promise._resolveCallback(c);else{var d=e(c,this._promise);if(!(d instanceof b)&&(d=f(d,this._yieldHandlers,this._promise),null===d))return void this._throw(new i("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",c)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));d._then(this._next,this._throw,void 0,this,null)}},g.prototype._throw=function(a){this._promise._attachExtraTrace(a),this._promise._pushContext();var b=l(this._generator["throw"]).call(this._generator,a);this._promise._popContext(),this._continue(b)},g.prototype._next=function(a){this._promise._pushContext();var b=l(this._generator.next).call(this._generator,a);this._promise._popContext(),this._continue(b)},b.coroutine=function(a,b){if("function"!=typeof a)throw new i("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var c=Object(b).yieldHandler,d=g,e=(new Error).stack;return function(){var b=a.apply(this,arguments),f=new d(void 0,void 0,c,e);return f._generator=b,f._next(void 0),f.promise()}},b.coroutine.addYieldHandler=function(a){if("function"!=typeof a)throw new i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");m.push(a)},b.spawn=function(a){if("function"!=typeof a)return c("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var d=new g(a,this),e=d.promise();return d._run(b.spawn),e}}},{"./errors.js":13,"./util.js":38}],18:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){var f=a("./util.js");f.canEvaluate,f.tryCatch,f.errorObj;b.join=function(){var a,b=arguments.length-1;if(b>0&&"function"==typeof arguments[b]){a=arguments[b];var d}for(var e=arguments.length,f=new Array(e),g=0;e>g;++g)f[g]=arguments[g];a&&f.pop();var d=new c(f).promise();return void 0!==a?d.spread(a):d}}},{"./util.js":38}],19:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f){function g(a,b,c,d){this.constructor$(a),this._promise._captureStackTrace(),this._callback=b,this._preservedValues=d===f?new Array(this.length()):null,this._limit=c,this._inFlight=0,this._queue=c>=1?[]:o,j.invoke(h,this,void 0)}function h(){this._init$(void 0,-2)}function i(a,b,c,d){var e="object"==typeof c&&null!==c?c.concurrency:0;return e="number"==typeof e&&isFinite(e)&&e>=1?e:0,
new g(a,b,e,d)}var j=a("./async.js"),k=a("./util.js"),l=k.tryCatch,m=k.errorObj,n={},o=[];k.inherits(g,c),g.prototype._init=function(){},g.prototype._promiseFulfilled=function(a,c){var d=this._values,f=this.length(),g=this._preservedValues,h=this._limit;if(d[c]===n){if(d[c]=a,h>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(h>=1&&this._inFlight>=h)return d[c]=a,void this._queue.push(c);null!==g&&(g[c]=a);var i=this._callback,j=this._promise._boundTo;this._promise._pushContext();var k=l(i).call(j,a,c,f);if(this._promise._popContext(),k===m)return this._reject(k.e);var o=e(k,this._promise);if(o instanceof b){if(o=o._target(),o._isPending())return h>=1&&this._inFlight++,d[c]=n,o._proxyPromiseArray(this,c);if(!o._isFulfilled())return this._reject(o._reason());k=o._value()}d[c]=k}var p=++this._totalResolved;p>=f&&(null!==g?this._filter(d,g):this._resolve(d))},g.prototype._drainQueue=function(){for(var a=this._queue,b=this._limit,c=this._values;a.length>0&&this._inFlight<b;){if(this._isResolved())return;var d=a.pop();this._promiseFulfilled(c[d],d)}},g.prototype._filter=function(a,b){for(var c=b.length,d=new Array(c),e=0,f=0;c>f;++f)a[f]&&(d[e++]=b[f]);d.length=e,this._resolve(d)},g.prototype.preservedValues=function(){return this._preservedValues},b.prototype.map=function(a,b){return"function"!=typeof a?d("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):i(this,a,b,null).promise()},b.map=function(a,b,c,e){return"function"!=typeof b?d("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):i(a,b,c,e).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){var f=a("./util.js"),g=f.tryCatch;b.method=function(a){if("function"!=typeof a)throw new b.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var d=new b(c);d._captureStackTrace(),d._pushContext();var e=g(a).apply(this,arguments);return d._popContext(),d._resolveFromSyncValue(e),d}},b.attempt=b["try"]=function(a,d,h){if("function"!=typeof a)return e("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var i=new b(c);i._captureStackTrace(),i._pushContext();var j=f.isArray(d)?g(a).apply(h,d):g(a).call(h,d);return i._popContext(),i._resolveFromSyncValue(j),i},b.prototype._resolveFromSyncValue=function(a){a===f.errorObj?this._rejectCallback(a.e,!1,!0):this._resolveCallback(a,!0)}}},{"./util.js":38}],21:[function(a,b,c){"use strict";b.exports=function(b){function c(a,b){var c=this;if(!f.isArray(a))return d.call(c,a,b);var e=h(b).apply(c._boundTo,[null].concat(a));e===i&&g.throwLater(e.e)}function d(a,b){var c=this,d=c._boundTo,e=void 0===a?h(b).call(d,null):h(b).call(d,null,a);e===i&&g.throwLater(e.e)}function e(a,b){var c=this;if(!a){var d=c._target(),e=d._getCarriedStackTrace();e.cause=a,a=e}var f=h(b).call(c._boundTo,a);f===i&&g.throwLater(f.e)}var f=a("./util.js"),g=a("./async.js"),h=f.tryCatch,i=f.errorObj;b.prototype.nodeify=function(a,b){if("function"==typeof a){var f=d;void 0!==b&&Object(b).spread&&(f=c),this._then(f,e,void 0,this,a)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(a,b,c){"use strict";b.exports=function(b,c){var d=a("./util.js"),e=a("./async.js"),f=d.tryCatch,g=d.errorObj;b.prototype.progressed=function(a){return this._then(void 0,void 0,a,void 0,void 0)},b.prototype._progress=function(a){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(a)},b.prototype._progressHandlerAt=function(a){return 0===a?this._progressHandler0:this[(a<<2)+a-5+2]},b.prototype._doProgressWith=function(a){var c=a.value,e=a.handler,h=a.promise,i=a.receiver,j=f(e).call(i,c);if(j===g){if(null!=j.e&&"StopProgressPropagation"!==j.e.name){var k=d.canAttachTrace(j.e)?j.e:new Error(d.toString(j.e));h._attachExtraTrace(k),h._progress(j.e)}}else j instanceof b?j._then(h._progress,null,null,h,void 0):h._progress(j)},b.prototype._progressUnchecked=function(a){for(var d=this._length(),f=this._progress,g=0;d>g;g++){var h=this._progressHandlerAt(g),i=this._promiseAt(g);if(i instanceof b)"function"==typeof h?e.invoke(this._doProgressWith,this,{handler:h,promise:i,receiver:this._receiverAt(g),value:a}):e.invoke(f,i,a);else{var j=this._receiverAt(g);"function"==typeof h?h.call(j,a,i):j instanceof c&&!j._isResolved()&&j._promiseProgressed(a,i)}}}}},{"./async.js":2,"./util.js":38}],23:[function(a,b,c){"use strict";b.exports=function(){function b(a){if("function"!=typeof a)throw new j("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==b)throw new j("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,a!==k&&this._resolveFromResolver(a)}function c(a){var c=new b(k);c._fulfillmentHandler0=a,c._rejectionHandler0=a,c._progressHandler0=a,c._promise0=a,c._receiver0=a,c._settledValue=a}var d=function(){return new j("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},e=function(){return new b.PromiseInspection(this._target())},f=function(a){return b.reject(new j(a))},g=a("./util.js"),h=a("./async.js"),i=a("./errors.js"),j=b.TypeError=i.TypeError;b.RangeError=i.RangeError,b.CancellationError=i.CancellationError,b.TimeoutError=i.TimeoutError,b.OperationalError=i.OperationalError,b.RejectionError=i.OperationalError,b.AggregateError=i.AggregateError;var k=function(){},l={},m={e:null},n=a("./thenables.js")(b,k),o=a("./promise_array.js")(b,k,n,f),p=a("./captured_trace.js")(),q=a("./debuggability.js")(b,p),r=a("./context.js")(b,p,q),s=a("./catch_filter.js")(m),t=a("./promise_resolver.js"),u=t._nodebackForPromise,v=g.errorObj,w=g.tryCatch;return b.prototype.toString=function(){return"[object Promise]"},b.prototype.caught=b.prototype["catch"]=function(a){var c=arguments.length;if(c>1){var d,e=new Array(c-1),f=0;for(d=0;c-1>d;++d){var g=arguments[d];if("function"!=typeof g)return b.reject(new j("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));e[f++]=g}e.length=f,a=arguments[d];var h=new s(e,a,this);return this._then(void 0,h.doFilter,void 0,h,void 0)}return this._then(void 0,a,void 0,void 0,void 0)},b.prototype.reflect=function(){return this._then(e,e,void 0,this,void 0)},b.prototype.then=function(a,b,c){if(q()&&arguments.length>0&&"function"!=typeof a&&"function"!=typeof b){var d=".then() only accepts functions but was passed: "+g.classString(a);arguments.length>1&&(d+=", "+g.classString(b)),this._warn(d)}return this._then(a,b,c,void 0,void 0)},b.prototype.done=function(a,b,c){var d=this._then(a,b,c,void 0,void 0);d._setIsFinal()},b.prototype.spread=function(a,b){return this.all()._then(a,b,void 0,l,void 0)},b.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},b.prototype.toJSON=function(){var a={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(a.fulfillmentValue=this.value(),a.isFulfilled=!0):this.isRejected()&&(a.rejectionReason=this.reason(),a.isRejected=!0),a},b.prototype.all=function(){return new o(this).promise()},b.prototype.error=function(a){return this.caught(g.originatesFromRejection,a)},b.is=function(a){return a instanceof b},b.fromNode=function(a){var c=new b(k),d=w(a)(u(c));return d===v&&c._rejectCallback(d.e,!0,!0),c},b.all=function(a){return new o(a).promise()},b.defer=b.pending=function(){var a=new b(k);return new t(a)},b.cast=function(a){var c=n(a);if(!(c instanceof b)){var d=c;c=new b(k),c._fulfillUnchecked(d)}return c},b.resolve=b.fulfilled=b.cast,b.reject=b.rejected=function(a){var c=new b(k);return c._captureStackTrace(),c._rejectCallback(a,!0),c},b.setScheduler=function(a){if("function"!=typeof a)throw new j("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var b=h._schedule;return h._schedule=a,b},b.prototype._then=function(a,c,d,e,f){var g=void 0!==f,i=g?f:new b(k);g||(i._propagateFrom(this,5),i._captureStackTrace());var j=this._target();j!==this&&(void 0===e&&(e=this._boundTo),g||i._setIsMigrated());var l=j._addCallbacks(a,c,d,i,e);return j._isResolved()&&!j._isSettlePromisesQueued()&&h.invoke(j._settlePromiseAtPostResolution,j,l),i},b.prototype._settlePromiseAtPostResolution=function(a){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(a)},b.prototype._length=function(){return 131071&this._bitField},b.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},b.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},b.prototype._setLength=function(a){this._bitField=-131072&this._bitField|131071&a},b.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},b.prototype._setRejected=function(){this._bitField=134217728|this._bitField},b.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},b.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},b.prototype._isFinal=function(){return(33554432&this._bitField)>0},b.prototype._cancellable=function(){return(67108864&this._bitField)>0},b.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},b.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},b.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},b.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},b.prototype._isMigrated=function(){return(4194304&this._bitField)>0},b.prototype._receiverAt=function(a){var b=0===a?this._receiver0:this[5*a-5+4];return void 0===b&&this._isBound()?this._boundTo:b},b.prototype._promiseAt=function(a){return 0===a?this._promise0:this[5*a-5+3]},b.prototype._fulfillmentHandlerAt=function(a){return 0===a?this._fulfillmentHandler0:this[5*a-5+0]},b.prototype._rejectionHandlerAt=function(a){return 0===a?this._rejectionHandler0:this[5*a-5+1]},b.prototype._migrateCallbacks=function(a,c){var d=a._fulfillmentHandlerAt(c),e=a._rejectionHandlerAt(c),f=a._progressHandlerAt(c),g=a._promiseAt(c),h=a._receiverAt(c);g instanceof b&&g._setIsMigrated(),this._addCallbacks(d,e,f,g,h)},b.prototype._addCallbacks=function(a,b,c,d,e){var f=this._length();if(f>=131066&&(f=0,this._setLength(0)),0===f)this._promise0=d,void 0!==e&&(this._receiver0=e),"function"!=typeof a||this._isCarryingStackTrace()||(this._fulfillmentHandler0=a),"function"==typeof b&&(this._rejectionHandler0=b),"function"==typeof c&&(this._progressHandler0=c);else{var g=5*f-5;this[g+3]=d,this[g+4]=e,"function"==typeof a&&(this[g+0]=a),"function"==typeof b&&(this[g+1]=b),"function"==typeof c&&(this[g+2]=c)}return this._setLength(f+1),f},b.prototype._setProxyHandlers=function(a,b){var c=this._length();if(c>=131066&&(c=0,this._setLength(0)),0===c)this._promise0=b,this._receiver0=a;else{var d=5*c-5;this[d+3]=b,this[d+4]=a}this._setLength(c+1)},b.prototype._proxyPromiseArray=function(a,b){this._setProxyHandlers(a,b)},b.prototype._resolveCallback=function(a,c){if(!this._isFollowingOrFulfilledOrRejected()){if(a===this)return this._rejectCallback(d(),!1,!0);var e=n(a,this);if(!(e instanceof b))return this._fulfill(a);var f=1|(c?4:0);this._propagateFrom(e,f);var g=e._target();if(g._isPending()){for(var h=this._length(),i=0;h>i;++i)g._migrateCallbacks(this,i);this._setFollowing(),this._setLength(0),this._setFollowee(g)}else g._isFulfilled()?this._fulfillUnchecked(g._value()):this._rejectUnchecked(g._reason(),g._getCarriedStackTrace())}},b.prototype._rejectCallback=function(a,b,c){c||g.markAsOriginatingFromRejection(a);var d=g.ensureErrorObject(a),e=d===a;this._attachExtraTrace(d,b?e:!1),this._reject(a,e?void 0:d)},b.prototype._resolveFromResolver=function(a){var b=this;this._captureStackTrace(),this._pushContext();var c=!0,d=w(a)(function(a){null!==b&&(b._resolveCallback(a),b=null)},function(a){null!==b&&(b._rejectCallback(a,c),b=null)});c=!1,this._popContext(),void 0!==d&&d===v&&null!==b&&(b._rejectCallback(d.e,!0,!0),b=null)},b.prototype._settlePromiseFromHandler=function(a,b,c,e){if(!e._isRejected()){e._pushContext();var f;if(f=b!==l||this._isRejected()?w(a).call(b,c):w(a).apply(this._boundTo,c),e._popContext(),f===v||f===e||f===m){var g=f===e?d():f.e;e._rejectCallback(g,!1,!0)}else e._resolveCallback(f)}},b.prototype._target=function(){for(var a=this;a._isFollowing();)a=a._followee();return a},b.prototype._followee=function(){return this._rejectionHandler0},b.prototype._setFollowee=function(a){this._rejectionHandler0=a},b.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},b.prototype._propagateFrom=function(a,b){(1&b)>0&&a._cancellable()&&(this._setCancellable(),this._cancellationParent=a),(4&b)>0&&a._isBound()&&this._setBoundTo(a._boundTo)},b.prototype._fulfill=function(a){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(a)},b.prototype._reject=function(a,b){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(a,b)},b.prototype._settlePromiseAt=function(a){var c=this._promiseAt(a),d=c instanceof b;if(d&&c._isMigrated())return c._unsetIsMigrated(),h.invoke(this._settlePromiseAt,this,a);var e=this._isFulfilled()?this._fulfillmentHandlerAt(a):this._rejectionHandlerAt(a),f=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,g=this._settledValue,i=this._receiverAt(a);this._clearCallbackDataAtIndex(a),"function"==typeof e?d?this._settlePromiseFromHandler(e,i,g,c):e.call(i,g,c):i instanceof o?i._isResolved()||(this._isFulfilled()?i._promiseFulfilled(g,c):i._promiseRejected(g,c)):d&&(this._isFulfilled()?c._fulfill(g):c._reject(g,f)),a>=4&&4===(31&a)&&h.invokeLater(this._setLength,this,0)},b.prototype._clearCallbackDataAtIndex=function(a){if(0===a)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var b=5*a-5;this[b+3]=this[b+4]=this[b+0]=this[b+1]=this[b+2]=void 0}},b.prototype._isSettlePromisesQueued=function(){return-1073741824===(-1073741824&this._bitField)},b.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},b.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},b.prototype._queueSettlePromises=function(){h.settlePromises(this),this._setSettlePromisesQueued()},b.prototype._fulfillUnchecked=function(a){if(a===this){var b=d();return this._attachExtraTrace(b),this._rejectUnchecked(b,void 0)}this._setFulfilled(),this._settledValue=a,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},b.prototype._rejectUncheckedCheckError=function(a){var b=g.ensureErrorObject(a);this._rejectUnchecked(a,b===a?void 0:b)},b.prototype._rejectUnchecked=function(a,b){if(a===this){var c=d();return this._attachExtraTrace(c),this._rejectUnchecked(c)}return this._setRejected(),this._settledValue=a,this._cleanValues(),this._isFinal()?void h.throwLater(function(a){throw"stack"in a&&h.invokeFirst(p.unhandledRejection,void 0,a),a},void 0===b?a:b):(void 0!==b&&b!==a&&this._setCarriedStackTrace(b),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))},b.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var a=this._length(),b=0;a>b;b++)this._settlePromiseAt(b)},b._makeSelfResolutionError=d,a("./method.js")(b,k,n,f),a("./bind.js")(b,k,n),a("./finally.js")(b,m,n),a("./direct_resolve.js")(b),a("./synchronous_inspection.js")(b),a("./join.js")(b,o,n,k),b.Promise=b,a("./map.js")(b,o,f,n,k),a("./using.js")(b,f,n,r),a("./generators.js")(b,f,k,n),a("./nodeify.js")(b),a("./cancel.js")(b),a("./promisify.js")(b,k),a("./props.js")(b,o,n,f),a("./race.js")(b,k,n,f),a("./reduce.js")(b,o,f,n,k),a("./settle.js")(b,o),a("./call_get.js")(b),a("./some.js")(b,o,f),a("./progress.js")(b,o),a("./any.js")(b),a("./each.js")(b,k),a("./timers.js")(b,k),a("./filter.js")(b,k),g.toFastProperties(b),g.toFastProperties(b.prototype),c({a:1}),c({b:2}),c({c:3}),c(1),c(function(){}),c(void 0),c(!1),c(new b(k)),p.setBounds(h.firstLineError,g.lastLineError),b}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a){switch(a){case-2:return[];case-3:return{}}}function g(a){var d,e=this._promise=new b(c);a instanceof b&&(d=a,e._propagateFrom(d,5)),this._values=a,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var h=a("./util.js"),i=h.isArray;return g.prototype.length=function(){return this._length},g.prototype.promise=function(){return this._promise},g.prototype._init=function j(a,c){var g=d(this._values,this._promise);if(g instanceof b){if(g=g._target(),this._values=g,!g._isFulfilled())return g._isPending()?void g._then(j,this._reject,void 0,this,c):void this._reject(g._reason());if(g=g._value(),!i(g)){var h=new b.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(h)}}else if(!i(g))return void this._promise._reject(e("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===g.length)return void(-5===c?this._resolveEmptyArray():this._resolve(f(c)));var k=this.getActualLength(g.length);this._length=k,this._values=this.shouldCopyValues()?new Array(k):this._values;for(var l=this._promise,m=0;k>m;++m){var n=this._isResolved(),o=d(g[m],l);o instanceof b?(o=o._target(),n?o._unsetRejectionIsUnhandled():o._isPending()?o._proxyPromiseArray(this,m):o._isFulfilled()?this._promiseFulfilled(o._value(),m):this._promiseRejected(o._reason(),m)):n||this._promiseFulfilled(o,m)}},g.prototype._isResolved=function(){return null===this._values},g.prototype._resolve=function(a){this._values=null,this._promise._fulfill(a)},g.prototype.__hardReject__=g.prototype._reject=function(a){this._values=null,this._promise._rejectCallback(a,!1,!0)},g.prototype._promiseProgressed=function(a,b){this._promise._progress({index:b,value:a})},g.prototype._promiseFulfilled=function(a,b){this._values[b]=a;var c=++this._totalResolved;c>=this._length&&this._resolve(this._values)},g.prototype._promiseRejected=function(a,b){this._totalResolved++,this._reject(a)},g.prototype.shouldCopyValues=function(){return!0},g.prototype.getActualLength=function(a){return a},g}},{"./util.js":38}],25:[function(a,b,c){"use strict";function d(a){return a instanceof Error&&n.getPrototypeOf(a)===Error.prototype}function e(a){var b;if(d(a)){b=new l(a),b.name=a.name,b.message=a.message,b.stack=a.stack;for(var c=n.keys(a),e=0;e<c.length;++e){var f=c[e];o.test(f)||(b[f]=a[f])}return b}return h.markAsOriginatingFromRejection(a),a}function f(a){return function(b,c){if(null!==a){if(b){var d=e(i(b));a._attachExtraTrace(d),a._reject(d)}else if(arguments.length>2){for(var f=arguments.length,g=new Array(f-1),h=1;f>h;++h)g[h-1]=arguments[h];a._fulfill(g)}else a._fulfill(c);a=null}}}var g,h=a("./util.js"),i=h.maybeWrapAsError,j=a("./errors.js"),k=j.TimeoutError,l=j.OperationalError,m=h.haveGetters,n=a("./es5.js"),o=/^(?:name|message|stack|cause)$/;if(g=m?function(a){this.promise=a}:function(a){this.promise=a,this.asCallback=f(a),this.callback=this.asCallback},m){var p={get:function(){return f(this.promise)}};n.defineProperty(g.prototype,"asCallback",p),n.defineProperty(g.prototype,"callback",p)}g._nodebackForPromise=f,g.prototype.toString=function(){return"[object PromiseResolver]"},g.prototype.resolve=g.prototype.fulfill=function(a){if(!(this instanceof g))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(a)},g.prototype.reject=function(a){if(!(this instanceof g))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(a)},g.prototype.progress=function(a){if(!(this instanceof g))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(a)},g.prototype.cancel=function(a){this.promise.cancel(a)},g.prototype.timeout=function(){this.reject(new k("timeout"))},g.prototype.isResolved=function(){return this.promise.isResolved()},g.prototype.toJSON=function(){return this.promise.toJSON()},b.exports=g},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a){return!v.test(a)}function e(a){try{return a.__isPromisified__===!0}catch(b){return!1}}function f(a,b,c){var d=n.getDataPropertyOrDefault(a,b+c,u);return d?e(d):!1}function g(a,b,c){for(var d=0;d<a.length;d+=2){var e=a[d];if(c.test(e))for(var f=e.replace(c,""),g=0;g<a.length;g+=2)if(a[g]===f)throw new s("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",b))}}function h(a,b,c,d){for(var h=n.inheritedDataKeys(a),i=[],j=0;j<h.length;++j){var k=h[j],l=a[k],m=d===w?!0:w(k,l,a);"function"!=typeof l||e(l)||f(a,k,b)||!d(k,l,a,m)||i.push(k,l)}return g(i,b,c),i}function i(a,d,e,f){function g(){var e=d;d===m&&(e=this);var f=new b(c);f._captureStackTrace();var g="string"==typeof i&&this!==h?this[i]:a,j=o(f);try{g.apply(e,p(arguments,j))}catch(k){f._rejectCallback(q(k),!0,!0)}return f}var h=function(){return this}(),i=a;return"string"==typeof i&&(a=f),g.__isPromisified__=!0,g}function j(a,b,c,d){for(var e=new RegExp(x(b)+"$"),f=h(a,b,e,c),g=0,i=f.length;i>g;g+=2){var j=f[g],k=f[g+1],l=j+b;a[l]=d===y?y(j,m,j,k,b):d(k,function(){return y(j,m,j,k,b)})}return n.toFastProperties(a),a}function k(a,b){return y(a,b,void 0,a)}var l,m={},n=a("./util.js"),o=a("./promise_resolver.js")._nodebackForPromise,p=n.withAppended,q=n.maybeWrapAsError,r=n.canEvaluate,s=a("./errors").TypeError,t="Async",u={__isPromisified__:!0},v=/^(?:length|name|arguments|caller|prototype|__isPromisified__)$/,w=function(a,b){return n.isIdentifier(a)&&"_"!==a.charAt(0)&&!n.isClass(b)},x=function(a){return a.replace(/([$])/,"\\$")},y=r?l:i;b.promisify=function(a,b){if("function"!=typeof a)throw new s("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(e(a))return a;var c=k(a,arguments.length<2?m:b);return n.copyDescriptors(a,c,d),c},b.promisifyAll=function(a,b){if("function"!=typeof a&&"object"!=typeof a)throw new s("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");b=Object(b);var c=b.suffix;"string"!=typeof c&&(c=t);var d=b.filter;"function"!=typeof d&&(d=w);var e=b.promisifier;if("function"!=typeof e&&(e=y),!n.isIdentifier(c))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var f=n.inheritedDataKeys(a),g=0;g<f.length;++g){var h=a[f[g]];"constructor"!==f[g]&&n.isClass(h)&&(j(h.prototype,c,d,e),j(h,c,d,e))}return j(a,c,d,e)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a){for(var b=j.keys(a),c=b.length,d=new Array(2*c),e=0;c>e;++e){var f=b[e];d[e]=a[f],d[e+c]=f}this.constructor$(d)}function g(a){var c,g=d(a);return i(g)?(c=g instanceof b?g._then(b.props,void 0,void 0,void 0,void 0):new f(g).promise(),g instanceof b&&c._propagateFrom(g,4),c):e("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}var h=a("./util.js"),i=h.isObject,j=a("./es5.js");h.inherits(f,c),f.prototype._init=function(){this._init$(void 0,-3)},f.prototype._promiseFulfilled=function(a,b){this._values[b]=a;var c=++this._totalResolved;if(c>=this._length){for(var d={},e=this.length(),f=0,g=this.length();g>f;++f)d[this._values[f+e]]=this._values[f];this._resolve(d)}},f.prototype._promiseProgressed=function(a,b){this._promise._progress({key:this._values[b+this.length()],value:a})},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(a){return a>>1},b.prototype.props=function(){return g(this)},b.props=function(a){return g(a)}}},{"./es5.js":14,"./util.js":38}],28:[function(a,b,c){"use strict";function d(a,b,c,d,e){for(var f=0;e>f;++f)c[f+d]=a[f+b],a[f+b]=void 0}function e(a){this._capacity=a,this._length=0,this._front=0}e.prototype._willBeOverCapacity=function(a){return this._capacity<a},e.prototype._pushOne=function(a){var b=this.length();this._checkCapacity(b+1);var c=this._front+b&this._capacity-1;this[c]=a,this._length=b+1},e.prototype._unshiftOne=function(a){var b=this._capacity;this._checkCapacity(this.length()+1);var c=this._front,d=(c-1&b-1^b)-b;this[d]=a,this._front=d,this._length=this.length()+1},e.prototype.unshift=function(a,b,c){this._unshiftOne(c),this._unshiftOne(b),this._unshiftOne(a)},e.prototype.push=function(a,b,c){var d=this.length()+3;if(this._willBeOverCapacity(d))return this._pushOne(a),this._pushOne(b),void this._pushOne(c);var e=this._front+d-3;this._checkCapacity(d);var f=this._capacity-1;this[e+0&f]=a,this[e+1&f]=b,this[e+2&f]=c,this._length=d},e.prototype.shift=function(){var a=this._front,b=this[a];return this[a]=void 0,this._front=a+1&this._capacity-1,this._length--,b},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(a){this._capacity<a&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(a){var b=this._capacity;this._capacity=a;var c=this._front,e=this._length,f=c+e&b-1;d(this,0,this,b,f)},b.exports=e},{}],29:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a,f){var i=d(a);if(i instanceof b)return h(i);if(!g(a))return e("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var j=new b(c);void 0!==f&&j._propagateFrom(f,5);for(var k=j._fulfill,l=j._reject,m=0,n=a.length;n>m;++m){var o=a[m];(void 0!==o||m in a)&&b.cast(o)._then(k,l,void 0,j,null)}return j}var g=a("./util.js").isArray,h=function(a){return a.then(function(b){return f(b,a)})};b.race=function(a){return f(a,void 0)},b.prototype.race=function(){return f(this,void 0)}}},{"./util.js":38}],30:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f){function g(a,c,d,g){this.constructor$(a),this._promise._captureStackTrace(),this._preservedValues=g===f?[]:null,this._zerothIsAccum=void 0===d,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var i=e(d,this._promise),k=!1,l=i instanceof b;l&&(i=i._target(),i._isPending()?i._proxyPromiseArray(this,-1):i._isFulfilled()?(d=i._value(),this._gotAccum=!0):(this._reject(i._reason()),k=!0)),l||this._zerothIsAccum||(this._gotAccum=!0),this._callback=c,this._accum=d,k||j.invoke(h,this,void 0)}function h(){this._init$(void 0,-5)}function i(a,b,c,e){if("function"!=typeof b)return d("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var f=new g(a,b,c,e);return f.promise()}var j=a("./async.js"),k=a("./util.js"),l=k.tryCatch,m=k.errorObj;k.inherits(g,c),g.prototype._init=function(){},g.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},g.prototype._promiseFulfilled=function(a,c){var d=this._values;d[c]=a;var f,g=this.length(),h=this._preservedValues,i=null!==h,j=this._gotAccum,k=this._valuesPhase;if(!k)for(k=this._valuesPhase=new Array(g),f=0;g>f;++f)k[f]=0;if(f=k[c],0===c&&this._zerothIsAccum?(this._accum=a,this._gotAccum=j=!0,k[c]=0===f?1:2):-1===c?(this._accum=a,this._gotAccum=j=!0):0===f?k[c]=1:(k[c]=2,this._accum=a),j){for(var n,o=this._callback,p=this._promise._boundTo,q=this._reducingIndex;g>q;++q)if(f=k[q],2!==f){if(1!==f)return;if(a=d[q],this._promise._pushContext(),i?(h.push(a),n=l(o).call(p,a,q,g)):n=l(o).call(p,this._accum,a,q,g),this._promise._popContext(),n===m)return this._reject(n.e);var r=e(n,this._promise);if(r instanceof b){if(r=r._target(),r._isPending())return k[q]=4,r._proxyPromiseArray(this,q);if(!r._isFulfilled())return this._reject(r._reason());n=r._value()}this._reducingIndex=q+1,this._accum=n}else this._reducingIndex=q+1;this._resolve(i?h:this._accum)}},b.prototype.reduce=function(a,b){return i(this,a,b,null)},b.reduce=function(a,b,c,d){return i(a,b,c,d)}}},{"./async.js":2,"./util.js":38}],31:[function(b,c,d){"use strict";var e;b("./util.js").isNode?e=a.nextTick:"undefined"!=typeof MutationObserver?(e=function(a){var b=document.createElement("div"),c=new MutationObserver(a);return c.observe(b,{attributes:!0}),function(){b.classList.toggle("foo")}},e.isStatic=!0):e="undefined"!=typeof setTimeout?function(a){setTimeout(a,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")},c.exports=e},{"./util.js":38}],32:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a){this.constructor$(a)}var e=b.PromiseInspection,f=a("./util.js");f.inherits(d,c),d.prototype._promiseResolved=function(a,b){this._values[a]=b;var c=++this._totalResolved;c>=this._length&&this._resolve(this._values)},d.prototype._promiseFulfilled=function(a,b){var c=new e;c._bitField=268435456,c._settledValue=a,this._promiseResolved(b,c)},d.prototype._promiseRejected=function(a,b){var c=new e;c._bitField=134217728,c._settledValue=a,this._promiseResolved(b,c)},b.settle=function(a){return new d(a).promise()},b.prototype.settle=function(){return new d(this).promise()}}},{"./util.js":38}],33:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(a){this.constructor$(a),this._howMany=0,this._unwrap=!1,this._initialized=!1}function f(a,b){if((0|b)!==b||0>b)return d("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var c=new e(a),f=c.promise();return c.setHowMany(b),c.init(),f}var g=a("./util.js"),h=a("./errors.js").RangeError,i=a("./errors.js").AggregateError,j=g.isArray;g.inherits(e,c),e.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var a=j(this._values);!this._isResolved()&&a&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},e.prototype.init=function(){this._initialized=!0,this._init()},e.prototype.setUnwrap=function(){this._unwrap=!0},e.prototype.howMany=function(){return this._howMany},e.prototype.setHowMany=function(a){this._howMany=a},e.prototype._promiseFulfilled=function(a){this._addFulfilled(a),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values))},e.prototype._promiseRejected=function(a){if(this._addRejected(a),this.howMany()>this._canPossiblyFulfill()){for(var b=new i,c=this.length();c<this._values.length;++c)b.push(this._values[c]);this._reject(b)}},e.prototype._fulfilled=function(){return this._totalResolved},e.prototype._rejected=function(){return this._values.length-this.length()},e.prototype._addRejected=function(a){this._values.push(a)},e.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a},e.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},e.prototype._getRangeError=function(a){var b="Input array must contain at least "+this._howMany+" items but contains only "+a+" items";return new h(b)},e.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},b.some=function(a,b){return f(a,b)},b.prototype.some=function(a){
return f(this,a)},b._SomePromiseArray=e}},{"./errors.js":13,"./util.js":38}],34:[function(a,b,c){"use strict";b.exports=function(a){function b(a){void 0!==a?(a=a._target(),this._bitField=a._bitField,this._settledValue=a._settledValue):(this._bitField=0,this._settledValue=void 0)}b.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},b.prototype.error=b.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},b.prototype.isFulfilled=a.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},b.prototype.isRejected=a.prototype._isRejected=function(){return(134217728&this._bitField)>0},b.prototype.isPending=a.prototype._isPending=function(){return 0===(402653184&this._bitField)},b.prototype.isResolved=a.prototype._isResolved=function(){return(402653184&this._bitField)>0},a.prototype.isPending=function(){return this._target()._isPending()},a.prototype.isRejected=function(){return this._target()._isRejected()},a.prototype.isFulfilled=function(){return this._target()._isFulfilled()},a.prototype.isResolved=function(){return this._target()._isResolved()},a.prototype._value=function(){return this._settledValue},a.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},a.prototype.value=function(){var a=this._target();if(!a.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return a._settledValue},a.prototype.reason=function(){var a=this._target();if(!a.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return a._unsetRejectionIsUnhandled(),a._settledValue},a.PromiseInspection=b}},{}],35:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a,d){if(j(a)){if(a instanceof b)return a;if(f(a)){var k=new b(c);return a._then(k._fulfillUnchecked,k._rejectUncheckedCheckError,k._progressUnchecked,k,null),k}var l=h.tryCatch(e)(a);if(l===i){d&&d._pushContext();var k=b.reject(l.e);return d&&d._popContext(),k}if("function"==typeof l)return g(a,l,d)}return a}function e(a){return a.then}function f(a){return k.call(a,"_promise0")}function g(a,d,e){function f(c){k&&(a===c?k._rejectCallback(b._makeSelfResolutionError(),!1,!0):k._resolveCallback(c),k=null)}function g(a){k&&(k._rejectCallback(a,m,!0),k=null)}function j(a){k&&"function"==typeof k._progress&&k._progress(a)}var k=new b(c),l=k;e&&e._pushContext(),k._captureStackTrace(),e&&e._popContext();var m=!0,n=h.tryCatch(d).call(a,f,g,j);return m=!1,k&&n===i&&(k._rejectCallback(n.e,!0,!0),k=null),l}var h=a("./util.js"),i=h.errorObj,j=h.isObject,k={}.hasOwnProperty;return d}},{"./util.js":38}],36:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a){var b=this;return b instanceof Number&&(b=+b),clearTimeout(b),a}function e(a){var b=this;throw b instanceof Number&&(b=+b),clearTimeout(b),a}var f=a("./util.js"),g=b.TimeoutError,h=function(a,b){if(a.isPending()){"string"!=typeof b&&(b="operation timed out");var c=new g(b);f.markAsOriginatingFromRejection(c),a._attachExtraTrace(c),a._cancel(c)}},i=function(a){return j(+this).thenReturn(a)},j=b.delay=function(a,d){if(void 0===d){d=a,a=void 0;var e=new b(c);return setTimeout(function(){e._fulfill()},d),e}return d=+d,b.resolve(a)._then(i,null,null,d,void 0)};b.prototype.delay=function(a){return j(this,a)},b.prototype.timeout=function(a,b){a=+a;var c=this.then().cancellable();c._cancellationParent=this;var f=setTimeout(function(){h(c,b)},a);return c._then(d,e,void 0,f,void 0)}}},{"./util.js":38}],37:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a){for(var c=a.length,d=0;c>d;++d){var e=a[d];if(e.isRejected())return b.reject(e.error());a[d]=e._settledValue}return a}function g(a){setTimeout(function(){throw a},0)}function h(a){var b=d(a);return b!==a&&"function"==typeof a._isDisposable&&"function"==typeof a._getDisposer&&a._isDisposable()&&b._setDisposable(a._getDisposer()),b}function i(a,c){function e(){if(f>=i)return j.resolve();var k=h(a[f++]);if(k instanceof b&&k._isDisposable()){try{k=d(k._getDisposer().tryDispose(c),a.promise)}catch(l){return g(l)}if(k instanceof b)return k._then(e,g,null,null,null)}e()}var f=0,i=a.length,j=b.defer();return e(),j.promise}function j(a){var b=new q;return b._settledValue=a,b._bitField=268435456,i(this,b).thenReturn(a)}function k(a){var b=new q;return b._settledValue=a,b._bitField=134217728,i(this,b).thenThrow(a)}function l(a,b,c){this._data=a,this._promise=b,this._context=c}function m(a,b,c){this.constructor$(a,b,c)}function n(a){return l.isDisposer(a)?(this.resources[this.index]._setDisposable(a),a.promise()):a}var o=a("./errors.js").TypeError,p=a("./util.js").inherits,q=b.PromiseInspection;l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},l.prototype.tryDispose=function(a){var b=this.resource(),c=this._context;void 0!==c&&c._pushContext();var d=null!==b?this.doDispose(b,a):null;return void 0!==c&&c._popContext(),this._promise._unsetDisposable(),this._data=null,d},l.isDisposer=function(a){return null!=a&&"function"==typeof a.resource&&"function"==typeof a.tryDispose},p(m,l),m.prototype.doDispose=function(a,b){var c=this.data();return c.call(a,a,b)},b.using=function(){var a=arguments.length;if(2>a)return c("you must pass at least 2 arguments to Promise.using");var e=arguments[a-1];if("function"!=typeof e)return c("fn must be a function\n\n    See http://goo.gl/916lJJ\n");a--;for(var g=new Array(a),h=0;a>h;++h){var i=arguments[h];if(l.isDisposer(i)){var m=i;i=i.promise(),i._setDisposable(m)}else{var o=d(i);o instanceof b&&(i=o._then(n,null,null,{resources:g,index:h},void 0))}g[h]=i}var p=b.settle(g).then(f).then(function(a){p._pushContext();var b;try{b=e.apply(void 0,a)}finally{p._popContext()}return b})._then(j,k,void 0,g,void 0);return g.promise=p,p},b.prototype._setDisposable=function(a){this._bitField=262144|this._bitField,this._disposer=a},b.prototype._isDisposable=function(){return(262144&this._bitField)>0},b.prototype._getDisposer=function(){return this._disposer},b.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},b.prototype.disposer=function(a){if("function"==typeof a)return new m(a,this,e());throw new o}}},{"./errors.js":13,"./util.js":38}],38:[function(b,c,d){"use strict";function e(){try{return B.apply(this,arguments)}catch(a){return A.e=a,A}}function f(a){return B=a,e}function g(a){return null==a||a===!0||a===!1||"string"==typeof a||"number"==typeof a}function h(a){return!g(a)}function i(a){return g(a)?new Error(r(a)):a}function j(a,b){var c,d=a.length,e=new Array(d+1);for(c=0;d>c;++c)e[c]=a[c];return e[c]=b,e}function k(a,b,c){if(!x.isES5)return{}.hasOwnProperty.call(a,b)?a[b]:void 0;var d=Object.getOwnPropertyDescriptor(a,b);return null!=d?null==d.get&&null==d.set?d.value:c:void 0}function l(a,b,c){if(g(a))return a;var d={value:c,configurable:!0,enumerable:!1,writable:!0};return x.defineProperty(a,b,d),a}function m(a){throw a}function n(a){try{if("function"==typeof a){var b=x.names(a.prototype);return x.isES5?b.length>1:b.length>0&&!(1===b.length&&"constructor"===b[0])}return!1}catch(c){return!1}}function o(a){function b(){}return b.prototype=a,b}function p(a){return F.test(a)}function q(a,b,c){for(var d=new Array(a),e=0;a>e;++e)d[e]=b+e+c;return d}function r(a){try{return a+""}catch(b){return"[no string representation]"}}function s(a){try{l(a,"isOperational",!0)}catch(b){}}function t(a){return null==a?!1:a instanceof Error.__BluebirdErrorTypes__.OperationalError||a.isOperational===!0}function u(a){return a instanceof Error&&x.propertyIsWritable(a,"stack")}function v(a){return{}.toString.call(a)}function w(a,b,c){for(var d=x.names(a),e=0;e<d.length;++e){var f=d[e];c(f)&&x.defineProperty(b,f,x.getDescriptor(a,f))}}var x=b("./es5.js"),y="undefined"==typeof navigator,z=function(){try{var a={};return x.defineProperty(a,"f",{get:function(){return 3}}),3===a.f}catch(b){return!1}}(),A={e:{}},B,C=function(a,b){function c(){this.constructor=a,this.constructor$=b;for(var c in b.prototype)d.call(b.prototype,c)&&"$"!==c.charAt(c.length-1)&&(this[c+"$"]=b.prototype[c])}var d={}.hasOwnProperty;return c.prototype=b.prototype,a.prototype=new c,a.prototype},D=function(){return"string"!==this}.call("string"),E=function(){if(x.isES5){var a=Object.prototype,b=Object.getOwnPropertyNames;return function(c){for(var d=[],e=Object.create(null);null!=c&&c!==a;){var f;try{f=b(c)}catch(g){return d}for(var h=0;h<f.length;++h){var i=f[h];if(!e[i]){e[i]=!0;var j=Object.getOwnPropertyDescriptor(c,i);null!=j&&null==j.get&&null==j.set&&d.push(i)}}c=x.getPrototypeOf(c)}return d}}return function(a){var b=[];for(var c in a)b.push(c);return b}}(),F=/^[a-z$_][a-z$_0-9]*$/i,G=function(){return"stack"in new Error?function(a){return u(a)?a:new Error(r(a))}:function(a){if(u(a))return a;try{throw new Error(r(a))}catch(b){return b}}}(),H={isClass:n,isIdentifier:p,inheritedDataKeys:E,getDataPropertyOrDefault:k,thrower:m,isArray:x.isArray,haveGetters:z,notEnumerableProp:l,isPrimitive:g,isObject:h,canEvaluate:y,errorObj:A,tryCatch:f,inherits:C,withAppended:j,maybeWrapAsError:i,wrapsPrimitiveReceiver:D,toFastProperties:o,filledRange:q,toString:r,canAttachTrace:u,ensureErrorObject:G,originatesFromRejection:t,markAsOriginatingFromRejection:s,classString:v,copyDescriptors:w,isNode:"undefined"!=typeof a&&"[object process]"===v(a).toLowerCase()};try{throw new Error}catch(I){H.lastLineError=I}c.exports=H},{"./es5.js":14}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,a("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"1YiZ5S":213}],204:[function(a,b,c){function d(a){return null===a||void 0===a}function e(a){return a&&"object"==typeof a&&"number"==typeof a.length?"function"!=typeof a.copy||"function"!=typeof a.slice?!1:a.length>0&&"number"!=typeof a[0]?!1:!0:!1}function f(a,b,c){var f,k;if(d(a)||d(b))return!1;if(a.prototype!==b.prototype)return!1;if(i(a))return i(b)?(a=g.call(a),b=g.call(b),j(a,b,c)):!1;if(e(a)){if(!e(b))return!1;if(a.length!==b.length)return!1;for(f=0;f<a.length;f++)if(a[f]!==b[f])return!1;return!0}try{var l=h(a),m=h(b)}catch(n){return!1}if(l.length!=m.length)return!1;for(l.sort(),m.sort(),f=l.length-1;f>=0;f--)if(l[f]!=m[f])return!1;for(f=l.length-1;f>=0;f--)if(k=l[f],!j(a[k],b[k],c))return!1;return typeof a==typeof b}var g=Array.prototype.slice,h=a("./lib/keys.js"),i=a("./lib/is_arguments.js"),j=b.exports=function(a,b,c){return c||(c={}),a===b?!0:a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():"object"!=typeof a&&"object"!=typeof b?c.strict?a===b:a==b:f(a,b,c)}},{"./lib/is_arguments.js":205,"./lib/keys.js":206}],205:[function(a,b,c){function d(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function e(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}var f="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();c=b.exports=f?d:e,c.supported=d,c.unsupported=e},{}],206:[function(a,b,c){function d(a){var b=[];for(var c in a)b.push(c);return b}c=b.exports="function"==typeof Object.keys?Object.keys:d,c.shim=d},{}],207:[function(a,b,c){function d(a,b){return n.isUndefined(b)?""+b:!n.isNumber(b)||!isNaN(b)&&isFinite(b)?n.isFunction(b)||n.isRegExp(b)?b.toString():b:b.toString()}function e(a,b){return n.isString(a)?a.length<b?a:a.slice(0,b):a}function f(a){return e(JSON.stringify(a.actual,d),128)+" "+a.operator+" "+e(JSON.stringify(a.expected,d),128)}function g(a,b,c,d,e){throw new q.AssertionError({message:c,actual:a,expected:b,operator:d,stackStartFunction:e})}function h(a,b){a||g(a,!0,b,"==",q.ok)}function i(a,b){if(a===b)return!0;if(n.isBuffer(a)&&n.isBuffer(b)){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}return n.isDate(a)&&n.isDate(b)?a.getTime()===b.getTime():n.isRegExp(a)&&n.isRegExp(b)?a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase:n.isObject(a)||n.isObject(b)?k(a,b):a==b}function j(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function k(a,b){if(n.isNullOrUndefined(a)||n.isNullOrUndefined(b))return!1;if(a.prototype!==b.prototype)return!1;if(j(a))return j(b)?(a=o.call(a),b=o.call(b),i(a,b)):!1;try{var c,d,e=r(a),f=r(b)}catch(g){return!1}if(e.length!=f.length)return!1;for(e.sort(),f.sort(),d=e.length-1;d>=0;d--)if(e[d]!=f[d])return!1;for(d=e.length-1;d>=0;d--)if(c=e[d],!i(a[c],b[c]))return!1;return!0}function l(a,b){return a&&b?"[object RegExp]"==Object.prototype.toString.call(b)?b.test(a):a instanceof b?!0:b.call({},a)===!0?!0:!1:!1}function m(a,b,c,d){var e;n.isString(c)&&(d=c,c=null);try{b()}catch(f){e=f}if(d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:"."),a&&!e&&g(e,c,"Missing expected exception"+d),!a&&l(e,c)&&g(e,c,"Got unwanted exception"+d),a&&e&&c&&!l(e,c)||!a&&e)throw e}var n=a("util/"),o=Array.prototype.slice,p=Object.prototype.hasOwnProperty,q=b.exports=h;q.AssertionError=function(a){this.name="AssertionError",this.actual=a.actual,this.expected=a.expected,this.operator=a.operator,a.message?(this.message=a.message,this.generatedMessage=!1):(this.message=f(this),this.generatedMessage=!0);var b=a.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var c=new Error;if(c.stack){var d=c.stack,e=b.name,h=d.indexOf("\n"+e);if(h>=0){var i=d.indexOf("\n",h+1);d=d.substring(i+1)}this.stack=d}}},n.inherits(q.AssertionError,Error),q.fail=g,q.ok=h,q.equal=function(a,b,c){a!=b&&g(a,b,c,"==",q.equal)},q.notEqual=function(a,b,c){a==b&&g(a,b,c,"!=",q.notEqual)},q.deepEqual=function(a,b,c){i(a,b)||g(a,b,c,"deepEqual",q.deepEqual)},q.notDeepEqual=function(a,b,c){i(a,b)&&g(a,b,c,"notDeepEqual",q.notDeepEqual)},q.strictEqual=function(a,b,c){a!==b&&g(a,b,c,"===",q.strictEqual)},q.notStrictEqual=function(a,b,c){a===b&&g(a,b,c,"!==",q.notStrictEqual)},q["throws"]=function(a,b,c){m.apply(this,[!0].concat(o.call(arguments)))},q.doesNotThrow=function(a,b){m.apply(this,[!1].concat(o.call(arguments)))},q.ifError=function(a){if(a)throw a};var r=Object.keys||function(a){var b=[];for(var c in a)p.call(a,c)&&b.push(c);return b}},{"util/":223}],208:[function(a,b,c){function d(a,b,c){if(!(this instanceof d))return new d(a,b,c);var e=typeof a;if("base64"===b&&"string"===e)for(a=C(a);a.length%4!==0;)a+="=";var f;if("number"===e)f=E(a);else if("string"===e)f=d.byteLength(a,b);else{if("object"!==e)throw new Error("First argument needs to be a number, array or string.");f=E(a.length)}var g;d._useTypedArrays?g=d._augment(new Uint8Array(f)):(g=this,g.length=f,g._isBuffer=!0);var h;if(d._useTypedArrays&&"number"==typeof a.byteLength)g._set(a);else if(G(a))for(h=0;f>h;h++)d.isBuffer(a)?g[h]=a.readUInt8(h):g[h]=a[h];else if("string"===e)g.write(a,0,b);else if("number"===e&&!d._useTypedArrays&&!c)for(h=0;f>h;h++)g[h]=0;return g}function e(a,b,c,e){c=Number(c)||0;var f=a.length-c;e?(e=Number(e),e>f&&(e=f)):e=f;var g=b.length;R(g%2===0,"Invalid hex string"),e>g/2&&(e=g/2);for(var h=0;e>h;h++){var i=parseInt(b.substr(2*h,2),16);R(!isNaN(i),"Invalid hex string"),a[c+h]=i}return d._charsWritten=2*h,h}function f(a,b,c,e){var f=d._charsWritten=M(I(b),a,c,e);return f}function g(a,b,c,e){var f=d._charsWritten=M(J(b),a,c,e);return f}function h(a,b,c,d){return g(a,b,c,d)}function i(a,b,c,e){var f=d._charsWritten=M(L(b),a,c,e);return f}function j(a,b,c,e){var f=d._charsWritten=M(K(b),a,c,e);return f}function k(a,b,c){return 0===b&&c===a.length?S.fromByteArray(a):S.fromByteArray(a.slice(b,c))}function l(a,b,c){var d="",e="";c=Math.min(a.length,c);for(var f=b;c>f;f++)a[f]<=127?(d+=N(e)+String.fromCharCode(a[f]),e=""):e+="%"+a[f].toString(16);return d+N(e)}function m(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function n(a,b,c){return m(a,b,c)}function o(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=H(a[f]);return e}function p(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function q(a,b,c,d){d||(R("boolean"==typeof c,"missing or invalid endian"),R(void 0!==b&&null!==b,"missing offset"),R(b+1<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f;return c?(f=a[b],e>b+1&&(f|=a[b+1]<<8)):(f=a[b]<<8,e>b+1&&(f|=a[b+1])),f}}function r(a,b,c,d){d||(R("boolean"==typeof c,"missing or invalid endian"),R(void 0!==b&&null!==b,"missing offset"),R(b+3<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f;return c?(e>b+2&&(f=a[b+2]<<16),e>b+1&&(f|=a[b+1]<<8),f|=a[b],e>b+3&&(f+=a[b+3]<<24>>>0)):(e>b+1&&(f=a[b+1]<<16),e>b+2&&(f|=a[b+2]<<8),e>b+3&&(f|=a[b+3]),f+=a[b]<<24>>>0),f}}function s(a,b,c,d){d||(R("boolean"==typeof c,"missing or invalid endian"),R(void 0!==b&&null!==b,"missing offset"),R(b+1<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f=q(a,b,c,!0),g=32768&f;return g?-1*(65535-f+1):f}}function t(a,b,c,d){d||(R("boolean"==typeof c,"missing or invalid endian"),R(void 0!==b&&null!==b,"missing offset"),R(b+3<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f=r(a,b,c,!0),g=2147483648&f;return g?-1*(4294967295-f+1):f}}function u(a,b,c,d){return d||(R("boolean"==typeof c,"missing or invalid endian"),R(b+3<a.length,"Trying to read beyond buffer length")),T.read(a,b,c,23,4)}function v(a,b,c,d){return d||(R("boolean"==typeof c,"missing or invalid endian"),R(b+7<a.length,"Trying to read beyond buffer length")),T.read(a,b,c,52,8)}function w(a,b,c,d,e){e||(R(void 0!==b&&null!==b,"missing value"),R("boolean"==typeof d,"missing or invalid endian"),R(void 0!==c&&null!==c,"missing offset"),R(c+1<a.length,"trying to write beyond buffer length"),O(b,65535));var f=a.length;if(!(c>=f))for(var g=0,h=Math.min(f-c,2);h>g;g++)a[c+g]=(b&255<<8*(d?g:1-g))>>>8*(d?g:1-g)}function x(a,b,c,d,e){e||(R(void 0!==b&&null!==b,"missing value"),R("boolean"==typeof d,"missing or invalid endian"),R(void 0!==c&&null!==c,"missing offset"),R(c+3<a.length,"trying to write beyond buffer length"),O(b,4294967295));var f=a.length;if(!(c>=f))for(var g=0,h=Math.min(f-c,4);h>g;g++)a[c+g]=b>>>8*(d?g:3-g)&255}function y(a,b,c,d,e){e||(R(void 0!==b&&null!==b,"missing value"),R("boolean"==typeof d,"missing or invalid endian"),R(void 0!==c&&null!==c,"missing offset"),R(c+1<a.length,"Trying to write beyond buffer length"),P(b,32767,-32768));var f=a.length;c>=f||(b>=0?w(a,b,c,d,e):w(a,65535+b+1,c,d,e))}function z(a,b,c,d,e){e||(R(void 0!==b&&null!==b,"missing value"),R("boolean"==typeof d,"missing or invalid endian"),R(void 0!==c&&null!==c,"missing offset"),R(c+3<a.length,"Trying to write beyond buffer length"),P(b,2147483647,-2147483648));var f=a.length;c>=f||(b>=0?x(a,b,c,d,e):x(a,4294967295+b+1,c,d,e))}function A(a,b,c,d,e){e||(R(void 0!==b&&null!==b,"missing value"),R("boolean"==typeof d,"missing or invalid endian"),R(void 0!==c&&null!==c,"missing offset"),R(c+3<a.length,"Trying to write beyond buffer length"),Q(b,3.4028234663852886e38,-3.4028234663852886e38));var f=a.length;c>=f||T.write(a,b,c,d,23,4)}function B(a,b,c,d,e){e||(R(void 0!==b&&null!==b,"missing value"),R("boolean"==typeof d,"missing or invalid endian"),R(void 0!==c&&null!==c,"missing offset"),R(c+7<a.length,"Trying to write beyond buffer length"),Q(b,1.7976931348623157e308,-1.7976931348623157e308));var f=a.length;c>=f||T.write(a,b,c,d,52,8)}function C(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function D(a,b,c){return"number"!=typeof a?c:(a=~~a,a>=b?b:a>=0?a:(a+=b,a>=0?a:0))}function E(a){return a=~~Math.ceil(+a),0>a?0:a}function F(a){return(Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)})(a)}function G(a){return F(a)||d.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function H(a){return 16>a?"0"+a.toString(16):a.toString(16)}function I(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);if(127>=d)b.push(a.charCodeAt(c));else{var e=c;d>=55296&&57343>=d&&c++;for(var f=encodeURIComponent(a.slice(e,c+1)).substr(1).split("%"),g=0;g<f.length;g++)b.push(parseInt(f[g],16))}}return b}function J(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function K(a){for(var b,c,d,e=[],f=0;f<a.length;f++)b=a.charCodeAt(f),c=b>>8,d=b%256,e.push(d),e.push(c);return e}function L(a){return S.toByteArray(a)}function M(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}function N(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}function O(a,b){R("number"==typeof a,"cannot write a non-number as a number"),R(a>=0,"specified a negative value for writing an unsigned value"),R(b>=a,"value is larger than maximum value for type"),R(Math.floor(a)===a,"value has a fractional component")}function P(a,b,c){R("number"==typeof a,"cannot write a non-number as a number"),R(b>=a,"value larger than maximum allowed value"),R(a>=c,"value smaller than minimum allowed value"),R(Math.floor(a)===a,"value has a fractional component")}function Q(a,b,c){R("number"==typeof a,"cannot write a non-number as a number"),R(b>=a,"value larger than maximum allowed value"),R(a>=c,"value smaller than minimum allowed value")}function R(a,b){if(!a)throw new Error(b||"Failed assertion")}var S=a("base64-js"),T=a("ieee754");c.Buffer=d,c.SlowBuffer=d,c.INSPECT_MAX_BYTES=50,d.poolSize=8192,d._useTypedArrays=function(){try{var a=new ArrayBuffer(0),b=new Uint8Array(a);return b.foo=function(){return 42},42===b.foo()&&"function"==typeof b.subarray}catch(c){return!1}}(),d.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.isBuffer=function(a){return!(null===a||void 0===a||!a._isBuffer)},d.byteLength=function(a,b){var c;switch(a+="",b||"utf8"){case"hex":c=a.length/2;break;case"utf8":case"utf-8":c=I(a).length;break;case"ascii":case"binary":case"raw":c=a.length;break;case"base64":c=L(a).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":c=2*a.length;break;default:throw new Error("Unknown encoding")}return c},d.concat=function(a,b){if(R(F(a),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===a.length)return new d(0);if(1===a.length)return a[0];var c;if("number"!=typeof b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var e=new d(b),f=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(e,f),f+=g.length}return e},d.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var k=d;d=b,b=c,c=k}b=Number(b)||0;var l=this.length-b;c?(c=Number(c),c>l&&(c=l)):c=l,d=String(d||"utf8").toLowerCase();var m;switch(d){case"hex":m=e(this,a,b,c);break;case"utf8":case"utf-8":m=f(this,a,b,c);break;case"ascii":m=g(this,a,b,c);break;case"binary":m=h(this,a,b,c);break;case"base64":m=i(this,a,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":m=j(this,a,b,c);break;default:throw new Error("Unknown encoding")}return m},d.prototype.toString=function(a,b,c){var d=this;if(a=String(a||"utf8").toLowerCase(),b=Number(b)||0,c=void 0!==c?Number(c):c=d.length,c===b)return"";var e;switch(a){case"hex":e=o(d,b,c);break;case"utf8":case"utf-8":e=l(d,b,c);break;case"ascii":e=m(d,b,c);break;case"binary":e=n(d,b,c);break;case"base64":e=k(d,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":e=p(d,b,c);break;default:throw new Error("Unknown encoding")}return e},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},d.prototype.copy=function(a,b,c,e){var f=this;if(c||(c=0),e||0===e||(e=this.length),b||(b=0),e!==c&&0!==a.length&&0!==f.length){R(e>=c,"sourceEnd < sourceStart"),R(b>=0&&b<a.length,"targetStart out of bounds"),R(c>=0&&c<f.length,"sourceStart out of bounds"),R(e>=0&&e<=f.length,"sourceEnd out of bounds"),e>this.length&&(e=this.length),a.length-b<e-c&&(e=a.length-b+c);var g=e-c;if(100>g||!d._useTypedArrays)for(var h=0;g>h;h++)a[h+b]=this[h+c];else a._set(this.subarray(c,c+g),b)}},d.prototype.slice=function(a,b){var c=this.length;if(a=D(a,c,0),b=D(b,c,c),d._useTypedArrays)return d._augment(this.subarray(a,b));for(var e=b-a,f=new d(e,void 0,!0),g=0;e>g;g++)f[g]=this[g+a];return f},d.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},d.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},d.prototype.readUInt8=function(a,b){return b||(R(void 0!==a&&null!==a,"missing offset"),R(a<this.length,"Trying to read beyond buffer length")),a>=this.length?void 0:this[a]},d.prototype.readUInt16LE=function(a,b){return q(this,a,!0,b)},d.prototype.readUInt16BE=function(a,b){return q(this,a,!1,b)},d.prototype.readUInt32LE=function(a,b){return r(this,a,!0,b)},d.prototype.readUInt32BE=function(a,b){return r(this,a,!1,b)},d.prototype.readInt8=function(a,b){if(b||(R(void 0!==a&&null!==a,"missing offset"),R(a<this.length,"Trying to read beyond buffer length")),!(a>=this.length)){var c=128&this[a];return c?-1*(255-this[a]+1):this[a]}},d.prototype.readInt16LE=function(a,b){return s(this,a,!0,b)},d.prototype.readInt16BE=function(a,b){return s(this,a,!1,b)},d.prototype.readInt32LE=function(a,b){return t(this,a,!0,b)},d.prototype.readInt32BE=function(a,b){return t(this,a,!1,b)},d.prototype.readFloatLE=function(a,b){return u(this,a,!0,b)},d.prototype.readFloatBE=function(a,b){return u(this,a,!1,b)},d.prototype.readDoubleLE=function(a,b){return v(this,a,!0,b)},d.prototype.readDoubleBE=function(a,b){return v(this,a,!1,b)},d.prototype.writeUInt8=function(a,b,c){c||(R(void 0!==a&&null!==a,"missing value"),R(void 0!==b&&null!==b,"missing offset"),R(b<this.length,"trying to write beyond buffer length"),O(a,255)),b>=this.length||(this[b]=a)},d.prototype.writeUInt16LE=function(a,b,c){w(this,a,b,!0,c)},d.prototype.writeUInt16BE=function(a,b,c){w(this,a,b,!1,c)},d.prototype.writeUInt32LE=function(a,b,c){x(this,a,b,!0,c)},d.prototype.writeUInt32BE=function(a,b,c){x(this,a,b,!1,c)},d.prototype.writeInt8=function(a,b,c){c||(R(void 0!==a&&null!==a,"missing value"),R(void 0!==b&&null!==b,"missing offset"),R(b<this.length,"Trying to write beyond buffer length"),P(a,127,-128)),b>=this.length||(a>=0?this.writeUInt8(a,b,c):this.writeUInt8(255+a+1,b,c))},d.prototype.writeInt16LE=function(a,b,c){y(this,a,b,!0,c)},d.prototype.writeInt16BE=function(a,b,c){y(this,a,b,!1,c)},d.prototype.writeInt32LE=function(a,b,c){z(this,a,b,!0,c)},d.prototype.writeInt32BE=function(a,b,c){z(this,a,b,!1,c)},d.prototype.writeFloatLE=function(a,b,c){A(this,a,b,!0,c)},d.prototype.writeFloatBE=function(a,b,c){A(this,a,b,!1,c)},d.prototype.writeDoubleLE=function(a,b,c){B(this,a,b,!0,c)},d.prototype.writeDoubleBE=function(a,b,c){B(this,a,b,!1,c)},d.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),"string"==typeof a&&(a=a.charCodeAt(0)),R("number"==typeof a&&!isNaN(a),"value is not a number"),R(c>=b,"end < start"),c!==b&&0!==this.length){R(b>=0&&b<this.length,"start out of bounds"),R(c>=0&&c<=this.length,"end out of bounds");for(var d=b;c>d;d++)this[d]=a}},d.prototype.inspect=function(){for(var a=[],b=this.length,d=0;b>d;d++)if(a[d]=H(this[d]),d===c.INSPECT_MAX_BYTES){a[d+1]="...";break}return"<Buffer "+a.join(" ")+">"},d.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(d._useTypedArrays)return new d(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var U=d.prototype;d._augment=function(a){return a._isBuffer=!0,a._get=a.get,a._set=a.set,a.get=U.get,a.set=U.set,a.write=U.write,a.toString=U.toString,a.toLocaleString=U.toString,a.toJSON=U.toJSON,a.copy=U.copy,a.slice=U.slice,a.readUInt8=U.readUInt8,a.readUInt16LE=U.readUInt16LE,a.readUInt16BE=U.readUInt16BE,a.readUInt32LE=U.readUInt32LE,a.readUInt32BE=U.readUInt32BE,a.readInt8=U.readInt8,a.readInt16LE=U.readInt16LE,a.readInt16BE=U.readInt16BE,a.readInt32LE=U.readInt32LE,a.readInt32BE=U.readInt32BE,a.readFloatLE=U.readFloatLE,a.readFloatBE=U.readFloatBE,a.readDoubleLE=U.readDoubleLE,a.readDoubleBE=U.readDoubleBE,a.writeUInt8=U.writeUInt8,a.writeUInt16LE=U.writeUInt16LE,a.writeUInt16BE=U.writeUInt16BE,a.writeUInt32LE=U.writeUInt32LE,a.writeUInt32BE=U.writeUInt32BE,a.writeInt8=U.writeInt8,a.writeInt16LE=U.writeInt16LE,a.writeInt16BE=U.writeInt16BE,a.writeInt32LE=U.writeInt32LE,a.writeInt32BE=U.writeInt32BE,a.writeFloatLE=U.writeFloatLE,a.writeFloatBE=U.writeFloatBE,a.writeDoubleLE=U.writeDoubleLE,a.writeDoubleBE=U.writeDoubleBE,a.fill=U.fill,a.inspect=U.inspect,a.toArrayBuffer=U.toArrayBuffer,a}},{"base64-js":209,ieee754:210}],209:[function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?this.base64js={}:c)},{}],210:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],211:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a;
}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],212:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],213:[function(a,b,c){function d(){}var e=b.exports={};e.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=d,e.addListener=d,e.once=d,e.off=d,e.removeListener=d,e.removeAllListeners=d,e.emit=d,e.binding=function(a){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(a){throw new Error("process.chdir is not supported")}},{}],214:[function(a,b,c){function d(a){return this instanceof d?(h.call(this,a),i.call(this,a),a&&a.readable===!1&&(this.readable=!1),a&&a.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",e)):new d(a)}function e(){if(!this.allowHalfOpen&&!this._writableState.ended){var a=this;g(function(){a.end()})}}b.exports=d;var f=a("inherits"),g=a("process/browser.js").nextTick,h=a("./readable.js"),i=a("./writable.js");f(d,h),d.prototype.write=i.prototype.write,d.prototype.end=i.prototype.end,d.prototype._write=i.prototype._write},{"./readable.js":218,"./writable.js":220,inherits:212,"process/browser.js":216}],215:[function(a,b,c){function d(){e.call(this)}b.exports=d;var e=a("events").EventEmitter,f=a("inherits");f(d,e),d.Readable=a("./readable.js"),d.Writable=a("./writable.js"),d.Duplex=a("./duplex.js"),d.Transform=a("./transform.js"),d.PassThrough=a("./passthrough.js"),d.Stream=d,d.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()}function d(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===e.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",d),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",d),a._isStdio||b&&b.end===!1||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},{"./duplex.js":214,"./passthrough.js":217,"./readable.js":218,"./transform.js":219,"./writable.js":220,events:211,inherits:212}],216:[function(a,b,c){var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.binding=function(a){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(a){throw new Error("process.chdir is not supported")}},{}],217:[function(a,b,c){function d(a){return this instanceof d?void e.call(this,a):new d(a)}b.exports=d;var e=a("./transform.js"),f=a("inherits");f(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},{"./transform.js":219,inherits:212}],218:[function(a,b,c){(function(c){function d(b,c){b=b||{};var d=b.highWaterMark;this.highWaterMark=d||0===d?d:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!b.objectMode,this.defaultEncoding=b.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(x||(x=a("string_decoder").StringDecoder),this.decoder=new x(b.encoding),this.encoding=b.encoding)}function e(a){return this instanceof e?(this._readableState=new d(a,this),this.readable=!0,void z.call(this)):new e(a)}function f(a,b,c,d,e){var f=j(b,c);if(f)a.emit("error",f);else if(null===c||void 0===c)b.reading=!1,b.ended||k(a,b);else if(b.objectMode||c&&c.length>0)if(b.ended&&!e){var h=new Error("stream.push() after EOF");a.emit("error",h)}else if(b.endEmitted&&e){var h=new Error("stream.unshift() after end event");a.emit("error",h)}else!b.decoder||e||d||(c=b.decoder.write(c)),b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):(b.reading=!1,b.buffer.push(c)),b.needReadable&&l(a),n(a,b);else e||(b.reading=!1);return g(b)}function g(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function h(a){if(a>=D)a=D;else{a--;for(var b=1;32>b;b<<=1)a|=a>>b;a++}return a}function i(a,b){return 0===b.length&&b.ended?0:b.objectMode?0===a?0:1:isNaN(a)||null===a?b.flowing&&b.buffer.length?b.buffer[0].length:b.length:0>=a?0:(a>b.highWaterMark&&(b.highWaterMark=h(a)),a>b.length?b.ended?b.length:(b.needReadable=!0,0):a)}function j(a,b){var c=null;return A.isBuffer(b)||"string"==typeof b||null===b||void 0===b||a.objectMode||c||(c=new TypeError("Invalid non-string/buffer chunk")),c}function k(a,b){if(b.decoder&&!b.ended){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,b.length>0?l(a):u(a)}function l(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(b.emittedReadable=!0,b.sync?B(function(){m(a)}):m(a))}function m(a){a.emit("readable")}function n(a,b){b.readingMore||(b.readingMore=!0,B(function(){o(a,b)}))}function o(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function p(a){return function(){var b=a._readableState;b.awaitDrain--,0===b.awaitDrain&&q(a)}}function q(a){function b(a,b,e){var f=a.write(c);!1===f&&d.awaitDrain++}var c,d=a._readableState;for(d.awaitDrain=0;d.pipesCount&&null!==(c=a.read());)if(1===d.pipesCount?b(d.pipes,0,null):v(d.pipes,b),a.emit("data",c),d.awaitDrain>0)return;return 0===d.pipesCount?(d.flowing=!1,void(y.listenerCount(a,"data")>0&&s(a))):void(d.ranOut=!0)}function r(){this._readableState.ranOut&&(this._readableState.ranOut=!1,q(this))}function s(a,b){var c=a._readableState;if(c.flowing)throw new Error("Cannot switch to old mode now.");var d=b||!1,e=!1;a.readable=!0,a.pipe=z.prototype.pipe,a.on=a.addListener=z.prototype.on,a.on("readable",function(){e=!0;for(var b;!d&&null!==(b=a.read());)a.emit("data",b);null===b&&(e=!1,a._readableState.needReadable=!0)}),a.pause=function(){d=!0,this.emit("pause")},a.resume=function(){d=!1,e?B(function(){a.emit("readable")}):this.read(0),this.emit("resume")},a.emit("readable")}function t(a,b){var c,d=b.buffer,e=b.length,f=!!b.decoder,g=!!b.objectMode;if(0===d.length)return null;if(0===e)c=null;else if(g)c=d.shift();else if(!a||a>=e)c=f?d.join(""):A.concat(d,e),d.length=0;else if(a<d[0].length){var h=d[0];c=h.slice(0,a),d[0]=h.slice(a)}else if(a===d[0].length)c=d.shift();else{c=f?"":new A(a);for(var i=0,j=0,k=d.length;k>j&&a>i;j++){var h=d[0],l=Math.min(a-i,h.length);f?c+=h.slice(0,l):h.copy(c,i,0,l),l<h.length?d[0]=h.slice(l):d.shift(),i+=l}}return c}function u(a){var b=a._readableState;if(b.length>0)throw new Error("endReadable called on non-empty stream");!b.endEmitted&&b.calledRead&&(b.ended=!0,B(function(){b.endEmitted||0!==b.length||(b.endEmitted=!0,a.readable=!1,a.emit("end"))}))}function v(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c],c)}function w(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}b.exports=e,e.ReadableState=d;var x,y=a("events").EventEmitter,z=a("./index.js"),A=a("buffer").Buffer,B=a("process/browser.js").nextTick,C=a("inherits");C(e,z),e.prototype.push=function(a,b){var c=this._readableState;return"string"!=typeof a||c.objectMode||(b=b||c.defaultEncoding,b!==c.encoding&&(a=new A(a,b),b="")),f(this,c,a,b,!1)},e.prototype.unshift=function(a){var b=this._readableState;return f(this,b,a,"",!0)},e.prototype.setEncoding=function(b){x||(x=a("string_decoder").StringDecoder),this._readableState.decoder=new x(b),this._readableState.encoding=b};var D=8388608;e.prototype.read=function(a){var b=this._readableState;b.calledRead=!0;var c=a;if(("number"!=typeof a||a>0)&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return l(this),null;if(a=i(a,b),0===a&&b.ended)return 0===b.length&&u(this),null;var d=b.needReadable;b.length-a<=b.highWaterMark&&(d=!0),(b.ended||b.reading)&&(d=!1),d&&(b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1),d&&!b.reading&&(a=i(c,b));var e;return e=a>0?t(a,b):null,null===e&&(b.needReadable=!0,a=0),b.length-=a,0!==b.length||b.ended||(b.needReadable=!0),b.ended&&!b.endEmitted&&0===b.length&&u(this),e},e.prototype._read=function(a){this.emit("error",new Error("not implemented"))},e.prototype.pipe=function(a,b){function d(a){a===k&&f()}function e(){a.end()}function f(){a.removeListener("close",h),a.removeListener("finish",i),a.removeListener("drain",o),a.removeListener("error",g),a.removeListener("unpipe",d),k.removeListener("end",e),k.removeListener("end",f),(!a._writableState||a._writableState.needDrain)&&o()}function g(b){j(),0===s&&0===y.listenerCount(a,"error")&&a.emit("error",b)}function h(){a.removeListener("finish",i),j()}function i(){a.removeListener("close",h),j()}function j(){k.unpipe(a)}var k=this,l=this._readableState;switch(l.pipesCount){case 0:l.pipes=a;break;case 1:l.pipes=[l.pipes,a];break;default:l.pipes.push(a)}l.pipesCount+=1;var m=(!b||b.end!==!1)&&a!==c.stdout&&a!==c.stderr,n=m?e:f;l.endEmitted?B(n):k.once("end",n),a.on("unpipe",d);var o=p(k);a.on("drain",o);var s=y.listenerCount(a,"error");return a.once("error",g),a.once("close",h),a.once("finish",i),a.emit("pipe",k),l.flowing||(this.on("readable",r),l.flowing=!0,B(function(){q(k)})),a},e.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,this.removeListener("readable",r),b.flowing=!1,a&&a.emit("unpipe",this),this);if(!a){var c=b.pipes,d=b.pipesCount;b.pipes=null,b.pipesCount=0,this.removeListener("readable",r),b.flowing=!1;for(var e=0;d>e;e++)c[e].emit("unpipe",this);return this}var e=w(b.pipes,a);return-1===e?this:(b.pipes.splice(e,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this),this)},e.prototype.on=function(a,b){var c=z.prototype.on.call(this,a,b);if("data"!==a||this._readableState.flowing||s(this),"readable"===a&&this.readable){var d=this._readableState;d.readableListening||(d.readableListening=!0,d.emittedReadable=!1,d.needReadable=!0,d.reading?d.length&&l(this,d):this.read(0))}return c},e.prototype.addListener=e.prototype.on,e.prototype.resume=function(){s(this),this.read(0),this.emit("resume")},e.prototype.pause=function(){s(this,!0),this.emit("pause")},e.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(b.decoder&&(e=b.decoder.write(e)),e&&(b.objectMode||e.length)){var f=d.push(e);f||(c=!0,a.pause())}});for(var e in a)"function"==typeof a[e]&&"undefined"==typeof this[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));var f=["error","close","destroy","pause","resume"];return v(f,function(b){a.on(b,function(a){return d.emit.apply(d,b,a)})}),d._read=function(b){c&&(c=!1,a.resume())},d},e._fromList=t}).call(this,a("1YiZ5S"))},{"./index.js":215,"1YiZ5S":213,buffer:208,events:211,inherits:212,"process/browser.js":216,string_decoder:221}],219:[function(a,b,c){function d(a,b){this.afterTransform=function(a,c){return e(b,a,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function e(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("no writecb in Transform class"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e&&e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function f(a){if(!(this instanceof f))return new f(a);h.call(this,a);var b=(this._transformState=new d(a,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(a){g(b,a)}):g(b)})}function g(a,b){if(b)return a.emit("error",b);var c=a._writableState,d=(a._readableState,a._transformState);if(c.length)throw new Error("calling transform done when ws.length != 0");if(d.transforming)throw new Error("calling transform done when still transforming");return a.push(null)}b.exports=f;var h=a("./duplex.js"),i=a("inherits");i(f,h),f.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},f.prototype._transform=function(a,b,c){throw new Error("not implemented")},f.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},f.prototype._read=function(a){var b=this._transformState;b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0}},{"./duplex.js":214,inherits:212}],220:[function(a,b,c){function d(a,b,c){this.chunk=a,this.encoding=b,this.callback=c}function e(a,b){a=a||{};var c=a.highWaterMark;this.highWaterMark=c||0===c?c:16384,this.objectMode=!!a.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var d=a.decodeStrings===!1;this.decodeStrings=!d,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){n(b,a)},this.writecb=null,this.writelen=0,this.buffer=[]}function f(a){return this instanceof f||this instanceof x.Duplex?(this._writableState=new e(a,this),this.writable=!0,void x.call(this)):new f(a)}function g(a,b,c){var d=new Error("write after end");a.emit("error",d),y(function(){c(d)})}function h(a,b,c,d){var e=!0;if(!z.isBuffer(c)&&"string"!=typeof c&&null!==c&&void 0!==c&&!b.objectMode){var f=new TypeError("Invalid non-string/buffer chunk");a.emit("error",f),y(function(){d(f)}),e=!1}return e}function i(a,b,c){return a.objectMode||a.decodeStrings===!1||"string"!=typeof b||(b=new z(b,c)),b}function j(a,b,c,e,f){c=i(b,c,e);var g=b.objectMode?1:c.length;b.length+=g;var h=b.length<b.highWaterMark;return b.needDrain=!h,b.writing?b.buffer.push(new d(c,e,f)):k(a,b,g,c,e,f),h}function k(a,b,c,d,e,f){b.writelen=c,b.writecb=f,b.writing=!0,b.sync=!0,a._write(d,e,b.onwrite),b.sync=!1}function l(a,b,c,d,e){c?y(function(){e(d)}):e(d),a.emit("error",d)}function m(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function n(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(m(c),b)l(a,c,d,b,e);else{var f=r(a,c);f||c.bufferProcessing||!c.buffer.length||q(a,c),d?y(function(){o(a,c,f,e)}):o(a,c,f,e)}}function o(a,b,c,d){c||p(a,b),d(),c&&s(a,b)}function p(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function q(a,b){b.bufferProcessing=!0;for(var c=0;c<b.buffer.length;c++){var d=b.buffer[c],e=d.chunk,f=d.encoding,g=d.callback,h=b.objectMode?1:e.length;if(k(a,b,h,e,f,g),b.writing){c++;break}}b.bufferProcessing=!1,c<b.buffer.length?b.buffer=b.buffer.slice(c):b.buffer.length=0}function r(a,b){return b.ending&&0===b.length&&!b.finished&&!b.writing}function s(a,b){var c=r(a,b);return c&&(b.finished=!0,a.emit("finish")),c}function t(a,b,c){b.ending=!0,s(a,b),c&&(b.finished?y(c):a.once("finish",c)),b.ended=!0}b.exports=f,f.WritableState=e;var u="undefined"!=typeof Uint8Array?function(a){return a instanceof Uint8Array}:function(a){return a&&a.constructor&&"Uint8Array"===a.constructor.name},v="undefined"!=typeof ArrayBuffer?function(a){return a instanceof ArrayBuffer}:function(a){return a&&a.constructor&&"ArrayBuffer"===a.constructor.name},w=a("inherits"),x=a("./index.js"),y=a("process/browser.js").nextTick,z=a("buffer").Buffer;w(f,x),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(a,b,c){var d=this._writableState,e=!1;return"function"==typeof b&&(c=b,b=null),!z.isBuffer(a)&&u(a)&&(a=new z(a)),v(a)&&"undefined"!=typeof Uint8Array&&(a=new z(new Uint8Array(a))),z.isBuffer(a)?b="buffer":b||(b=d.defaultEncoding),"function"!=typeof c&&(c=function(){}),d.ended?g(this,d,c):h(this,d,a,c)&&(e=j(this,d,a,b,c)),e},f.prototype._write=function(a,b,c){c(new Error("not implemented"))},f.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),"undefined"!=typeof a&&null!==a&&this.write(a,b),d.ending||d.finished||t(this,d,c)}},{"./index.js":215,buffer:208,inherits:212,"process/browser.js":216}],221:[function(a,b,c){function d(a){if(a&&!h.isEncoding(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){var b=this.charReceived=a.length%2;return this.charLength=b?2:0,b}function g(a){var b=this.charReceived=a.length%3;return this.charLength=b?3:0,b}var h=a("buffer").Buffer,i=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};i.prototype.write=function(a){for(var b="",c=0;this.charLength;){var d=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,c,d),this.charReceived+=d-c,c=d,this.charReceived<this.charLength)return"";b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var e=b.charCodeAt(b.length-1);if(!(e>=55296&&56319>=e)){if(this.charReceived=this.charLength=0,d==a.length)return b;a=a.slice(d,a.length);break}this.charLength+=this.surrogateSize,b=""}var f=this.detectIncompleteChar(a),g=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-f,g),this.charReceived=f,g-=f),b+=a.toString(this.encoding,0,g);var g=b.length-1,e=b.charCodeAt(g);if(e>=55296&&56319>=e){var h=this.surrogateSize;return this.charLength+=h,this.charReceived+=h,this.charBuffer.copy(this.charBuffer,h,0,h),this.charBuffer.write(b.charAt(b.length-1),this.encoding),b.substring(0,g)}return b},i.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(2>=b&&c>>4==14){this.charLength=3;break}if(3>=b&&c>>3==30){this.charLength=4;break}}return b},i.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:208}],222:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],223:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":222,"1YiZ5S":213,inherits:212}],224:[function(a,b,c){"use strict";function d(a){function b(a){return null===j?void l.push(a):void g(function(){var b=j?a.onFulfilled:a.onRejected;if(null===b)return void(j?a.resolve:a.reject)(k);var c;try{c=b(k)}catch(d){return void a.reject(d)}a.resolve(c)})}function c(a){try{if(a===m)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var b=a.then;if("function"==typeof b)return void f(b.bind(a),c,h)}j=!0,k=a,i()}catch(d){h(d)}}function h(a){j=!1,k=a,i()}function i(){for(var a=0,c=l.length;c>a;a++)b(l[a]);l=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");var j=null,k=null,l=[],m=this;this.then=function(a,c){return new d(function(d,f){b(new e(a,c,d,f))})},f(a,c,h)}function e(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function f(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var g=a("asap");b.exports=d},{asap:226}],225:[function(a,b,c){"use strict";function d(a){this.then=function(b){return"function"!=typeof b?this:new e(function(c,d){f(function(){try{c(b(a))}catch(e){d(e)}})})}}var e=a("./core.js"),f=a("asap");b.exports=e,d.prototype=Object.create(e.prototype);var g=new d(!0),h=new d(!1),i=new d(null),j=new d(void 0),k=new d(0),l=new d("");e.resolve=function(a){if(a instanceof e)return a;if(null===a)return i;if(void 0===a)return j;if(a===!0)return g;if(a===!1)return h;if(0===a)return k;if(""===a)return l;if("object"==typeof a||"function"==typeof a)try{var b=a.then;if("function"==typeof b)return new e(b.bind(a))}catch(c){return new e(function(a,b){b(c)})}return new d(a)},e.from=e.cast=function(a){var b=new Error("Promise.from and Promise.cast are deprecated, use Promise.resolve instead");return b.name="Warning",console.warn(b.stack),e.resolve(a)},e.denodeify=function(a,b){return b=b||1/0,function(){var c=this,d=Array.prototype.slice.call(arguments);return new e(function(e,f){for(;d.length&&d.length>b;)d.pop();d.push(function(a,b){a?f(a):e(b)}),a.apply(c,d)})}},e.nodeify=function(a){return function(){var b=Array.prototype.slice.call(arguments),c="function"==typeof b[b.length-1]?b.pop():null;
try{return a.apply(this,arguments).nodeify(c)}catch(d){if(null===c||"undefined"==typeof c)return new e(function(a,b){b(d)});f(function(){c(d)})}}},e.all=function(){var a=1===arguments.length&&Array.isArray(arguments[0]),b=Array.prototype.slice.call(a?arguments[0]:arguments);if(!a){var c=new Error("Promise.all should be called with a single array, calling it with multiple arguments is deprecated");c.name="Warning",console.warn(c.stack)}return new e(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0===--e&&a(b)}catch(i){c(i)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},e.reject=function(a){return new e(function(b,c){c(a)})},e.race=function(a){return new e(function(b,c){a.forEach(function(a){e.resolve(a).then(b,c)})})},e.prototype.done=function(a,b){var c=arguments.length?this.then.apply(this,arguments):this;c.then(null,function(a){f(function(){throw a})})},e.prototype.nodeify=function(a){return"function"!=typeof a?this:void this.then(function(b){f(function(){a(null,b)})},function(b){f(function(){a(b)})})},e.prototype["catch"]=function(a){return this.then(null,a)}},{"./core.js":224,asap:226}],226:[function(a,b,c){(function(a){function c(){for(;e.next;){e=e.next;var a=e.task;e.task=void 0;var b=e.domain;b&&(e.domain=void 0,b.enter());try{a()}catch(d){if(i)throw b&&b.exit(),setTimeout(c,0),b&&b.enter(),d;setTimeout(function(){throw d},0)}b&&b.exit()}g=!1}function d(b){f=f.next={task:b,domain:i&&a.domain,next:null},g||(g=!0,h())}var e={task:void 0,next:null},f=e,g=!1,h=void 0,i=!1;if("undefined"!=typeof a&&a.nextTick)i=!0,h=function(){a.nextTick(c)};else if("function"==typeof setImmediate)h="undefined"!=typeof window?setImmediate.bind(window,c):function(){setImmediate(c)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel;j.port1.onmessage=c,h=function(){j.port2.postMessage(0)}}else h=function(){setTimeout(c,0)};b.exports=d}).call(this,a("1YiZ5S"))},{"1YiZ5S":213}],227:[function(a,b,c){(function(){"use strict";function c(a){var b=this,c={db:null};if(a)for(var d in a)c[d]=a[d];return new o(function(a,d){var e=p.open(c.name,c.version);e.onerror=function(){d(e.error)},e.onupgradeneeded=function(){e.result.createObjectStore(c.storeName)},e.onsuccess=function(){c.db=e.result,b._dbInfo=c,a()}})}function d(a,b){var c=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new o(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName),g=f.get(a);g.onsuccess=function(){var a=g.result;void 0===a&&(a=null),b(a)},g.onerror=function(){d(g.error)}})["catch"](d)});return m(d,b),d}function e(a,b){var c=this,d=new o(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName),g=f.openCursor();g.onsuccess=function(){var c=g.result;if(c){var d=a(c.value,c.key);void 0!==d?b(d):c["continue"]()}else b()},g.onerror=function(){d(g.error)}})["catch"](d)});return m(d,b),d}function f(a,b,c){var d=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var e=new o(function(c,e){d.ready().then(function(){var f=d._dbInfo,g=f.db.transaction(f.storeName,"readwrite").objectStore(f.storeName);null===b&&(b=void 0);var h=g.put(b,a);h.onsuccess=function(){void 0===b&&(b=null),c(b)},h.onerror=function(){e(h.error)}})["catch"](e)});return m(e,c),e}function g(a,b){var c=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new o(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readwrite").objectStore(e.storeName),g=f["delete"](a);g.onsuccess=function(){b()},g.onerror=function(){d(g.error)},g.onabort=function(a){var b=a.target.error;"QuotaExceededError"===b&&d(b)}})["catch"](d)});return m(d,b),d}function h(a){var b=this,c=new o(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readwrite").objectStore(d.storeName),f=e.clear();f.onsuccess=function(){a()},f.onerror=function(){c(f.error)}})["catch"](c)});return m(c,a),c}function i(a){var b=this,c=new o(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readonly").objectStore(d.storeName),f=e.count();f.onsuccess=function(){a(f.result)},f.onerror=function(){c(f.error)}})["catch"](c)});return l(c,a),c}function j(a,b){var c=this,d=new o(function(b,d){return 0>a?void b(null):void c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName),g=!1,h=f.openCursor();h.onsuccess=function(){var c=h.result;return c?void(0===a?b(c.key):g?b(c.key):(g=!0,c.advance(a))):void b(null)},h.onerror=function(){d(h.error)}})["catch"](d)});return l(d,b),d}function k(a){var b=this,c=new o(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readonly").objectStore(d.storeName),f=e.openCursor(),g=[];f.onsuccess=function(){var b=f.result;return b?(g.push(b.key),void b["continue"]()):void a(g)},f.onerror=function(){c(f.error)}})["catch"](c)});return l(c,a),c}function l(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}function m(a,b){b&&a.then(function(a){n(b,a)},function(a){b(a)})}function n(a,b){return a?setTimeout(function(){return a(null,b)},0):void 0}var o="undefined"!=typeof b&&b.exports?a("promise"):this.Promise,p=p||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(p){var q={_driver:"asyncStorage",_initStorage:c,iterate:e,getItem:d,setItem:f,removeItem:g,clear:h,length:i,key:j,keys:k};"function"==typeof define&&define.amd?define("asyncStorage",function(){return q}):"undefined"!=typeof b&&b.exports?b.exports=q:this.asyncStorage=q}}).call(window)},{promise:225}],228:[function(a,b,c){(function(){"use strict";function c(a){var b=this,c={};if(a)for(var d in a)c[d]=a[d];return c.keyPrefix=c.name+"/",b._dbInfo=c,p.resolve()}function d(a){var b=this,c=new p(function(a,c){b.ready().then(function(){for(var c=b._dbInfo.keyPrefix,d=q.length-1;d>=0;d--){var e=q.key(d);0===e.indexOf(c)&&q.removeItem(e)}a()})["catch"](c)});return o(c,a),c}function e(a,b){var c=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new p(function(b,d){c.ready().then(function(){try{var e=c._dbInfo,f=q.getItem(e.keyPrefix+a);f&&(f=k(f)),b(f)}catch(g){d(g)}})["catch"](d)});return o(d,b),d}function f(a,b){var c=this,d=new p(function(b,d){c.ready().then(function(){try{for(var e=c._dbInfo.keyPrefix,f=e.length,g=q.length,h=0;g>h;h++){var i=q.key(h),j=q.getItem(i);if(j&&(j=k(j)),j=a(j,i.substring(f)),void 0!==j)return void b(j)}b()}catch(l){d(l)}})["catch"](d)});return o(d,b),d}function g(a,b){var c=this,d=new p(function(b,d){c.ready().then(function(){var d,e=c._dbInfo;try{d=q.key(a)}catch(f){d=null}d&&(d=d.substring(e.keyPrefix.length)),b(d)})["catch"](d)});return o(d,b),d}function h(a){var b=this,c=new p(function(a,c){b.ready().then(function(){for(var c=b._dbInfo,d=q.length,e=[],f=0;d>f;f++)0===q.key(f).indexOf(c.keyPrefix)&&e.push(q.key(f).substring(c.keyPrefix.length));a(e)})["catch"](c)});return o(c,a),c}function i(a){var b=this,c=new p(function(a,c){b.keys().then(function(b){a(b.length)})["catch"](c)});return o(c,a),c}function j(a,b){var c=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new p(function(b,d){c.ready().then(function(){var d=c._dbInfo;q.removeItem(d.keyPrefix+a),b()})["catch"](d)});return o(d,b),d}function k(a){if(a.substring(0,t)!==s)return JSON.parse(a);for(var b=a.substring(F),c=a.substring(t,F),d=new ArrayBuffer(2*b.length),e=new Uint16Array(d),f=b.length-1;f>=0;f--)e[f]=b.charCodeAt(f);switch(c){case u:return d;case v:return new Blob([d]);case w:return new Int8Array(d);case x:return new Uint8Array(d);case y:return new Uint8ClampedArray(d);case z:return new Int16Array(d);case B:return new Uint16Array(d);case A:return new Int32Array(d);case C:return new Uint32Array(d);case D:return new Float32Array(d);case E:return new Float64Array(d);default:throw new Error("Unkown type: "+c)}}function l(a){var b="",c=new Uint16Array(a);try{b=String.fromCharCode.apply(null,c)}catch(d){for(var e=0;e<c.length;e++)b+=String.fromCharCode(c[e])}return b}function m(a,b){var c="";if(a&&(c=a.toString()),a&&("[object ArrayBuffer]"===a.toString()||a.buffer&&"[object ArrayBuffer]"===a.buffer.toString())){var d,e=s;a instanceof ArrayBuffer?(d=a,e+=u):(d=a.buffer,"[object Int8Array]"===c?e+=w:"[object Uint8Array]"===c?e+=x:"[object Uint8ClampedArray]"===c?e+=y:"[object Int16Array]"===c?e+=z:"[object Uint16Array]"===c?e+=B:"[object Int32Array]"===c?e+=A:"[object Uint32Array]"===c?e+=C:"[object Float32Array]"===c?e+=D:"[object Float64Array]"===c?e+=E:b(new Error("Failed to get type for BinaryArray"))),b(e+l(d))}else if("[object Blob]"===c){var f=new FileReader;f.onload=function(){var a=l(this.result);b(s+v+a)},f.readAsArrayBuffer(a)}else try{b(JSON.stringify(a))}catch(g){window.console.error("Couldn't convert value into a JSON string: ",a),b(g)}}function n(a,b,c){var d=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var e=new p(function(c,e){d.ready().then(function(){void 0===b&&(b=null);var f=b;m(b,function(b,g){if(g)e(g);else{try{var h=d._dbInfo;q.setItem(h.keyPrefix+a,b)}catch(i){("QuotaExceededError"===i.name||"NS_ERROR_DOM_QUOTA_REACHED"===i.name)&&e(i)}c(f)}})})["catch"](e)});return o(e,c),e}function o(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var p="undefined"!=typeof b&&b.exports?a("promise"):this.Promise,q=null;try{if(!(this.localStorage&&"setItem"in this.localStorage))return;q=this.localStorage}catch(r){return}var s="__lfsc__:",t=s.length,u="arbf",v="blob",w="si08",x="ui08",y="uic8",z="si16",A="si32",B="ur16",C="ui32",D="fl32",E="fl64",F=t+u.length,G={_driver:"localStorageWrapper",_initStorage:c,iterate:f,getItem:e,setItem:n,removeItem:j,clear:d,length:i,key:g,keys:h};"function"==typeof define&&define.amd?define("localStorageWrapper",function(){return G}):"undefined"!=typeof b&&b.exports?b.exports=G:this.localStorageWrapper=G}).call(window)},{promise:225}],229:[function(a,b,c){(function(){"use strict";function c(a){var b=this,c={db:null};if(a)for(var d in a)c[d]="string"!=typeof a[d]?a[d].toString():a[d];return new q(function(d,e){try{c.db=r(c.name,String(c.version),c.description,c.size)}catch(f){return b.setDriver("localStorageWrapper").then(function(){return b._initStorage(a)}).then(d)["catch"](e)}c.db.transaction(function(a){a.executeSql("CREATE TABLE IF NOT EXISTS "+c.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){b._dbInfo=c,d()},function(a,b){e(b)})})})}function d(a,b){var c=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new q(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT * FROM "+e.storeName+" WHERE key = ? LIMIT 1",[a],function(a,c){var d=c.rows.length?c.rows.item(0).value:null;d&&(d=m(d)),b(d)},function(a,b){d(b)})})})["catch"](d)});return o(d,b),d}function e(a,b){var c=this,d=new q(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT * FROM "+e.storeName,[],function(c,d){for(var e=d.rows,f=e.length,g=0;f>g;g++){var h=e.item(g),i=h.value;if(i&&(i=m(i)),i=a(i,h.key),void 0!==i)return void b(i)}b()},function(a,b){d(b)})})})["catch"](d)});return o(d,b),d}function f(a,b,c){var d=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var e=new q(function(c,e){d.ready().then(function(){void 0===b&&(b=null);var f=b;n(b,function(b,g){if(g)e(g);else{var h=d._dbInfo;h.db.transaction(function(d){d.executeSql("INSERT OR REPLACE INTO "+h.storeName+" (key, value) VALUES (?, ?)",[a,b],function(){c(f)},function(a,b){e(b)})},function(a){a.code===a.QUOTA_ERR&&e(a)})}})})["catch"](e)});return o(e,c),e}function g(a,b){var c=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new q(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("DELETE FROM "+e.storeName+" WHERE key = ?",[a],function(){b()},function(a,b){d(b)})})})["catch"](d)});return o(d,b),d}function h(a){var b=this,c=new q(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("DELETE FROM "+d.storeName,[],function(){a()},function(a,b){c(b)})})})["catch"](c)});return o(c,a),c}function i(a){var b=this,c=new q(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("SELECT COUNT(key) as c FROM "+d.storeName,[],function(b,c){var d=c.rows.item(0).c;a(d)},function(a,b){c(b)})})})["catch"](c)});return o(c,a),c}function j(a,b){var c=this,d=new q(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT key FROM "+e.storeName+" WHERE id = ? LIMIT 1",[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})})["catch"](d)});return o(d,b),d}function k(a){var b=this,c=new q(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("SELECT key FROM "+d.storeName,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);a(d)},function(a,b){c(b)})})})["catch"](c)});return o(c,a),c}function l(a){var b,c=new Uint8Array(a),d="";for(b=0;b<c.length;b+=3)d+=p[c[b]>>2],d+=p[(3&c[b])<<4|c[b+1]>>4],d+=p[(15&c[b+1])<<2|c[b+2]>>6],d+=p[63&c[b+2]];return c.length%3===2?d=d.substring(0,d.length-1)+"=":c.length%3===1&&(d=d.substring(0,d.length-2)+"=="),d}function m(a){if(a.substring(0,t)!==s)return JSON.parse(a);var b,c,d,e,f,g=a.substring(F),h=a.substring(t,F),i=.75*g.length,j=g.length,k=0;"="===g[g.length-1]&&(i--,"="===g[g.length-2]&&i--);var l=new ArrayBuffer(i),m=new Uint8Array(l);for(b=0;j>b;b+=4)c=p.indexOf(g[b]),d=p.indexOf(g[b+1]),e=p.indexOf(g[b+2]),f=p.indexOf(g[b+3]),m[k++]=c<<2|d>>4,m[k++]=(15&d)<<4|e>>2,m[k++]=(3&e)<<6|63&f;switch(h){case u:return l;case v:return new Blob([l]);case w:return new Int8Array(l);case x:return new Uint8Array(l);case y:return new Uint8ClampedArray(l);case z:return new Int16Array(l);case B:return new Uint16Array(l);case A:return new Int32Array(l);case C:return new Uint32Array(l);case D:return new Float32Array(l);case E:return new Float64Array(l);default:throw new Error("Unkown type: "+h)}}function n(a,b){var c="";if(a&&(c=a.toString()),a&&("[object ArrayBuffer]"===a.toString()||a.buffer&&"[object ArrayBuffer]"===a.buffer.toString())){var d,e=s;a instanceof ArrayBuffer?(d=a,e+=u):(d=a.buffer,"[object Int8Array]"===c?e+=w:"[object Uint8Array]"===c?e+=x:"[object Uint8ClampedArray]"===c?e+=y:"[object Int16Array]"===c?e+=z:"[object Uint16Array]"===c?e+=B:"[object Int32Array]"===c?e+=A:"[object Uint32Array]"===c?e+=C:"[object Float32Array]"===c?e+=D:"[object Float64Array]"===c?e+=E:b(new Error("Failed to get type for BinaryArray"))),b(e+l(d))}else if("[object Blob]"===c){var f=new FileReader;f.onload=function(){var a=l(this.result);b(s+v+a)},f.readAsArrayBuffer(a)}else try{b(JSON.stringify(a))}catch(g){window.console.error("Couldn't convert value into a JSON string: ",a),b(null,g)}}function o(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q="undefined"!=typeof b&&b.exports?a("promise"):this.Promise,r=this.openDatabase,s="__lfsc__:",t=s.length,u="arbf",v="blob",w="si08",x="ui08",y="uic8",z="si16",A="si32",B="ur16",C="ui32",D="fl32",E="fl64",F=t+u.length;if(r){var G={_driver:"webSQLStorage",_initStorage:c,iterate:e,getItem:d,setItem:f,removeItem:g,clear:h,length:i,key:j,keys:k};"function"==typeof define&&define.amd?define("webSQLStorage",function(){return G}):"undefined"!=typeof b&&b.exports?b.exports=G:this.webSQLStorage=G}}).call(window)},{promise:225}],230:[function(a,b,c){(function(){"use strict";function c(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,c)})}}function d(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&(p(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}function e(a){for(var b in i)if(i.hasOwnProperty(b)&&i[b]===a)return!0;return!1}function f(a){this._config=d({},m,a),this._driverSet=null,this._ready=!1,this._dbInfo=null;for(var b=0;b<k.length;b++)c(this,k[b]);this.setDriver(this._config.driver)}var g="undefined"!=typeof b&&b.exports?a("promise"):this.Promise,h={},i={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},j=[i.INDEXEDDB,i.WEBSQL,i.LOCALSTORAGE],k=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],l={DEFINE:1,EXPORT:2,WINDOW:3},m={description:"",driver:j.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},n=l.WINDOW;"function"==typeof define&&define.amd?n=l.DEFINE:"undefined"!=typeof b&&b.exports&&(n=l.EXPORT);var o=function(a){var b=b||a.indexedDB||a.webkitIndexedDB||a.mozIndexedDB||a.OIndexedDB||a.msIndexedDB,c={};return c[i.WEBSQL]=!!a.openDatabase,c[i.INDEXEDDB]=!!function(){if("undefined"!=typeof a.openDatabase&&a.navigator&&a.navigator.userAgent&&/Safari/.test(a.navigator.userAgent)&&!/Chrome/.test(a.navigator.userAgent))return!1;try{return b&&"function"==typeof b.open&&"undefined"!=typeof a.IDBKeyRange}catch(c){return!1}}(),c[i.LOCALSTORAGE]=!!function(){try{return a.localStorage&&"setItem"in a.localStorage&&a.localStorage.setItem}catch(b){return!1}}(),c}(this),p=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},q=this;f.prototype.INDEXEDDB=i.INDEXEDDB,f.prototype.LOCALSTORAGE=i.LOCALSTORAGE,f.prototype.WEBSQL=i.WEBSQL,f.prototype.config=function(a){if("object"==typeof a){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var b in a)"storeName"===b&&(a[b]=a[b].replace(/\W/g,"_")),this._config[b]=a[b];return"driver"in a&&a.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof a?this._config[a]:this._config},f.prototype.defineDriver=function(a,b,c){var d=new g(function(b,c){try{var d=a._driver,f=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),i=new Error("Custom driver name already in use: "+a._driver);if(!a._driver)return void c(f);if(e(a._driver))return void c(i);for(var j=k.concat("_initStorage"),l=0;l<j.length;l++){var m=j[l];if(!m||!a[m]||"function"!=typeof a[m])return void c(f)}var n=g.resolve(!0);"_support"in a&&(n=a._support&&"function"==typeof a._support?a._support():g.resolve(!!a._support)),n.then(function(c){o[d]=c,h[d]=a,b()},c)}catch(p){c(p)}});return d.then(b,c),d},f.prototype.driver=function(){return this._driver||null},f.prototype.ready=function(a){var b=this,c=new g(function(a,c){b._driverSet.then(function(){null===b._ready&&(b._ready=b._initStorage(b._config)),b._ready.then(a,c)})["catch"](c)});return c.then(a,a),c},f.prototype.setDriver=function(b,c,d){function f(){i._config.driver=i.driver()}var i=this;return"string"==typeof b&&(b=[b]),this._driverSet=new g(function(c,d){var f=i._getFirstSupportedDriver(b),j=new Error("No available storage method found.");if(!f)return i._driverSet=g.reject(j),void d(j);if(i._dbInfo=null,i._ready=null,e(f)){if(n===l.DEFINE)return void a([f],function(a){i._extend(a),c()});if(n===l.EXPORT){var k;switch(f){case i.INDEXEDDB:k=a("./drivers/indexeddb");break;case i.LOCALSTORAGE:k=a("./drivers/localstorage");break;case i.WEBSQL:k=a("./drivers/websql")}i._extend(k)}else i._extend(q[f])}else{if(!h[f])return i._driverSet=g.reject(j),void d(j);i._extend(h[f])}c()}),this._driverSet.then(f,f),this._driverSet.then(c,d),this._driverSet},f.prototype.supports=function(a){return!!o[a]},f.prototype._extend=function(a){d(this,a)},f.prototype._getFirstSupportedDriver=function(a){if(a&&p(a))for(var b=0;b<a.length;b++){var c=a[b];if(this.supports(c))return c}return null},f.prototype.createInstance=function(a){return new f(a)};var r=new f;n===l.DEFINE?define("localforage",function(){return r}):n===l.EXPORT?b.exports=r:this.localforage=r}).call(window)},{"./drivers/indexeddb":227,"./drivers/localstorage":228,"./drivers/websql":229,promise:225}],231:[function(a,b,c){b.exports=a(42)},{}],232:[function(a,b,c){function d(a){if(i(a)&&!h(a)&&!(a instanceof e)){if(a instanceof f)return a;if(l.call(a,"__chain__")&&l.call(a,"__wrapped__"))return j(a)}return new f(a)}var e=a("../internal/LazyWrapper"),f=a("../internal/LodashWrapper"),g=a("../internal/baseLodash"),h=a("../lang/isArray"),i=a("../internal/isObjectLike"),j=a("../internal/wrapperClone"),k=Object.prototype,l=k.hasOwnProperty;d.prototype=g.prototype,b.exports=d},{"../internal/LazyWrapper":236,"../internal/LodashWrapper":237,"../internal/baseLodash":245,"../internal/isObjectLike":265,"../internal/wrapperClone":271,"../lang/isArray":273}],233:[function(a,b,c){b.exports=a("./flowRight")},{"./flowRight":234}],234:[function(a,b,c){var d=a("../internal/createFlow"),e=d(!0);b.exports=e},{"../internal/createFlow":254}],235:[function(a,b,c){function d(a,b){if("function"!=typeof a)throw new TypeError(e);return b=f(void 0===b?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=f(c.length-b,0),g=Array(e);++d<e;)g[d]=c[b+d];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var h=Array(b+1);for(d=-1;++d<b;)h[d]=c[d];return h[b]=g,a.apply(this,h)}}var e="Expected a function",f=Math.max;b.exports=d},{}],236:[function(a,b,c){function d(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}var e=a("./baseCreate"),f=a("./baseLodash"),g=Number.POSITIVE_INFINITY;d.prototype=e(f.prototype),d.prototype.constructor=d,b.exports=d},{"./baseCreate":241,"./baseLodash":245}],237:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{"./baseCreate":241,"./baseLodash":245}],238:[function(a,b,c){b.exports=a(49)},{}],239:[function(a,b,c){b.exports=a(50)},{}],240:[function(a,b,c){b.exports=a(57)},{}],241:[function(a,b,c){var d=a("../lang/isObject"),e=function(){function a(){}return function(b){if(d(b)){a.prototype=b;var c=new a;a.prototype=void 0}return c||{}}}();b.exports=e},{"../lang/isObject":276}],242:[function(a,b,c){b.exports=a(59)},{"./createBaseFor":253}],243:[function(a,b,c){arguments[4][60][0].apply(c,arguments)},{"../object/keysIn":283,"./baseFor":242}],244:[function(a,b,c){b.exports=a(62)},{"./toObject":269}],245:[function(a,b,c){b.exports=a(66)},{}],246:[function(a,b,c){function d(a,b,c,m,n){if(!i(a))return a;var o=h(b)&&(g(b)||k(b)),p=o?void 0:l(b);return e(p||b,function(e,g){if(p&&(g=e,e=b[g]),j(e))m||(m=[]),n||(n=[]),f(a,b,g,d,c,m,n);else{var h=a[g],i=c?c(h,e,g,a,b):void 0,k=void 0===i;k&&(i=e),void 0===i&&(!o||g in a)||!k&&(i===i?i===h:h!==h)||(a[g]=i)}}),a}var e=a("./arrayEach"),f=a("./baseMergeDeep"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("../lang/isObject"),j=a("./isObjectLike"),k=a("../lang/isTypedArray"),l=a("../object/keys");b.exports=d},{"../lang/isArray":273,"../lang/isObject":276,"../lang/isTypedArray":278,"../object/keys":282,"./arrayEach":239,"./baseMergeDeep":247,"./isArrayLike":259,"./isObjectLike":265}],247:[function(a,b,c){function d(a,b,c,d,l,m,n){for(var o=m.length,p=b[c];o--;)if(m[o]==p)return void(a[c]=n[o]);var q=a[c],r=l?l(q,p,c,a,b):void 0,s=void 0===r;s&&(r=p,h(p)&&(g(p)||j(p))?r=g(q)?q:h(q)?e(q):[]:i(p)||f(p)?r=f(q)?k(q):i(q)?q:{}:s=!1),m.push(p),n.push(r),s?a[c]=d(r,p,l,m,n):(r===r?r!==q:q===q)&&(a[c]=r)}var e=a("./arrayCopy"),f=a("../lang/isArguments"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("../lang/isPlainObject"),j=a("../lang/isTypedArray"),k=a("../lang/toPlainObject");b.exports=d},{"../lang/isArguments":272,"../lang/isArray":273,"../lang/isPlainObject":277,"../lang/isTypedArray":278,"../lang/toPlainObject":279,"./arrayCopy":238,"./isArrayLike":259}],248:[function(a,b,c){b.exports=a(71)},{}],249:[function(a,b,c){b.exports=a(74)},{}],250:[function(a,b,c){function d(a){return null==a?"":a+""}b.exports=d},{}],251:[function(a,b,c){b.exports=a(76)},{"../utility/identity":286}],252:[function(a,b,c){function d(a){return g(function(b,c){var d=-1,g=null==b?0:c.length,h=g>2?c[g-2]:void 0,i=g>2?c[2]:void 0,j=g>1?c[g-1]:void 0;for("function"==typeof h?(h=e(h,j,5),g-=2):(h="function"==typeof j?j:void 0,g-=h?1:0),i&&f(c[0],c[1],i)&&(h=3>g?void 0:h,g=1);++d<g;){var k=c[d];k&&a(b,k,h)}return b})}var e=a("./bindCallback"),f=a("./isIterateeCall"),g=a("../function/restParam");b.exports=d},{"../function/restParam":235,"./bindCallback":251,"./isIterateeCall":261}],253:[function(a,b,c){b.exports=a(81)},{"./toObject":269}],254:[function(a,b,c){function d(a){return function(){for(var b,c=arguments.length,d=a?c:-1,p=0,q=Array(c);a?d--:++d<c;){var r=q[p++]=arguments[d];if("function"!=typeof r)throw new TypeError(o);!b&&e.prototype.thru&&"wrapper"==g(r)&&(b=new e([],!0))}for(d=b?-1:c;++d<c;){r=q[d];var s=g(r),t="wrapper"==s?f(r):void 0;b=t&&i(t[0])&&t[1]==(l|j|k|m)&&!t[4].length&&1==t[9]?b[g(t[0])].apply(b,t[3]):1==r.length&&i(r)?b[s]():b.thru(r)}return function(){var a=arguments,d=a[0];if(b&&1==a.length&&h(d)&&d.length>=n)return b.plant(d).value();for(var e=0,f=c?q[e].apply(this,a):d;++e<c;)f=q[e].call(this,f);return f}}}var e=a("./LodashWrapper"),f=a("./getData"),g=a("./getFuncName"),h=a("../lang/isArray"),i=a("./isLaziable"),j=8,k=32,l=128,m=256,n=200,o="Expected a function";b.exports=d},{"../lang/isArray":273,"./LodashWrapper":237,"./getData":255,"./getFuncName":256,"./isLaziable":263}],255:[function(a,b,c){b.exports=a(92)},{"../utility/noop":287,"./metaMap":266}],256:[function(a,b,c){function d(a){for(var b=a.name+"",c=e[b],d=c?c.length:0;d--;){var f=c[d],g=f.func;if(null==g||g==a)return f.name}return b}var e=a("./realNames");b.exports=d},{"./realNames":267}],257:[function(a,b,c){b.exports=a(94)},{"./baseProperty":248}],258:[function(a,b,c){arguments[4][96][0].apply(c,arguments)},{"../lang/isNative":275}],259:[function(a,b,c){arguments[4][100][0].apply(c,arguments)},{"./getLength":257,"./isLength":264}],260:[function(a,b,c){function d(a,b){return a="number"==typeof a||e.test(a)?+a:-1,b=null==b?f:b,a>-1&&a%1==0&&b>a}var e=/^\d+$/,f=9007199254740991;b.exports=d},{}],261:[function(a,b,c){arguments[4][102][0].apply(c,arguments)},{"../lang/isObject":276,"./isArrayLike":259,"./isIndex":260}],262:[function(a,b,c){arguments[4][103][0].apply(c,arguments)},{"../lang/isArray":273,"./toObject":269}],263:[function(a,b,c){function d(a){var b=g(a),c=h[b];if("function"!=typeof c||!(b in e.prototype))return!1;if(a===c)return!0;var d=f(c);return!!d&&a===d[0]}var e=a("./LazyWrapper"),f=a("./getData"),g=a("./getFuncName"),h=a("../chain/lodash");b.exports=d},{"../chain/lodash":232,"./LazyWrapper":236,"./getData":255,"./getFuncName":256}],264:[function(a,b,c){function d(a){return"number"==typeof a&&a>-1&&a%1==0&&e>=a}var e=9007199254740991;b.exports=d},{}],265:[function(a,b,c){b.exports=a(106)},{}],266:[function(a,b,c){arguments[4][109][0].apply(c,arguments)},{"./getNative":258}],267:[function(a,b,c){b.exports=a(110)},{}],268:[function(a,b,c){arguments[4][115][0].apply(c,arguments)},{"../lang/isArguments":272,"../lang/isArray":273,"../object/keysIn":283,"./isIndex":260,"./isLength":264}],269:[function(a,b,c){b.exports=a(116)},{"../lang/isObject":276}],270:[function(a,b,c){arguments[4][117][0].apply(c,arguments)},{"../lang/isArray":273,"./baseToString":250}],271:[function(a,b,c){arguments[4][118][0].apply(c,arguments)},{"./LazyWrapper":236,"./LodashWrapper":237,"./arrayCopy":238}],272:[function(a,b,c){function d(a){return f(a)&&e(a)&&h.call(a,"callee")&&!i.call(a,"callee")}var e=a("../internal/isArrayLike"),f=a("../internal/isObjectLike"),g=Object.prototype,h=g.hasOwnProperty,i=g.propertyIsEnumerable;b.exports=d},{"../internal/isArrayLike":259,"../internal/isObjectLike":265}],273:[function(a,b,c){var d=a("../internal/getNative"),e=a("../internal/isLength"),f=a("../internal/isObjectLike"),g="[object Array]",h=Object.prototype,i=h.toString,j=d(Array,"isArray"),k=j||function(a){return f(a)&&e(a.length)&&i.call(a)==g};b.exports=k},{"../internal/getNative":258,"../internal/isLength":264,"../internal/isObjectLike":265}],274:[function(a,b,c){function d(a){return e(a)&&h.call(a)==f}var e=a("./isObject"),f="[object Function]",g=Object.prototype,h=g.toString;b.exports=d},{"./isObject":276}],275:[function(a,b,c){function d(a){return null==a?!1:e(a)?k.test(i.call(a)):f(a)&&g.test(a)}var e=a("./isFunction"),f=a("../internal/isObjectLike"),g=/^\[object .+?Constructor\]$/,h=Object.prototype,i=Function.prototype.toString,j=h.hasOwnProperty,k=RegExp("^"+i.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{"../internal/isObjectLike":265,"./isFunction":274}],276:[function(a,b,c){b.exports=a(124)},{}],277:[function(a,b,c){function d(a){var b;if(!g(a)||k.call(a)!=h||f(a)||!j.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return e(a,function(a,b){c=b}),void 0===c||j.call(a,c)}var e=a("../internal/baseForIn"),f=a("./isArguments"),g=a("../internal/isObjectLike"),h="[object Object]",i=Object.prototype,j=i.hasOwnProperty,k=i.toString;b.exports=d},{"../internal/baseForIn":243,"../internal/isObjectLike":265,"./isArguments":272}],278:[function(a,b,c){function d(a){return f(a)&&e(a.length)&&!!D[F.call(a)]}var e=a("../internal/isLength"),f=a("../internal/isObjectLike"),g="[object Arguments]",h="[object Array]",i="[object Boolean]",j="[object Date]",k="[object Error]",l="[object Function]",m="[object Map]",n="[object Number]",o="[object Object]",p="[object RegExp]",q="[object Set]",r="[object String]",s="[object WeakMap]",t="[object ArrayBuffer]",u="[object Float32Array]",v="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",y="[object Int32Array]",z="[object Uint8Array]",A="[object Uint8ClampedArray]",B="[object Uint16Array]",C="[object Uint32Array]",D={};D[u]=D[v]=D[w]=D[x]=D[y]=D[z]=D[A]=D[B]=D[C]=!0,D[g]=D[h]=D[t]=D[i]=D[j]=D[k]=D[l]=D[m]=D[n]=D[o]=D[p]=D[q]=D[r]=D[s]=!1;var E=Object.prototype,F=E.toString;b.exports=d},{"../internal/isLength":264,"../internal/isObjectLike":265}],279:[function(a,b,c){arguments[4][127][0].apply(c,arguments)},{"../internal/baseCopy":240,"../object/keysIn":283}],280:[function(a,b,c){function d(a,b,c){var d=null==a?void 0:e(a,f(b),b+"");return void 0===d?c:d}var e=a("../internal/baseGet"),f=a("../internal/toPath");b.exports=d},{"../internal/baseGet":244,"../internal/toPath":270}],281:[function(a,b,c){function d(a,b){if(null==a)return!1;var c=o.call(a,b);if(!c&&!j(b)){if(b=m(b),a=1==b.length?a:e(a,f(b,0,-1)),null==a)return!1;b=l(b),c=o.call(a,b)}return c||k(a.length)&&i(b,a.length)&&(h(a)||g(a))}var e=a("../internal/baseGet"),f=a("../internal/baseSlice"),g=a("../lang/isArguments"),h=a("../lang/isArray"),i=a("../internal/isIndex"),j=a("../internal/isKey"),k=a("../internal/isLength"),l=a("../array/last"),m=a("../internal/toPath"),n=Object.prototype,o=n.hasOwnProperty;b.exports=d},{"../array/last":231,"../internal/baseGet":244,"../internal/baseSlice":249,"../internal/isIndex":260,"../internal/isKey":262,"../internal/isLength":264,"../internal/toPath":270,"../lang/isArguments":272,"../lang/isArray":273}],282:[function(a,b,c){var d=a("../internal/getNative"),e=a("../internal/isArrayLike"),f=a("../lang/isObject"),g=a("../internal/shimKeys"),h=d(Object,"keys"),i=h?function(a){var b=null==a?void 0:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&e(a)?g(a):f(a)?h(a):[]}:g;b.exports=i},{
"../internal/getNative":258,"../internal/isArrayLike":259,"../internal/shimKeys":268,"../lang/isObject":276}],283:[function(a,b,c){arguments[4][131][0].apply(c,arguments)},{"../internal/isIndex":260,"../internal/isLength":264,"../lang/isArguments":272,"../lang/isArray":273,"../lang/isObject":276}],284:[function(a,b,c){var d=a("../internal/baseMerge"),e=a("../internal/createAssigner"),f=e(d);b.exports=f},{"../internal/baseMerge":246,"../internal/createAssigner":252}],285:[function(a,b,c){function d(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||f(b,a)?[d]:h(b);for(var i=-1,j=b.length,k=j-1,l=a;null!=l&&++i<j;){var m=b[i];g(l)&&(i==k?l[m]=c:null==l[m]&&(l[m]=e(b[i+1])?[]:{})),l=l[m]}return a}var e=a("../internal/isIndex"),f=a("../internal/isKey"),g=a("../lang/isObject"),h=a("../internal/toPath");b.exports=d},{"../internal/isIndex":260,"../internal/isKey":262,"../internal/toPath":270,"../lang/isObject":276}],286:[function(a,b,c){b.exports=a(137)},{}],287:[function(a,b,c){b.exports=a(138)},{}],288:[function(a,b,c){b.exports=a("./lib/")},{"./lib/":289}],289:[function(a,b,c){var d=a("./stringify"),e=a("./parse");b.exports={stringify:d,parse:e}},{"./parse":290,"./stringify":291}],290:[function(a,b,c){var d=a("./utils"),e={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1};e.parseValues=function(a,b){for(var c={},e=a.split(b.delimiter,b.parameterLimit===1/0?void 0:b.parameterLimit),f=0,g=e.length;g>f;++f){var h=e[f],i=-1===h.indexOf("]=")?h.indexOf("="):h.indexOf("]=")+1;if(-1===i)c[d.decode(h)]="",b.strictNullHandling&&(c[d.decode(h)]=null);else{var j=d.decode(h.slice(0,i)),k=d.decode(h.slice(i+1));Object.prototype.hasOwnProperty.call(c,j)?c[j]=[].concat(c[j]).concat(k):c[j]=k}}return c},e.parseObject=function(a,b,c){if(!a.length)return b;var d,f=a.shift();if("[]"===f)d=[],d=d.concat(e.parseObject(a,b,c));else{d=Object.create(null);var g="["===f[0]&&"]"===f[f.length-1]?f.slice(1,f.length-1):f,h=parseInt(g,10),i=""+h;!isNaN(h)&&f!==g&&i===g&&h>=0&&c.parseArrays&&h<=c.arrayLimit?(d=[],d[h]=e.parseObject(a,b,c)):d[g]=e.parseObject(a,b,c)}return d},e.parseKeys=function(a,b,c){if(a){c.allowDots&&(a=a.replace(/\.([^\.\[]+)/g,"[$1]"));var d=/^([^\[\]]*)/,f=/(\[[^\[\]]*\])/g,g=d.exec(a),h=[];g[1]&&h.push(g[1]);for(var i=0;null!==(g=f.exec(a))&&i<c.depth;)++i,h.push(g[1]);return g&&h.push("["+a.slice(g.index)+"]"),e.parseObject(h,b,c)}},b.exports=function(a,b){if(""===a||null===a||"undefined"==typeof a)return Object.create(null);b=b||{},b.delimiter="string"==typeof b.delimiter||d.isRegExp(b.delimiter)?b.delimiter:e.delimiter,b.depth="number"==typeof b.depth?b.depth:e.depth,b.arrayLimit="number"==typeof b.arrayLimit?b.arrayLimit:e.arrayLimit,b.parseArrays=b.parseArrays!==!1,b.allowDots=b.allowDots!==!1,b.parameterLimit="number"==typeof b.parameterLimit?b.parameterLimit:e.parameterLimit,b.strictNullHandling="boolean"==typeof b.strictNullHandling?b.strictNullHandling:e.strictNullHandling;for(var c="string"==typeof a?e.parseValues(a,b):a,f=Object.create(null),g=Object.keys(c),h=0,i=g.length;i>h;++h){var j=g[h],k=e.parseKeys(j,c[j],b);f=d.merge(f,k)}return d.compact(f)}},{"./utils":292}],291:[function(a,b,c){var d=a("./utils"),e={delimiter:"&",arrayPrefixGenerators:{brackets:function(a,b){return a+"[]"},indices:function(a,b){return a+"["+b+"]"},repeat:function(a,b){return a}},strictNullHandling:!1};e.stringify=function(a,b,c,f,g){if("function"==typeof g)a=g(b,a);else if(d.isBuffer(a))a=a.toString();else if(a instanceof Date)a=a.toISOString();else if(null===a){if(f)return d.encode(b);a=""}if("string"==typeof a||"number"==typeof a||"boolean"==typeof a)return[d.encode(b)+"="+d.encode(a)];var h=[];if("undefined"==typeof a)return h;for(var i=Array.isArray(g)?g:Object.keys(a),j=0,k=i.length;k>j;++j){var l=i[j];h=Array.isArray(a)?h.concat(e.stringify(a[l],c(b,l),c,f,g)):h.concat(e.stringify(a[l],b+"["+l+"]",c,f,g))}return h},b.exports=function(a,b){b=b||{};var c,d,f="undefined"==typeof b.delimiter?e.delimiter:b.delimiter,g="boolean"==typeof b.strictNullHandling?b.strictNullHandling:e.strictNullHandling;"function"==typeof b.filter?(d=b.filter,a=d("",a)):Array.isArray(b.filter)&&(c=d=b.filter);var h=[];if("object"!=typeof a||null===a)return"";var i;i=b.arrayFormat in e.arrayPrefixGenerators?b.arrayFormat:"indices"in b?b.indices?"indices":"repeat":"indices";var j=e.arrayPrefixGenerators[i];c||(c=Object.keys(a));for(var k=0,l=c.length;l>k;++k){var m=c[k];h=h.concat(e.stringify(a[m],m,j,g,d))}return h.join(f)}},{"./utils":292}],292:[function(a,b,c){var d={};d.hexTable=new Array(256);for(var e=0;256>e;++e)d.hexTable[e]="%"+((16>e?"0":"")+e.toString(16)).toUpperCase();c.arrayToObject=function(a){for(var b=Object.create(null),c=0,d=a.length;d>c;++c)"undefined"!=typeof a[c]&&(b[c]=a[c]);return b},c.merge=function(a,b){if(!b)return a;if("object"!=typeof b)return Array.isArray(a)?a.push(b):"object"==typeof a?a[b]=!0:a=[a,b],a;if("object"!=typeof a)return a=[a].concat(b);Array.isArray(a)&&!Array.isArray(b)&&(a=c.arrayToObject(a));for(var d=Object.keys(b),e=0,f=d.length;f>e;++e){var g=d[e],h=b[g];a[g]?a[g]=c.merge(a[g],h):a[g]=h}return a},c.decode=function(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}},c.encode=function(a){if(0===a.length)return a;"string"!=typeof a&&(a=""+a);for(var b="",c=0,e=a.length;e>c;++c){var f=a.charCodeAt(c);45===f||46===f||95===f||126===f||f>=48&&57>=f||f>=65&&90>=f||f>=97&&122>=f?b+=a[c]:128>f?b+=d.hexTable[f]:2048>f?b+=d.hexTable[192|f>>6]+d.hexTable[128|63&f]:55296>f||f>=57344?b+=d.hexTable[224|f>>12]+d.hexTable[128|f>>6&63]+d.hexTable[128|63&f]:(++c,f=65536+((1023&f)<<10|1023&a.charCodeAt(c)),b+=d.hexTable[240|f>>18]+d.hexTable[128|f>>12&63]+d.hexTable[128|f>>6&63]+d.hexTable[128|63&f])}return b},c.compact=function(a,b){if("object"!=typeof a||null===a)return a;b=b||[];var d=b.indexOf(a);if(-1!==d)return b[d];if(b.push(a),Array.isArray(a)){for(var e=[],f=0,g=a.length;g>f;++f)"undefined"!=typeof a[f]&&e.push(a[f]);return e}var h=Object.keys(a);for(f=0,g=h.length;g>f;++f){var i=h[f];a[i]=c.compact(a[i],b)}return a},c.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},c.isBuffer=function(a){return null===a||"undefined"==typeof a?!1:!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))}},{}],293:[function(a,b,c){var d;d=a("./supersonic/core"),b.exports=d,null!=("undefined"!=typeof window&&null!==window?window.angular:void 0)&&a("./supersonic/angular")(window.angular)},{"./supersonic/angular":294,"./supersonic/core":300}],294:[function(a,b,c){var d,e,f,g,h,i;f=a("./core"),e=a("./angular/superscope"),d=a("./angular/bind"),i=a("./angular/helpers"),h=a("./angular/device"),g=a("./angular/app"),b.exports=function(a){return e(a),d(a),i(a),g(a),h(a),a.module("supersonic",["supersonic.helpers","supersonic.superscope","supersonic.bind","supersonic.device","supersonic.app"]).service("supersonic",function(a,b,c,d){return{bind:c,logger:d(f.logger),debug:d(f.debug),app:b,media:d(f.media),device:a,ui:f.ui,data:f.data,env:f.env}})}},{"./angular/app":295,"./angular/bind":296,"./angular/device":297,"./angular/helpers":298,"./angular/superscope":299,"./core":300}],295:[function(a,b,c){var d;d=a("../core"),b.exports=function(a){return a.module("supersonic.app",[]).service("supersonicApp",function(a,b,c,e){var f,g;return f=function(a,b){var c,d,e,f;d={};for(c in a)e=a[c],d[c]=e;f=b(d);for(c in f)e=f[c],d[c]=e;return d},g=function(a){return function(b){return a(function(){return e(b)})}},function(c){return{sleep:b(c.sleep),getLaunchURL:c.getLaunchURL,splashscreen:b(c.splashscreen),openURL:a(c.openURL),statusBar:b(c.statusBar),whenPaused:g(c.whenPaused),whenResumed:g(c.whenResumed)}}(d.app)})}},{"../core":300}],296:[function(a,b,c){var d,e;e=a("deep-equal"),d=function(a){return function(b,c){return b.$watch(c,function(b,d){var f;if(!e(b,d))return f=function(){return a[c]=b},"$apply"===a.$root.$$phase||"$digest"===a.$root.$$phase?f():a.$apply(f)}),a.$watch(c,function(a,d){var e;return e=function(){return b[c]=a},"$apply"===b.$root.$$phase||"$digest"===b.$root.$$phase?e():b.$apply(e)})}},b.exports=function(a){return a.module("supersonic.bind",["supersonic.superscope"]).service("supersonicBind",d)}},{"deep-equal":204}],297:[function(a,b,c){var d;d=a("../core"),b.exports=function(a){return a.module("supersonic.device",[]).service("supersonicDevice",function(a,b,c){var e,f;return e=function(a,b){var c,d,e,f;d={};for(c in a)e=a[c],d[c]=e;f=b(d);for(c in f)e=f[c],d[c]=e;return d},f=function(a){return function(b){return a(function(){return c(b)})}},function(c){return{accelerometer:e(c.accelerometer,function(b){return{getAcceleration:a(b.getAcceleration)}}),compass:e(c.compass,function(b){return{getHeading:a(b.getHeading)}}),geolocation:e(c.geolocation,function(b){return{getPosition:a(b.getPosition)}}),platform:a(c.platform),vibrate:a(c.vibrate),ready:b.when(c.ready),network:e(c.network,function(a){return{whenOffline:f(a.whenOffline),whenOnline:f(a.whenOnline)}}),buttons:{back:e(c.buttons.back,function(a){return{whenPressed:f(a.whenPressed)}})},push:e(c.push,function(b){return{register:a(b.register),unregister:a(b.unregister)}})}}(d.device)})}},{"../core":300}],298:[function(a,b,c){var d=[].slice;b.exports=function(a){return a.module("supersonic.helpers",[]).service("qify",function(a){var b;return b=function(b){return function(){var c;return c=1<=arguments.length?d.call(arguments,0):[],a.when(b.apply(null,c))}}}).service("qifyAll",function(a){var b;return b=function(c){var d,e,f;e={};for(d in c)f=c[d],e[d]=function(){switch(!0){case f instanceof Function:return a(f);case f instanceof Object:return b(f);default:return f}}();return e}})}},{}],299:[function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o={}.hasOwnProperty;d=a("baconjs"),g=a("deep-equal"),e=a("bluebird"),f=null,n=null,j=null,k=function(a,b){return 0!==a.indexOf("$")&&"this"!==a&&"function"!=typeof b},l=function(a){return{$get:a.$get}},h=function(){return f||(f=supersonic.data.channel("$superscope")),f.subscribe(function(a){var b;return b=function(){var b,c;for(b in a)c=a[b],n[b]=c;return j=a},"$apply"===n.$root.$$phase||"$digest"===n.$root.$$phase?b():n.$apply(b)}),f},i=function(a){var b,c,d,e;return f||(f=h()),n=a,e={},d={},b=0,n.$watch(function(){var a,c;for(a in n)o.call(n,a)&&(c=n[a],k(a,c)&&(d[a]=c));return g(e,d)?b:b++},function(){return g(d,e)?void 0:(g(j,d)||(angular.copy(d,j),f.publish(d)),angular.copy(d,e))}),c=function(){var a;return a=function(){var a,b,c;c=[];for(a in n)o.call(n,a)&&(b=n[a],k(a,b)&&c.push(delete n[a]));return c},"$apply"===n.$root.$$phase||"$digest"===n.$root.$$phase?a():n.$apply(a)},Object.defineProperty(n,"clear",{enumerable:!1,get:function(){return c}}),n},m=function(a){return n||i(a)},b.exports=function(a){return a.module("supersonic.superscope",[]).provider("superRootScope",l).service("superscope",m)}},{baconjs:202,bluebird:203,"deep-equal":204}],300:[function(a,b,c){var d,e,f,g,h,i,j,k,l,m;g="undefined"!=typeof window&&null!==window?window:new(d=a("./mock/window")),j=null!=("undefined"!=typeof window&&null!==window?window.parent:void 0)?window.parent:g,i=null!=(null!=(l=g.parent)?l.steroids:void 0)?null!=(m=g.parent)?m.steroids:void 0:a("./mock/steroids"),h=a("./core/logger")(i,g),e=a("./core/data")(h,g),f=a("./core/env")(h,j),k=a("./core/ui")(i,h,g),b.exports={logger:h,data:e,env:f,ui:k,debug:a("./core/debug")(i,h),app:a("./core/app")(i,h),media:a("./core/media")(i,h),module:a("./core/module")(i,h,j,k,f,g),device:a("./core/device")(i,h),data:a("./core/data")(h,j,f),auth:a("./core/auth")(h,g,e,f),internal:{Promise:a("bluebird"),Bacon:a("baconjs")}},"undefined"!=typeof window&&null!==window&&(window.supersonic=b.exports,window.supersonic.logger.autoFlush())},{"./core/app":302,"./core/auth":307,"./core/data":310,"./core/debug":317,"./core/device":324,"./core/env":330,"./core/logger":332,"./core/media":334,"./core/module":340,"./core/ui":354,"./mock/steroids":365,"./mock/window":366,baconjs:202,bluebird:203}],301:[function(a,b,c){var d;d=a("bluebird"),b.exports=function(a){var b,c;return c=function(a){var b,c,d,e,f,g,h;for(d=a.substring(a.indexOf("?")+1),e={},h=d.split("&"),f=0,g=h.length;g>f;f++)c=h[f],b=c.split("="),e[b[0]]=decodeURIComponent(b[1]);return e},b=function(){var b;return b=a.app.getLaunchURL(),null!=b?{launchURL:b,params:c(b)}:null}}},{bluebird:203}],302:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../events"),b.exports=function(b,c){return{sleep:a("./sleep")(b,c),getLaunchURL:a("./getLaunchURL")(b,c),splashscreen:a("./splashscreen")(b,c),openURL:a("./openURL")(b,c),statusBar:a("./statusBar")(b,c),whenResumed:function(a){return e.background.filter(function(a){return!a}).onValue(a)},whenPaused:function(a){return e.background.filter(function(a){return a}).onValue(a)}}}},{"../events":331,"./getLaunchURL":301,"./openURL":303,"./sleep":304,"./splashscreen":305,"./statusBar":306,bluebird:203}],303:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(a,b){var c,f;return f=e("supersonic.app",b),c=f.promiseF("openURL",function(b){return null==b?d.reject("URL is undefined"):new d(function(c,d){return a.openURL({url:b},{onSuccess:c,onFailure:d})})})}},{"../superify":345,bluebird:203}],304:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(a,b){var c;return c=e("supersonic.app.sleep",b),{disable:c.promiseF("disable",function(){return new d(function(b){return a.device.disableSleep({},{onSuccess:function(){return b()}})})}),enable:c.promiseF("enable",function(){return new d(function(b){return a.device.enableSleep({},{onSuccess:function(){return b()}})})})}}},{"../superify":345,bluebird:203}],305:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(a,b){var c;return c=e("supersonic.app.splashscreen",b),{show:c.promiseF("show",function(){return new d(function(b,c){return a.splashscreen.show({},{onSuccess:function(){return b()},onFailure:function(){return c()}})})}),hide:c.promiseF("hide",function(){return new d(function(b,c){return a.splashscreen.hide({},{onSuccess:function(){return b()},onFailure:function(){return c()}})})})}}},{"../superify":345,bluebird:203}],306:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(a,b){var c;return c=e("supersonic.app.statusBar",b),{hide:c.promiseF("hide",function(){return new d(function(b,c){return a.statusBar.hide({},{onSuccess:function(){return b()},onFailure:function(){return c()}})})}),show:c.promiseF("show",function(b){var c;return c="string"==typeof b?b:null!=(null!=b?b.style:void 0)?b.style:void 0,new d(function(b,d){return a.statusBar.show({style:c},{onSuccess:function(){return b()},onFailure:function(){return d()}})})})}}},{"../superify":345,bluebird:203}],307:[function(a,b,c){b.exports=function(b,c,d,e){var f;return f=a("./users")(b,c,d.session,e),{session:d.session,users:f}}},{"./users":308}],308:[function(a,b,c){var d,e;e=a("ag-data"),d=a("bluebird"),b.exports=function(a,b,c,f){var g,h,i,j;return i={options:{baseUrl:(null!=f&&null!=(j=f.auth)?j.endpoint:void 0)||"",headers:{Authorization:c.getAccessToken()||""}},resources:{users:{schema:{identifier:"id",fields:{id:{type:"string",identity:!0},username:{type:"string"},metadata:{type:"object"},groups:{type:"array"},collection_permissions:{type:"array"},deleted:{type:"boolean"},password:{type:"string"}}}}}},g=e.loadResourceBundle(i),h=g.createModel("users"),h.getCurrentUser=function(){var a;return(a=c.getUserId())?h.find(a):d.reject(new Error("Cannot access current user without a valid session"))},h}},{"ag-data":3,bluebird:203}],309:[function(a,b,c){var d,e,f=function(a,b){return function(){return a.apply(b,arguments)}};d=a("baconjs"),e=a("deep-equal"),b.exports=function(a){var b,c,g,h,i;return g=function(){var a,b;return a=(new Date).getTime(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c;return c=(a+16*Math.random())%16|0,a=Math.floor(a/16),("x"===b?c:7&c|8).toString(16)})},i=function(b,c){var e;return e=new d.Bus,e.map(function(a){return{channel:b,sender:c,message:a}}).onValue(function(b){return a.postMessage(b,"*")}),e},h=function(b,c){return d.fromEventTarget(a,"message").filter(function(a){return a.data.channel===b&&!e(a.data.sender,c)}).map(function(a){return a.data.message})},b=function(){function a(a){this.name=a,this.subscribe=f(this.subscribe,this),this.publish=f(this.publish,this),this.identity=g(),this.outbound=i(this.name,this.identity),this.inbound=h(this.name,this.identity)}return a.prototype.publish=function(a){return this.outbound.push(a),this},a.prototype.subscribe=function(a){return this.inbound.onValue(function(b){return function(c){return a(c,b.publish)}}(this))},a}(),c=function(a){return new b(a)}}},{baconjs:202,"deep-equal":204}],310:[function(a,b,c){var d;d=a("bluebird"),b.exports=function(b,c,d){var e,f,g,h,i,j,k,l;return f=a("./channel")(c),i=a("./storage/property")(b,c,f),e=a("./storage/adapters")(c),l=a("./storage/adapters/sync-local-storage")(c),j=a("./session")(l),g=e.localStorage,h=a("./model")(b,c,g,j,d),k={adapters:e,property:i},{channel:f,model:h,storage:k,session:j}}},{"./channel":309,"./model":311,"./session":312,"./storage/adapters":313,"./storage/adapters/sync-local-storage":315,"./storage/property":316,bluebird:203}],311:[function(a,b,c){var d,e;e=a("ag-data"),d=a("baconjs"),b.exports=function(a,b,c,d,f){var g,h;return h=function(a){var b,e;return(null!=(b=a.cache)?b.enabled:void 0)!==!1&&(null==a.cache&&(a.cache={}),a.cache.enabled=!0),a.cache.enabled&&null==a.cache.storage&&(a.cache.storage=c()),null==(null!=(e=a.headers)?e.Authorization:void 0)&&(null==a.headers&&(a.headers={}),a.headers.Authorization=d.getAccessToken()),a},g=function(){var c,d,g;if(d=function(){var a,c;switch(!1){case null==(null!=f&&null!=(a=f.data)?a.bundle:void 0):return f.data.bundle;case null==(null!=b&&null!=(c=b.ag)?c.data:void 0):return b.ag.data}}(),null==d)return function(b){throw a.error("Tried to access a cloud resource, but no resources have been configured"),new Error("No cloud resources available")};try{return c=e.loadResourceBundle(d),function(b,d){var e;null==d&&(d={}),d=h(d);try{return c.createModel(b,d)}catch(f){throw e=f,a.error("Tried to access cloud resource '"+b+"', but it is not a configured resource"),new Error("Could not load model "+b+": "+e)}}}catch(i){return g=i,a.error("Tried to access a cloud resource, but the configured cloud resource bundle could not be loaded"),function(){throw new Error("Could not load configured cloud resource bundle: "+g)}}}()}},{"ag-data":3,baconjs:202}],312:[function(a,b,c){var d,e,f,g=function(a,b){return function(){return a.apply(b,arguments)}},h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};b.exports=function(a){var b;return new(b=function(){function b(){this.getUserId=g(this.getUserId,this),this.getAccessToken=g(this.getAccessToken,this),this.clear=g(this.clear,this),this.get=g(this.get,this),this.set=g(this.set,this)}return b.prototype.RAW_SESSION_KEY="__ag:data:session",b.prototype.storage=a,b.prototype.set=function(a){return f(a),this.storage.setItem(this.RAW_SESSION_KEY,a)},b.prototype.get=function(){return this.storage.getItem(this.RAW_SESSION_KEY)},b.prototype.clear=function(){return this.storage.removeItem(this.RAW_SESSION_KEY)},b.prototype.getAccessToken=function(){var a;return null!=(a=this.get())?a.access_token:void 0},b.prototype.getUserId=function(){var a,b;return null!=(a=this.get())&&null!=(b=a.user_details)?b.id:void 0},b}())},f=function(a){if(!e(a))throw new d("Invalid data for session",a)},e=function(a){var b;return null!=a.access_token&&null!=(null!=(b=a.user_details)?b.id:void 0)},d=function(a){function b(a,b){this.message=a,this.errors=b,Error.call(this),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}return i(b,a),b.prototype.toString=function(){return""+this.name+"("+this.message+", "+JSON.stringify(this.errors)+")"},b}(Error)},{}],313:[function(a,b,c){var d,e,f;d=a("bluebird"),e=a("ag-data"),f=function(){switch(!1){case!("undefined"==typeof window||null===window):return{getItem:function(){return d.resolve()}};default:return a("localforage")}}(),b.exports=function(b){var c;return c=a("./adapters/async-local-storage")(b),{localforage:function(){return f},localStorage:function(){return c},memory:e.storages.memory}}},{"./adapters/async-local-storage":314,"ag-data":3,bluebird:203,localforage:230}],314:[function(a,b,c){var d;d=a("bluebird"),b.exports=function(b){var c;return c=a("./sync-local-storage")(b),{getItem:function(a){return d.resolve(c.getItem(a))},setItem:function(a,b){return d.resolve(c.setItem(a,b))},removeItem:function(a){return d.resolve(c.removeItem(a))}}}},{"./sync-local-storage":315,bluebird:203}],315:[function(a,b,c){b.exports=function(a){return{getItem:function(b){var c,d;if(d=a.localStorage.getItem(b),null==d)return null;try{return JSON.parse(d)}catch(e){return c=e,null}},setItem:function(b,c){return a.localStorage.setItem(b,JSON.stringify(c))},removeItem:function(b){return a.localStorage.removeItem(b)}}}},{}],316:[function(a,b,c){var d,e=function(a,b){return function(){return a.apply(b,arguments)}};d=a("baconjs"),b.exports=function(a,b,c){var d,f;return d=function(){function a(a){this.name=a,this.unset=e(this.unset,this),this.get=e(this.get,this),this.set=e(this.set,this),this._channel=c("supersonic.data.storage.property("+this.name+")"),this.values=this._channel.outbound.merge(this._channel.inbound).toProperty(!0).map(function(a){return function(){return a.get()}}(this))}return a.prototype.values=null,a.prototype._channel=null,a.prototype.set=function(a){return b.localStorage.setItem(this.name,JSON.stringify(a)),this._channel.publish(!0),this},a.prototype.get=function(){var a;return a=b.localStorage.getItem(this.name),null!=a?JSON.parse(a):null},a.prototype.unset=function(){return b.localStorage.removeItem(this.name),this._channel.publish(!0),this},a}(),f=function(a){return new d(a)}}},{baconjs:202}],317:[function(a,b,c){b.exports=function(b,c){return{ping:a("./ping")(b,c)}}},{"./ping":318}],318:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(a,b){var c,f;return f=e("supersonic.debug",b),c=f.promiseF("ping",function(){return new d(function(b,c){return a.device.ping({},{onSuccess:function(){return b("Pong!")},onFailure:function(){return c(new Error("Did not pong :("))}})})})}},{"../superify":345,bluebird:203}],319:[function(a,b,c){var d,e,f,g;e=a("bluebird"),d=a("baconjs"),f=a("../events").deviceready,g=a("../superify"),b.exports=function(a,b){var c,h,i;return h=g("supersonic.device.accelerometer",b),i=h.streamF("watchAcceleration",function(a){var b;return null==a&&(a={}),b={frequency:null!=(null!=a?a.frequency:void 0)||40},d.fromPromise(f).flatMap(function(){return d.fromBinder(function(b){var c;return c=window.navigator.accelerometer.watchAcceleration(function(a){var c;return c=a.timestamp,a.timestamp=new Date(c),b(new d.Next(a))},function(a){return b(new d.Error(a))},a),function(){return window.navigator.accelerometer.clearWatch(c)}})})}),c=h.promiseF("getAcceleration",function(){return new e(function(a){return i().take(1).onValue(a)})}),{watchAcceleration:i,getAcceleration:c}}},{"../events":331,"../superify":345,baconjs:202,bluebird:203}],320:[function(a,b,c){b.exports=function(a,b){var c,d,e,f,g,h,i;return c=b.debuggable("supersonic.device.buttons.back"),e=!1,d=[],h=function(){var a,b,c,e;for(e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.fn());return e},g=function(a){return d.push({id:(new Date).getTime(),fn:a})},i=function(a){var b;return 0===d.length&&(document.removeEventListener("backbutton",h,!1),e=!1),d=function(){var c,e,f;for(f=[],c=0,e=d.length;e>c;c++)b=d[c],b.id===a&&f.push(b);return f}()},f=function(a){var b;return b=g(a).id,e||(document.addEventListener("backbutton",h,!1),e=!0),function(){return i(b)}},{whenPressed:f}}},{}],321:[function(a,b,c){b.exports=function(b,c){return{back:a("./back")(b,c)}}},{"./back":320}],322:[function(a,b,c){var d,e,f,g;e=a("bluebird"),d=a("baconjs"),f=a("../events").deviceready,g=a("../superify"),b.exports=function(a,b){var c,h,i;return h=g("supersonic.device.compass",b),i=h.streamF("watchHeading",function(a){var b;return null==a&&(a={}),b={frequency:null!=(null!=a?a.frequency:void 0)||100,filter:null!=(null!=a?a.filter:void 0)||null},d.fromPromise(f).flatMap(function(){return d.fromBinder(function(a){var c;return c=window.navigator.compass.watchHeading(function(b){var c;return c=b.timestamp,b.timestamp=new Date(c),a(new d.Next(b))},function(b){return a(new d.Error(b))},b),function(){return window.navigator.compass.clearWatch(c)}})})}),c=h.promiseF("getHeading",function(){return new e(function(a){return i().take(1).onValue(a)})}),{watchHeading:i,getHeading:c}}},{"../events":331,"../superify":345,baconjs:202,bluebird:203}],323:[function(a,b,c){var d,e,f,g;e=a("bluebird"),d=a("baconjs"),f=a("../events").deviceready,g=a("../superify"),b.exports=function(a,b){var c,h,i;return h=g("supersonic.device.geolocation",b),i=h.streamF("watchPosition",function(a){return null==a&&(a={}),null==a.enableHighAccuracy&&(a.enableHighAccuracy=!0),d.fromPromise(f).flatMap(function(){return d.fromBinder(function(b){var c;return c=window.navigator.geolocation.watchPosition(function(a){return b(new d.Next(a))},function(a){return b(new d.Error(a))},a),function(){return window.navigator.geolocation.clearWatch(c)}})})}),c=h.promiseF("getPosition",function(a){return null==a&&(a={}),new e(function(b){return i(a).take(1).onValue(b)})}),{watchPosition:i,getPosition:c}}},{"../events":331,"../superify":345,baconjs:202,bluebird:203}],324:[function(a,b,c){var d;d=a("bluebird"),b.exports=function(b,c){return{geolocation:a("./geolocation")(b,c),accelerometer:a("./accelerometer")(b,c),compass:a("./compass")(b,c),network:a("./network")(b,c),platform:a("./platform")(b,c),vibrate:a("./vibrate")(b,c),ready:a("./ready")(b,c),buttons:a("./buttons")(b,c),push:a("./push")(b,c)}}},{"./accelerometer":319,"./buttons":321,"./compass":322,"./geolocation":323,"./network":325,"./platform":326,"./push":327,"./ready":328,"./vibrate":329,bluebird:203}],325:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../events").network,b.exports=function(a,b){var c;return c=b.debuggable("supersonic.device.network"),{whenOffline:function(a){return e.filter(function(a){return!a}).onValue(a)},whenOnline:function(a){return e.filter(function(a){return a}).onValue(a)}}}},{"../events":331,bluebird:203}],326:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../events").deviceready,b.exports=function(a,b){var c,d;return c=b.debuggable("supersonic.device.platform"),d=function(){return e.then(function(){return{name:window.device.platform,version:window.device.version,model:window.device.model}})}}},{"../events":331,bluebird:203}],327:[function(a,b,c){var d,e,f,g;e=a("bluebird"),d=a("baconjs"),f=a("../events").deviceready,g=a("../superify"),b.exports=function(a,b){var c,h,i,j,k,l;return k=g("supersonic.device.push",b),i=function(){return f.then(function(){var a;return null!=(a=window.plugins)?a.pushNotification:void 0}).then(function(a){if(null==a)throw new Error("Could not load pushNotification plugin. Is the plugin installed?");return a})},j=k.promiseF("register",function(a){return null==a&&(a={}),i().then(function(c){return new e(function(b,d){return c.register(b,d,a)}).tap(function(a){return b.info("Registered device to receive push notifications with device token / registration id: '"+a+"'")})})}),l=k.promiseF("unregister",function(){return i().then(function(a){return new e(function(b,c){return a.unregister(b,c)})})}),c=k.streamF("backgroundNotifications",function(){return d.fromPromise(i()).flatMap(function(a){return d.fromBinder(function(b){return a.onMessageInBackground(function(a){return b(new d.Next(a))},function(a){return b(new d.Error(a))}),function(){}})})}),h=k.streamF("foregroundNotifications",function(){return d.fromPromise(i()).flatMap(function(a){return d.fromBinder(function(b){return a.onMessageInForeground(function(a){return b(new d.Next(a))},function(a){return b(new d.Error(a))}),function(){}})})}),{register:j,unregister:l,backgroundNotifications:c,foregroundNotifications:h}}},{"../events":331,"../superify":345,baconjs:202,bluebird:203}],328:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../events").deviceready,b.exports=function(a,b){var c;return c=b.debuggable("supersonic.device.ready"),e}},{"../events":331,bluebird:203}],329:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../events").deviceready,b.exports=function(a,b){var c,d;return c=b.debuggable("supersonic.device.platform"),d=function(a){return null==a&&(a=1e3),e.then(function(){return navigator.notification.vibrate(a)})}}},{"../events":331,bluebird:203}],330:[function(a,b,c){b.exports=function(a,b){var c;return(null!=(c=b.appgyver)?c.environment:void 0)||{mode:"legacy"}}},{}],331:[function(a,b,c){var d,e;e=a("bluebird"),d=a("baconjs"),b.exports={deviceready:"undefined"!=typeof document&&null!==document?new e(function(a){return document.addEventListener("deviceready",a)}):e.resolve(),background:function(){var a,b;return a="undefined"!=typeof document&&null!==document?d.fromEventTarget(document,"pause").map(function(){return!0}):d.once(!0),b="undefined"!=typeof document&&null!==document?d.fromEventTarget(document,"resume").map(function(){return!1}):d.once(!0),a.merge(b).toProperty().skipDuplicates()}(),network:function(){var a,b;return a="undefined"!=typeof document&&null!==document?d.fromEventTarget(document,"offline").map(function(){return!1}):d.once(!0),b="undefined"!=typeof document&&null!==document?d.fromEventTarget(document,"online").map(function(){return!0}):d.once(!0),a.merge(b).toProperty().skipDuplicates()}(),visibility:function(){var a;return a="undefined"!=typeof document&&null!==document?{changes:d.fromEventTarget(document,"visibilitychange"),defaultState:document.visibilityState}:{changes:d.once({target:{visibilitystate:"visible"}}),defaultState:"hidden"},a.changes.map(function(a){var b,c;return null!=(null!=(b=a.detail)?b.visibilityState:void 0)?a.detail.visibilityState:null!=(c=a.target)?c.visibilityState:void 0}).toProperty(a.defaultState).map(function(a){switch(a){case"visible":return!0;case"hidden":return!1;default:return!1}})}()}},{baconjs:202,bluebird:203}],332:[function(a,b,c){var d,e,f,g,h,i=[].slice;e=a("bluebird"),d=a("baconjs"),f=function(a){return function(b){return function(c){var d;return{message:function(){try{return JSON.stringify(function(){switch(typeof c){case"function":return c.toString();default:return c}}())}catch(a){return d=a,"Failed to log message: "+d.toString()}}(),date:(new Date).getTime(),level:b,location:a.location.href,screen_id:a.AG_SCREEN_ID,layer_id:a.AG_LAYER_ID,view_id:a.AG_VIEW_ID}}}},h=function(a,b){return a.onValue(b)},g=function(a){var b;return b=new d.Bus,{"in":function(a){return b.push(a)},out:b.map(a)}},b.exports=function(a,b){var c,j,k,l;return j=function(){return new e(function(b){return a.app.host.getURL({},{onSuccess:function(a){return b(""+a+"/__appgyver/logger")}})})},l=function(){return new e(function(b,c){return a.app.getMode({},{onSuccess:function(a){return"scanner"===a?b("Inside Scanner, autoflush allowed"):c("Not in a Scanner app, disabling autoflush for logging")}})})},k=function(a){return function(c){var d;return d=new b.XMLHttpRequest,d.open("POST",a,!0),d.setRequestHeader("Content-Type","application/json;charset=UTF-8"),d.send(JSON.stringify(c)),d}},c=function(a){return function(){return l().then(function(){return j().then(function(b){return h(a,k(b))})},function(a){return console.log(a)})}},function(a){var b,f,h;return f=new d.Bus,h={info:g(a("info")),warn:g(a("warn")),error:g(a("error")),debug:g(a("debug"))},f.plug(h.info.out),f.plug(h.warn.out),f.plug(h.error.out),f.plug(h.debug.out),h.info.out.onValue(function(a){return console.log("supersonic.logger.info:",JSON.parse(a.message));
}),h.warn.out.onValue(function(a){return console.log("supersonic.logger.warn:",JSON.parse(a.message))}),h.error.out.onValue(function(a){return console.error("supersonic.logger.error:",JSON.parse(a.message))}),b={autoFlush:c(f),log:h.info["in"],debuggable:function(a){return function(c,d){return function(){var f;return f=1<=arguments.length?i.call(arguments,0):[],b.debug(""+a+"."+c+" called"),d.apply(null,f).then(function(d){return b.debug(""+a+"."+c+" resolved"),d},function(d){var f;return f=null!=(null!=d?d.errorDescription:void 0)?d.errorDescription:JSON.stringify(d),b.error(""+a+"."+c+" rejected: "+f),e.reject(d)})}}},info:h.info["in"],warn:h.warn["in"],error:h.error["in"],debug:h.debug["in"]}}(f(b))}},{baconjs:202,bluebird:203}],333:[function(a,b,c){var d,e,f;d=a("bluebird"),f=a("../superify"),e=a("../events").deviceready,b.exports=function(a,b){var c,g,h;return g=f("supersonic.media.camera",b),h=g.promiseF("takePicture",function(a){var b;return null==a&&(a={}),b=function(){var b,c,d,e;return d=function(){if(null==(null!=a?a.destinationType:void 0))return Camera.DestinationType.FILE_URI;switch(a.destinationType){case"dataURL":return Camera.DestinationType.DATA_URL;case"fileURI":return Camera.DestinationType.FILE_URI;case"nativeURI":return Camera.DestinationType.NATIVE_URI}}(),e=function(){if(null==(null!=a?a.encodingType:void 0))return Camera.EncodingType.JPEG;switch(a.encodingType){case"jpeg":return Camera.EncodingType.JPEG;case"png":return Camera.EncodingType.PNG}}(),b=function(){if(null==(null!=a?a.cameraDirection:void 0))return Camera.Direction.BACK;switch(a.cameraDirection){case"back":return Camera.Direction.BACK;case"front":return Camera.Direction.FRONT}}(),c={quality:(null!=a?a.quality:void 0)||100,destinationType:d,allowEdit:null!=(null!=a?a.allowEdit:void 0)||!1,encodingType:e,targetWidth:null!=a?a.targetWidth:void 0,targetHeight:null!=a?a.targetHeight:void 0,correctOrientation:null!=(null!=a?a.correctOrientation:void 0)||!0,saveToPhotoAlbum:null!=(null!=a?a.saveToPhotoAlbum:void 0)||!1,cameraDirection:b}},e.then(b).then(function(a){return new d(function(b,c){return navigator.camera.getPicture(b,c,a)})})}),c=g.promiseF("getFromPhotoLibrary",function(a){var b;return null==a&&(a={}),b=function(){var b,c,d,e;return c=function(){if(null==(null!=a?a.destinationType:void 0))return Camera.DestinationType.FILE_URI;switch(a.destinationType){case"dataURL":return Camera.DestinationType.DATA_URL;case"fileURI":return Camera.DestinationType.FILE_URI;case"nativeURI":return Camera.DestinationType.NATIVE_URI}}(),d=function(){if(null==(null!=a?a.encodingType:void 0))return Camera.EncodingType.JPEG;switch(a.encodingType){case"jpeg":return Camera.EncodingType.JPEG;case"png":return Camera.EncodingType.PNG}}(),e=function(){if(null==(null!=a?a.mediaType:void 0))return Camera.MediaType.PICTURE;switch(a.mediaType){case"picture":return Camera.MediaType.PICTURE;case"video":return Camera.MediaType.VIDEO;case"allMedia":return Camera.MediaType.ALLMEDIA}}(),b={sourceType:Camera.PictureSourceType.PHOTOLIBRARY,quality:(null!=a?a.quality:void 0)||100,destinationType:c,allowEdit:null!=(null!=a?a.allowEdit:void 0)||!1,encodingType:d,targetWidth:null!=a?a.targetWidth:void 0,targetHeight:null!=a?a.targetHeight:void 0,mediaType:e,correctOrientation:null!=(null!=a?a.correctOrientation:void 0)||!0}},e.then(b).then(function(a){return new d(function(b,c){return navigator.camera.getPicture(b,c,a)})})}),{takePicture:h,getFromPhotoLibrary:c}}},{"../events":331,"../superify":345,bluebird:203}],334:[function(a,b,c){var d;d=a("bluebird"),b.exports=function(b,c){return{camera:a("./camera")(b,c)}}},{"./camera":333,bluebird:203}],335:[function(a,b,c){var d;d=a("qs"),b.exports=function(a,b,c){var e,f,g,h,i,j;return g=function(a){var c;return null!=b&&null!=(c=b.frameElement)&&"function"==typeof c.getAttribute?c.getAttribute("data-"+a):void 0},j=function(a){var b,c,e;return b=function(){var b;return b=(null!=a?a.location.href:void 0)||"",b.slice(b.indexOf("?")+1)},c=function(){return d.parse(b())},e=null,function(a){return null==e&&(e=c()),e[a]}},h=j(c),f=j(b),e=function(a,b){var c,d,e,i,j;for(null==b&&(b=null),j=[g,f,h],e=0,i=j.length;i>e;e++)if(c=j[e],d=c(a),null!=d)return d;return b},i=function(a){return null!=g(a)||null!=f(a)||null!=h(a)},{get:e,has:i}}},{qs:288}],336:[function(a,b,c){var d,e,f,g,h,i;g=a("lodash/lang/isFunction"),i=a("lodash/object/set"),f=a("lodash/object/has"),e=a("lodash/object/get"),h=a("lodash/object/merge"),d=a("lodash/function/compose"),b.exports=function(a,b){var c,j,k,l,m,n,o,p;return k=function(){return null!=b.frameElement},j=function(){switch(!1){case!k():return function(){var a;return n(),a=m(),o(a),l()};default:return p=function(){}}}(),c=function(c){return a.document.addEventListener(c,function(){var a;return a=b.document.createEvent("Events"),a.initEvent(c,!1,!1),b.document.dispatchEvent(a)})},o=function(a){var c,j,k,l,m,n,o,p,q,r,s;if(null!=a){for(o=a.require("cordova/plugin_list"),j=function(a){return function(b){return a(0===(null!=b?b.indexOf("window."):void 0)?b.substring(7):b)}},c=function(a,c){var d;return g(a)?i(b,c,a):f(b,c)?(d=e(b,c),h(d,a)):i(b,c,a)},k=function(b){var d;return(null!=(d=b.clobbers)?d.length:void 0)>0&&b.clobbers.forEach(j(function(d){var e;return e=a.require(b.id),c(e,d)})),b},l=function(d){var e;return(null!=(e=d.merges)?e.length:void 0)>0&&d.merges.forEach(j(function(e){var f;return f=a.require(d.id),null!=e&&"window"===e?h(b,f):""!==e?c(f,e):void 0})),d},m=d(k,l),r=o||[],s=[],p=0,q=r.length;q>p;p++)n=r[p],s.push(m(n));return s}},m=function(){return null!=(null!=a?a.cordova:void 0)?(b.cordova=a.cordova,b.cordova):void 0},n=function(){var c;if(null!=a&&null!=(c=a.steroids)?c.version:void 0)return b.steroids=a.steroids},l=function(){return["deviceready"].forEach(c)},{init:j}}},{"lodash/function/compose":233,"lodash/lang/isFunction":274,"lodash/object/get":280,"lodash/object/has":281,"lodash/object/merge":284,"lodash/object/set":285}],337:[function(a,b,c){b.exports=function(b,c,d){var e,f,g,h;return null==c.ag&&(c.ag={}),null==(g=c.ag).module&&(g.module={}),null==d.ag&&(d.ag={}),null==(h=d.ag).module&&(h.module={}),f=function(a){return c.ag.module.driver=a,d.ag.module.driver=a},e=function(){var a;return null!=(a=c.ag.module.driver)?a:d.ag.module.driver},{mpa:a("./drivers/mpa")(b),current:{set:f,get:e}}}},{"./drivers/mpa":338}],338:[function(a,b,c){var d;d=a("bluebird"),b.exports=function(a){return{layers:{push:function(b,c){return new d(function(c,d){var e;return e=new a.views.WebView({location:b}),a.layers.push({view:e},{onSuccess:c,onFailure:function(a){return d(new Error(a.errorDescription))}})})},pop:function(b){return new d(function(b,c){return a.layers.pop({},{onSuccess:b,onFailure:function(a){return c(new Error(a.errorDescription))}})})}},modal:{show:function(b,c){return new d(function(c,d){var e;return e=new a.views.WebView({location:b}),a.modal.show({view:e},{onSuccess:c,onFailure:function(a){return d(new Error(a.errorDescription))}})})},hide:function(b){return new d(function(b,c){return a.modal.hide({},{onSuccess:b,onFailure:function(a){return c(new Error(a.errorDescription))}})})}}}}},{bluebird:203}],339:[function(a,b,c){var d;d=a("bluebird"),b.exports=function(a){var b,c,e,f,g,h,i,j,k,l,m,n,o,p,q;return c="iframe[data-module]",e="data-module-indicate-loading",b="data-module-name",f='<div class="super-module__load-indicator">\n  <i class="icon super-loading-c"></i>\n  &nbsp;\n  Loading\n  <b bind-module-name></b>...\n</div>',a.document.addEventListener("DOMContentLoaded",function(){return d.delay(0).then(function(){return a.document.body.querySelectorAll("[data-module-load-indicator-template]").length&&p(a.document.body.querySelectorAll("[data-module-load-indicator-template]")[0].innerHTML),l(),h().map(g)})}),l=function(){var b;if(null!=(null!=a?a.MutationObserver:void 0))return b=new MutationObserver(function(a){var b,c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(function(a){var b,c,d,e,f;if("object"==typeof a.addedNodes){for(e=a.addedNodes,f=[],c=0,d=e.length;d>c;c++)b=e[c],"IFRAME"===b.nodeName&&(b.hasAttribute("data-module")?f.push(g(b)):f.push(void 0));return f}}(b));return e}),b.observe(a.document,{childList:!0,subtree:!0})},m=function(a){var b;return b=new a.contentWindow.MutationObserver(function(){return i(a),o(a)}),b.observe(a.contentDocument.body,{childList:!0,subtree:!0}),a},g=function(a){return a.hasAttribute(e)&&q(a),a.onload=function(){return d.delay(100).then(function(){return m(a),k(a),o(a),i(a),d.delay(500).then(function(){return o(a)})})}},j=function(c){var d,e,g,h,i;for(e=a.document.createElement("DIV"),e.setAttribute("data-module-load-indicator",""),e.innerHTML=f,i=e.querySelectorAll("[bind-module-name]"),g=0,h=i.length;h>g;g++)d=i[g],d.innerHTML=c.getAttribute(b);return e},i=function(a){return d.delay(0).then(function(){var b,c,d,e,f;for(e=a.contentDocument.body.querySelectorAll("img"),f=[],c=0,d=e.length;d>c;c++)b=e[c],b.complete||f.push(b.onload=function(){return o(a)});return f})},h=function(b){return null==b&&(b=null),b||(b=a.document.body),Array.prototype.slice.call(b.querySelectorAll(c))},n=function(a){return g(a)},o=function(b){var c,d,e,f,g,h;for(e=a.getComputedStyle(b.contentDocument.body,null),d=parseInt(e.getPropertyValue("padding-top"))+parseInt(e.getPropertyValue("padding-bottom")),h=b.contentDocument.querySelectorAll("body > *:not(script):not(link):not(style)"),f=0,g=h.length;g>f;f++)c=h[f],d+=c.offsetHeight;return b.style.height=""+d+"px",b},q=function(a){return a.style.display="none",a.parentNode.insertBefore(j(a),a.nextSibling)},k=function(a){var b;return(null!=(b=a.nextElementSibling)?b.hasAttribute("data-module-load-indicator"):void 0)&&a.nextElementSibling.remove(),a.style.display="block",o(a)},p=function(a){return f=a},{findAll:h,register:n,resize:o,showLoadIndicator:q,hideLoadIndicator:k}}},{bluebird:203}],340:[function(a,b,c){b.exports=function(b,c,d,e,f,g){var h,i,j;return j=a("./router")(c,f,g),i=a("./drivers")(b,d,g),h=a("./cordova-support")(d,g),h.init(),null==i.current.get()&&i.current.set(i.mpa),{router:j,drivers:i,cordovaSupport:h,attributes:a("./attributes")(c,g,d),iframes:a("./iframes")(g),layers:a("./layers")(c,j,i.current.get,g),modal:a("./modal")(c,j,i.current.get,g),transitions:a("./transitions")(b,e,c)}}},{"./attributes":335,"./cordova-support":336,"./drivers":337,"./iframes":339,"./layers":341,"./modal":342,"./router":343,"./transitions":344}],341:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(a,b,c,f){var g;return g=e("supersonic.module.layers",a),{push:g.promiseF("push",function(a,e){var g;return null==e&&(e={}),g=b.getPath(a,e),d.resolve(c().layers.push(g,{route:a,attributes:e,origin:f}))}),pop:g.promiseF("pop",function(){return d.resolve(c().layers.pop({origin:f}))})}}},{"../superify":345,bluebird:203}],342:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(a,b,c,f){var g;return g=e("supersonic.module.modal",a),{show:g.promiseF("show",function(a,e){var g;return null==e&&(e={}),null==e.disable_header&&(e.disable_header=!0),g=b.getPath(a,e),d.resolve(c().modal.show(g,{route:a,attributes:e,origin:f}))}),hide:g.promiseF("hide",function(){return d.resolve(c().modal.hide({origin:f}))})}}},{"../superify":345,bluebird:203}],343:[function(a,b,c){var d,e=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};d=a("qs"),b.exports=function(a,b,c){var f,g,h,i,j,k,l,m,n;return h=/^([^#?]+)?(#([^?]+))?(\?(.+))?$/,g="/modules",f="index",i=function(a,b){switch(!1){case!!Object.keys(b).length:return a;case e.call(a,"?")<0:return""+a+"&"+d.stringify(b);default:return""+a+"?"+d.stringify(b)}},l=function(a,b){return""+g+"/"+a+"/"+b+".html"},m=function(a,c){var d,e,f,g,h;return null!=(null!=b&&null!=(d=b.modules)&&null!=(e=d.routes)&&null!=(f=e[a])&&null!=(g=f.views)&&null!=(h=g[c])?h.path:void 0)},j=function(){var a,c;return a=function(a,b,c,d){var e,f,g,h;g=null!=c?c:{},h=[];for(e in g)if(f=g[e],f.required){if(null==(null!=d?d[e]:void 0))throw new Error("Missing required parameter '"+e+"' for route to '"+a+"#"+b+"'");h.push(void 0)}return h},c=function(a,b){var c,d,e,f;d={},f=null!=b?b:{};for(c in f)e=f[c],a.match(":"+c)?a=a.replace(new RegExp(":"+c,"g"),encodeURIComponent(e)):d[c]=e;return[a,d]},function(d,e,f){var g,h,j,k,l;return h=null!=b&&null!=(j=b.modules)&&null!=(k=j.routes)?k[d].views[e]:void 0,a(d,e,h.params,f),l=c(h.path,f),g=l[0],f=l[1],i(g,f)}}(),k=function(a,b){var d,e,f;return e=c.location.href.replace(c.location.origin,""),d=e.substring(0,e.lastIndexOf("/")+1),f=""+d+a+".html",i(f,b)},n=function(a,b){var c,e,f,g;e={};for(c in b)f=b[c],e[c]=f;g=d.parse(a);for(c in g)f=g[c],e[c]=f;return e},{getPath:function(a,b){var c,d,e,g,o,p,q;if(null==b&&(b={}),"string"!=typeof a)throw new Error("Route must be a string");if(d=h.exec(a),null==d)throw new Error("Did not recognize route format in: '"+a+"'");return p=d[0],c=d[1],q=d[2],o=d[3],q=d[4],e=d[5],null==o&&(o=f),null==e&&(e=""),g=n(e,b),c?m(c,o)?j(c,o,g):i(l(c,o),g):k(o,g)}}}},{qs:288}],344:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(a,b,c){var f;return f=e("supersonic.module.transitions",c),{push:f.promiseF("push",function(){return b.animate("slideFromRight",{duration:.5,curve:"easeInOut"}).perform().then(function(){return a.view.displayLoading(),d.delay(1e3).then(function(){return a.view.removeLoading()})})}),pop:f.promiseF("pop",function(){return b.animate("slideFromLeft",{duration:.5,curve:"easeInOut"}).perform()})}}},{"../superify":345,bluebird:203}],345:[function(a,b,c){var d,e,f=[].slice;d=a("baconjs"),e=a("bluebird"),b.exports=function(a,b){return{promiseF:function(c,d){return function(){var g,h,i;return g=2<=arguments.length?f.call(arguments,0,i=arguments.length-1):(i=0,[]),h=arguments[i++],null==(null!=h?h.onSuccess:void 0)&&null==(null!=h?h.onFailure:void 0)&&(g=f.call(g).concat([h]),h=null),b.debug(""+a+"."+c+" called"),d.apply(null,g).then(function(d){return b.debug(""+a+"."+c+" resolved"),null!=(null!=h?h.onSuccess:void 0)?"function"==typeof h.onSuccess?h.onSuccess(d):void 0:d},function(d){var f;return f=null!=(null!=d?d.errorDescription:void 0)?d.errorDescription:JSON.stringify(d),b.error(""+a+"."+c+" rejected: "+f),null!=(null!=h?h.onFailure:void 0)?h.onFailure(d):e.reject(d)})}},streamF:function(c,e){return function(){var g,h,i,j;return g=2<=arguments.length?f.call(arguments,0,j=arguments.length-1):(j=0,[]),h=arguments[j++],null==(null!=h?h.onSuccess:void 0)&&null==(null!=h?h.onFailure:void 0)&&(g=f.call(g).concat([h]),h=null),b.debug(""+a+"."+c+" called"),i=e.apply(null,g).mapError(function(e){return b.error(""+a+"."+c+" produced an error: "+e),new d.Error(err)}),null!=(null!=h?h.onSuccess:void 0)&&i.onValue(h.onSuccess),null!=(null!=h?h.onFailure:void 0)&&i.onError(h.onFailure),i}}}}},{baconjs:202,bluebird:203}],346:[function(a,b,c){var d;d=a("bluebird"),b.exports=function(a,b){var c;return c=function(){function b(b){var c,d;c=new a.buttons.NavigationBarButton;for(d in b)c[d]=b[d];return c}return b}(),function(a){return new c(a)}}},{bluebird:203}],347:[function(a,b,c){var d,e,f=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};d=a("bluebird"),e=a("./views/parseRoute"),b.exports=function(a,b){var c,g;return g=function(){return new d(function(b,c){return a.getApplicationState({},{onSuccess:b,onFailure:c})})},c=function(){function b(b){var c;if(this.options=null!=b?b:{},"String"===(null!=(c=this.options.constructor)?c.name:void 0)&&(this.options={location:this.options}),!this.options.location)throw new Error("Cannot initialize a View without any parameters");this.id=this.options.id,this.location=this.options.location,this._webView=new a.views.WebView({location:e(this.location)})}return b.prototype._webView=null,b.prototype.id=null,b.prototype.isStarted=function(){return new d(function(a){return function(b,c){return null==a.id&&b(!1),g().then(function(c){var d,e;return e=a.id,f.call(function(){var a,b,e,f;for(e=c.preloads,f=[],a=0,b=e.length;b>a;a++)d=e[a],f.push(d.id);return f}(),e)>=0?(a._webView.id=a.id,b(!0)):b(!1)})}}(this))},b.prototype.getId=function(){return this.id},b.prototype.setId=function(a){return new d(function(b){return function(c,d){return b.isStarted().then(function(e){return e?d(new Error("Cannot change View identifier after it has been started. Stop the View first and then change the identifier.")):(b.id=a,b._webView.id=a,c(a))})}}(this))},b.prototype.getLocation=function(){return this.location},b.prototype.start=function(a){return new d(function(b){return function(c,d){var e;return e=function(a){return a.preload({},{onSuccess:function(){return b.id=a.id,c(b)},onFailure:function(a){return d(new Error(a.errorDescription))}})},null!=a?b.setId(a).then(function(){return e(b._webView)}):b.id?(b._webView.id=b.id,e(b._webView)):d(new Error("Cannot start a View without an identifier."))}}(this))},b.prototype.stop=function(){return new d(function(a){return function(b,c){var d;return d=a._webView,d.id=a.getId(),d.unload({},{onSuccess:function(){return a._webView.id=null,b()},onFailure:function(a){return c(new Error(a.errorMessage))}})}}(this))},b.prototype.on=function(a,b){return new d(function(c){return function(d,e){var f,g;try{return g=c._webView.on(a,b),d(g)}catch(h){return f=h,e(f)}}}(this))},b.prototype.off=function(a,b){return new d(function(c){return function(d,e){var f;try{return c._webView.off(a,b),d()}catch(g){return f=g,e(f)}}}(this))},b}()}},{"./views/parseRoute":363,bluebird:203}],348:[function(a,b,c){var d,e=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};d=a("bluebird"),b.exports=function(a,b){var c,f,g,h;return g=b.debuggable("supersonic.ui.animate"),f=["easeInOut","easeIn","easeOut","linear"],c=["curlDown","curlUp","fade","flipHorizontalFromRight","flipHorizontalFromLeft","flipVerticalFromTop","flipVerticalFromBottom","slideFromTop","slideFromRight","slideFromLeft","slideFromBottom"],h=function(a){switch(a){case"easeIn":return"easeOut";case"easeOut":return"easeIn";default:return a}},function(b,g){var i,j,k,l;if(null==g&&(g={}),j={},e.call(c,b)<0)throw new Error("AnimationType '"+b+"' is not supported'. Available types: "+JSON.stringify(c));if(j.transition=b,null!=g.reversedAnimationType&&(j.reversedTransition=g.reversedAnimationType),null!=g.curve){if(l=g.curve,e.call(f,l)<0)throw new Error("Animation curve '"+g.curve+"' is not supported. Available curves: "+JSON.stringify(f));j.curve=g.curve}return null!=g.reversedCurve?j.reversedCurve=g.reversedCurve:null!=j.curve&&(j.reversedCurve=h(j.curve)),null!=g.duration&&(j.duration=g.duration,null==g.reversedDuration&&(j.reversedDuration=g.duration)),i=new a.Animation(j),k=i.perform,i.perform=function(){var a,b,c,e;return b=d.pending(),a=d.pending(),e={started:b.promise,ended:a.promise},c=new d(function(c,d){return k({},{onSuccess:function(){return c(e)},onFailure:function(a){return d(a)},onAnimationStarted:function(){return b.resolve(e.ended)},onAnimationEnded:function(){return a.resolve()}})}),c["catch"](function(c){return b.reject(c),a.reject(c)})},i}}},{bluebird:203}],349:[function(a,b,c){var d,e,f;d=a("bluebird"),e=a("../../events").deviceready,f=a("../../superify"),b.exports=function(a,b){var c,g;return g=f("supersonic.ui.dialog",b),c=g.promiseF("alert",function(a,b){var c,f;return null==b&&(b={}),a=a||"Alert",f=(null!=b?b.message:void 0)||new String,c=(null!=b?b.buttonLabel:void 0)||"OK",e.then(function(){return new d(function(b){return navigator.notification.alert(f,b,a,c)})})})}},{"../../events":331,"../../superify":345,bluebird:203}],350:[function(a,b,c){var d,e,f;d=a("bluebird"),e=a("../../events").deviceready,f=a("../../superify"),b.exports=function(a,b){var c,g;return g=f("supersonic.ui.dialog",b),c=g.promiseF("confirm",function(a,b){var c,f;return null==b&&(b={}),a=a||"Confirm",f=(null!=b?b.message:void 0)||new String,c=(null!=b?b.buttonLabels:void 0)||["OK","Cancel"],e.then(function(){return new d(function(b){return navigator.notification.confirm(f,b,a,c)})}).then(function(a){return a-1})})}},{"../../events":331,"../../superify":345,bluebird:203}],351:[function(a,b,c){b.exports=function(b,c){return{alert:a("./alert")(b,c),confirm:a("./confirm")(b,c),prompt:a("./prompt")(b,c)}}},{"./alert":349,"./confirm":350,"./prompt":352}],352:[function(a,b,c){var d,e,f;d=a("bluebird"),e=a("../../events").deviceready,f=a("../../superify"),b.exports=function(a,b){var c,g;return g=f("supersonic.ui.dialog",b),c=g.promiseF("prompt",function(a,b){var c,f,g;return null==b&&(b={}),a=a||"Prompt",g=(null!=b?b.message:void 0)||new String,c=(null!=b?b.buttonLabels:void 0)||["OK","Cancel"],f=(null!=b?b.defaultText:void 0)||new String,e.then(function(){return new d(function(b){return navigator.notification.prompt(g,b,a,c,f)})}).then(function(a){return{buttonIndex:a.buttonIndex-1,input:a.input1}})})}},{"../../events":331,"../../superify":345,bluebird:203}],353:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(a,b){var c;return c=e("supersonic.ui.drawers",b),{init:c.promiseF("init",function(b,c){return null==c&&(c={}),new d(function(d,e){var f;return"FreshAndroidBridge"===a.nativeBridge.constructor.name?void e(new Error("Android does not support enabling drawers on runtime.")):(f=function(b){var f,g,h;return f={},h=b._webView,g=null!=c.side?c.side:"left",null!=(null!=c?c.width:void 0)&&(h.widthOfDrawerInPixels=c.width),f[g]=h,a.drawers.update(f,{onSuccess:d,onFailure:function(a){return e(new Error(a.errorDescription))}})},supersonic.ui.views.find(b).then(function(a){return a.isStarted().then(function(b){return b?f(a):a.start(a.getLocation()).then(function(){return f(a)})})}))})}),open:c.promiseF("open",function(b,c){var e;return null==b&&(b="left"),e="right"===b?a.screen.edges.RIGHT:a.screen.edges.LEFT,new d(function(b,c){return a.drawers.show({edge:e},{onSuccess:b,onFailure:c})})}),close:c.promiseF("close",function(){return new d(function(b,c){return a.drawers.hide({},{onSuccess:b,onFailure:c})})}),enable:c.promiseF("enable",function(b,c){return null==b&&(b="left"),new d(function(c,d){return a.drawers.enable({side:b},{onSuccess:c,onFailure:d})})}),disable:c.promiseF("disable",function(b,c){return null==b&&(b="left"),new d(function(c,d){return a.drawers.disable({side:b},{onSuccess:c,onFailure:d})})}),updateOptions:c.promiseF("updateOptions",function(b){var c,e,f,g,h,i;return f={},null!=(null!=b?b.animation:void 0)&&(e="string"==typeof b.animation?b.animation:b.animation.type,c=function(){switch(e){case"slide":return a.drawers.defaultAnimations.SLIDE;case"slideAndScale":return a.drawers.defaultAnimations.SLIDE_AND_SCALE;case"swingingDoor":return a.drawers.defaultAnimations.SWINGING_DOOR;case"parallax":return a.drawers.defaultAnimations.PARALLAX}}(),null!=(null!=b&&null!=(g=b.animation)?g.duration:void 0)&&(c.duration=c.reversedDuration=b.animation.duration),f.animation=c),null!=(null!=b?b.shadow:void 0)&&(f.showShadow=b.shadow),null!=(null!=b&&null!=(h=b.gestures)?h.open:void 0)&&(f.openGestures=b.gestures.open),null!=(null!=b&&null!=(i=b.gestures)?i.close:void 0)&&(f.closeGestures=b.gestures.close),new d(function(b,c){return a.drawers.update({options:f},{onSuccess:b,onFailure:c})})}),whenWillShow:function(b){var c;return c=a.drawers.on("willshow",b),function(){return a.drawers.off("willshow",c)}},whenDidShow:function(b){var c;return c=a.drawers.on("didshow",b),function(){return a.drawers.off("didshow",c)}},whenWillClose:function(b){var c;return c=a.drawers.on("willclose",b),function(){return a.drawers.off("willclose",c)}},whenDidClose:function(b){var c;return c=a.drawers.on("didclose",b),function(){return a.drawers.off("didclose",c)}}}}},{"../superify":345,bluebird:203}],354:[function(a,b,c){b.exports=function(b,c,d){return{View:a("./View")(b,c),screen:a("./screen")(b,c),views:a("./views")(b,c,d),layers:a("./layers")(b,c),drawers:a("./drawers")(b,c),tabs:a("./tabs")(b,c),modal:a("./modal")(b,c),dialog:a("./dialog")(b,c),initialView:a("./initialView")(b,c),navigationBar:a("./navigationBar")(b,c),NavigationBarButton:a("./NavigationBarButton")(b,c),animate:a("./animate")(b,c)}}},{"./NavigationBarButton":346,"./View":347,"./animate":348,"./dialog":351,"./drawers":353,"./initialView":355,"./layers":356,"./modal":357,"./navigationBar":358,"./screen":359,"./tabs":360,"./views":361}],355:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(a,b){var c;return c=e("supersonic.ui.initialView",b),{show:c.promiseF("show",function(b){var c;return null==b&&(b="fade"),c="string"==typeof b?supersonic.ui.animate(b):b,new d(function(b,d){return a.initialView.show({animation:c},{onSuccess:b,onFailure:d})})}),dismiss:c.promiseF("dismiss",function(b){var c;return null==b&&(b="fade"),c="string"==typeof b?supersonic.ui.animate(b):b,new d(function(b,d){return a.initialView.dismiss({animation:c},{onSuccess:b,onFailure:d})})})}}},{"../superify":345,bluebird:203}],356:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(a,b){var c;return c=e("supersonic.ui.layers",b),{push:c.promiseF("push",function(b,c){return null==c&&(c={}),supersonic.ui.views.find(b).tap(function(a){return a.isStarted().then(function(b){return null!=c.params?b?supersonic.data.channel("view-params-"+a.id).publish(c.params):a._webView.setParams(c.params):void 0})}).then(function(b){return new d(function(d,e){return a.layers.push({view:b._webView,animation:c.animation},{onSuccess:function(){return d(b)},onFailure:function(a){return e(new Error(a.errorDescription))}})})})}),pop:c.promiseF("pop",function(){return new d(function(b,c){return a.layers.pop({},{onSuccess:function(){return b()},onFailure:function(a){return c(a)}})})}),popAll:c.promiseF("popAll",function(){return new d(function(b,c){return a.layers.popAll({},{onSuccess:function(){return b()},onFailure:function(a){return c(new Error(a.errorDescription))}})})}),replace:c.promiseF("replace",function(b){return supersonic.ui.views.find(b).then(function(b){return new d(function(c,d){return a.layers.replace(b._webView,{onSuccess:function(){return c},onFailure:function(a){return d(a)}})})})})}}},{"../superify":345,bluebird:203}],357:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(a,b){var c;return c=e("supersonic.ui.modal",b),{show:c.promiseF("show",function(b,c){return null==c&&(c={}),new d(function(d,e){return supersonic.ui.views.find(b).tap(function(a){return a.isStarted().then(function(b){return null!=c.params?b?(supersonic.logger.log("Sending parameters ("+c.params+") to view (id: "+a.id+")"),supersonic.data.channel("view-params-"+a.id).publish(c.params)):a._webView.setParams(c.params):void 0})}).then(function(b){return c.view=b._webView,c.disableAnimation=function(){if(null==(null!=c?c.animate:void 0))return!1;switch(c.animate){case!0:return!1;case!1:return!0}}(),a.modal.show(c,{onSuccess:function(){return d(b)},onFailure:function(a){return e(new Error(a.errorDescription))}})})})}),hide:c.promiseF("hide",function(b){return null==b&&(b={}),b.disableAnimation=function(){if(null==(null!=b?b.animate:void 0))return!1;switch(b.animate){case!0:return!1;case!1:return!0}}(),new d(function(c,d){return a.modal.hide(b,{onSuccess:c,onFailure:function(a){return d(a)}})})}),hideAll:c.promiseF("hideAll",function(b){return null==b&&(b={}),b.disableAnimation=function(){if(null==(null!=b?b.animate:void 0))return!1;switch(b.animate){case!0:return!1;case!1:return!0}}(),new d(function(c,d){return a.modal.hideAll(b,{onSuccess:c,onFailure:function(a){return d(a)}})})})}}},{"../superify":345,bluebird:203}],358:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(a,b){var c;return c=e("supersonic.ui.navigationBar",b),{show:c.promiseF("show",function(b){var c;return null==b&&(b={}),c={animated:b.animated},new d(function(b,d){return a.view.navigationBar.show(c,{onSuccess:b,onFailure:d})})}),hide:c.promiseF("hide",function(b){return null==b&&(b={}),new d(function(c,d){return a.view.navigationBar.hide(b,{onSuccess:c,onFailure:d})})}),update:c.promiseF("update",function(b){return new d(function(c,d){return a.view.navigationBar.update(b,{onSuccess:c,onFailure:d})})}),setClass:c.promiseF("setClass",function(b){return new d(function(c,d){return a.view.navigationBar.setStyleClass(b,{onSuccess:c,onFailure:d})})}),setStyle:c.promiseF("setStyle",function(b){return new d(function(c,d){return a.view.navigationBar.setStyleCSS(b,{onSuccess:c,onFailure:d})})}),setStyleId:c.promiseF("setStyleId",function(b){return new d(function(c,d){return a.view.navigationBar.setStyleId(b,{onSuccess:c,onFailure:d})})})}}},{"../superify":345,bluebird:203}],359:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(a,b){var c;return c=e("supersonic.ui.screen",b),{setAllowedRotations:c.promiseF("setAllowedRotations",function(b){return new d(function(c,d){return a.screen.setAllowedRotations({allowedRotations:b},{onSuccess:c,onFailure:d})})}),rotateTo:c.promiseF("rotateTo",function(b){var c;return c="string"==typeof b?b:null!=(null!=b?b.orientation:void 0)?b.orientation:void 0,new d(function(b,d){return a.screen.rotate({orientation:c},{onSuccess:b,onFailure:d})})})}}},{"../superify":345,bluebird:203}],360:[function(a,b,c){var d,e,f;d=a("bluebird"),e=a("./views/parseRoute"),f=a("../superify"),b.exports=function(a,b){var c;return c=f("supersonic.ui.tabs",b),{show:c.promiseF("show",function(){return new d(function(b,c){return a.tabBar.show({},{onSuccess:b,onFailure:c})})}),hide:c.promiseF("hide",function(){return new d(function(b,c){return a.tabBar.hide({},{onSuccess:b,onFailure:c})})}),update:c.promiseF("update",function(b){return new d(function(c,d){return a.tabBar.update({tabs:b},{onSuccess:c,onFailure:d})})}),replace:c.promiseF("replace",function(b){var c,f,g;for(f=0,g=b.length;g>f;f++)c=b[f],c.location=e(c.location,{prefix:"http://localhost/"});return new d(function(c,d){return a.tabBar.replace({tabs:b},{onSuccess:c,onFailure:d})})}),select:c.promiseF("select",function(b){return new d(function(c,d){return a.tabBar.selectTab({index:b},{onSuccess:c,onFailure:d})})}),updateCurrentTab:c.promiseF("updateCurrentTab",function(b){if(null==b&&(b={}),"object"!=typeof b||!Object.keys(b).length)throw new Error("Could not update current tab without configuration object");return new d(function(c,d){return a.tabBar.currentTab.update(b,{onSuccess:c,onFailure:d})})}),setStyleClass:c.promiseF("setStyleClass",function(b){return new d(function(c,d){return a.tabBar.setStyleClass(b,{onSuccess:c,onFailure:d})})}),setStyleId:c.promiseF("setStyleId",function(b){return new d(function(c,d){return a.tabBar.setStyleId(b,{onSuccess:c,onFailure:d})})}),setStyleCSS:c.promiseF("setStyleCSS",function(b){return new d(function(c,d){return a.tabBar.setStyleCSS(b,{onSuccess:c,onFailure:d})})}),whenWillChange:function(b){var c;return c=a.tabBar.on("willchange",b),function(){return a.tabBar.off("willchange",c)}},whenDidChange:function(b){var c;return c=a.tabBar.on("didchange",b),function(){return a.tabBar.off("didchange",c)}}}}},{"../superify":345,"./views/parseRoute":363,bluebird:203}],361:[function(a,b,c){var d,e;d=a("bluebird"),e=a("../superify"),b.exports=function(b,c,f){var g,h,i,j,k,l;return g=a("./View")(b,c),j=e("supersonic.ui.views",c),i=function(){return new d(function(a,c){return b.getApplicationState({},{onSuccess:a,onFailure:c})})},h=j.promiseF("find",function(a){return new d(function(b,c){return"View"===a.constructor.name?void b(a):i().then(function(c){var d,e,f,h,i;for(i=c.preloads,f=0,h=i.length;h>f;f++)if(d=i[f],d.id===a)return e=new g({id:d.id,location:d.startURL}),e._webView.id=d.id,void b(e);return b(new g({location:a,id:a}))})})}),k=j.promiseF("start",function(a){return supersonic.ui.views.find(a).then(function(a){return a.start().then(function(){return a})})}),l=j.promiseF("stop",function(a){return supersonic.ui.views.find(a).then(function(a){return a.stop().then(function(){
return a})})}),{find:h,start:k,stop:l,current:a("./views/current")(b,c,f)}}},{"../superify":345,"./View":347,"./views/current":362,bluebird:203}],362:[function(a,b,c){var d,e,f,g;d=a("baconjs"),e=a("bluebird"),g=a("../../events"),f=a("../../data/channel"),b.exports=function(a,b,c){var h,i,j,k;return i=new d.Bus,j={params:i.toProperty(null!=a&&null!=(k=a.view)?k.params:void 0),id:null},h=function(){return new e(function(b,d){return a.getApplicationState({},{onSuccess:function(a){var e,f;return e=function(){var b,d,e,g,h;for(e=a.preloads,h=[],b=0,d=e.length;d>b;b++)f=e[b],((g=c.location.href)===f.URL||g===f.location)&&h.push(f);return h}(),e.length&&null!=e[0].id?b(e[0].id):d()},onFailure:function(){return d(new Error("Could not get application state"))}})})},h().then(function(a){var b,d,e;return j.id=a,b="view-params-"+j.id,d=null,e=f(c)(b),i.plug(e.inbound)},function(){return b.debug("View '"+c.location.href+"' is not started, will not register channel")}),j.visibility=g.visibility,j.whenVisible=function(a){return g.visibility.filter(function(a){return a}).onValue(a)},j.whenHidden=function(a){return g.visibility.filter(function(a){return!a}).onValue(a)},j}},{"../../data/channel":309,"../../events":331,baconjs:202,bluebird:203}],363:[function(a,b,c){b.exports=function(a,b){var c,d,e,f,g,h,i;return null==b&&(b={}),g=/^([\w\-]+)#([\w\-\/]+)(\?.+)?$/,d=g.exec(a),null!=d?(i=d[0],c=d[1],h=d[2],f=d[3],e="app/"+c+"/"+h+".html"+(f||""),null!=b.prefix&&(e=""+b.prefix+e),e):a}},{}],364:[function(a,b,c){var d;b.exports=d=function(){var a;return a={},{getItem:function(b){return a[b]},setItem:function(b,c){return a[b]=c},removeItem:function(b){return delete a[b]}}}},{}],365:[function(a,b,c){var d=[].slice;b.exports=function(){var a,b,c,e,f;return a={},f=function(a){var b;for(null==a&&(a=8),b="";b.length<a;)b+=Math.random().toString(36).substr(2);return b.substr(0,a)},b=function(b){return null==a[b]&&(a[b]={}),function(c,d){var e;return e={id:f(),fn:d},null!=a[b][c]?a[b][c].push(e):a[b][c]=[e],e.id}},c=function(b){return function(c,d){var e;return a[b][c]=function(){var f,g,h,i;for(h=a[b][c],i=[],f=0,g=h.length;g>f;f++)e=h[f],e.id!==d&&i.push(e);return i}(),!0}},e=function(){var b,c,e,f,g,h,i,j;if(g=arguments[0],f=arguments[1],b=3<=arguments.length?d.call(arguments,2):[],e=a[g][f],null!=e){for(j=[],h=0,i=e.length;i>h;h++)c=e[h],j.push(c.fn.apply(null,b));return j}},{__trigger_event:e,device:{ping:function(){}},app:{host:{getURL:function(){}},getMode:function(){}},tabBar:{on:b("steroids.tabBar.on"),off:c("steroids.tabBar.on")},drawers:{on:b("steroids.drawers.on"),off:c("steroids.drawers.on")},getApplicationState:function(a,b){return"function"==typeof b.onFailure?b.onFailure():void 0}}}()},{}],366:[function(a,b,c){var d,e;e=a("./localStorage"),d=function(){function a(){this.parent=this,this.localStorage=e()}return a.prototype.location={href:""},a.prototype.AG_SCREEN_ID=0,a.prototype.AG_LAYER_ID=0,a.prototype.AG_VIEW_ID=0,a.prototype.document={addEventListener:function(){}},a}(),b.exports=d},{"./localStorage":364}]},{},[293]);