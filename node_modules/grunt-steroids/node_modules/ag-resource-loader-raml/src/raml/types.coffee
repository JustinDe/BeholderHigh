types = require 'ag-types'

traverseByPath = (path, leaf = types.Any) ->
  if path
    [head, tail...] = path.split '.'
    if tail.length
      types.Property head, traverseByPath((tail.join '.'), leaf)
    else
      types.Property head, leaf
  else
    leaf

module.exports = {
  Any: types.Any
  TraverseByPath: traverseByPath
  FromProperty: types.projections.Property
  Try: types.Try
}