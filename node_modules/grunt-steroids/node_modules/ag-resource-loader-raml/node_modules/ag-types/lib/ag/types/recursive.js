(function() {
  var assert;

  assert = require('../assert');

  module.exports = function(typeProvider) {
    var type;
    type = null;
    return function(input) {
      if (type == null) {
        type = typeProvider();
        assert.isFunction(type);
      }
      return type(input);
    };
  };

}).call(this);
